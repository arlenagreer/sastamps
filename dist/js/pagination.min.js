import"./chunk-HMLJZ4T4.min.js";var s=class{constructor(t={}){this.itemsPerPage=t.itemsPerPage||10,this.maxVisiblePages=t.maxVisiblePages||5,this.currentPage=1,this.totalItems=0,this.totalPages=0,this.items=[],this.filteredItems=[],this.callbacks={onPageChange:t.onPageChange||(()=>{}),onRender:t.onRender||(()=>{})},this.containerElement=null,this.paginationElement=null}setData(t,e=null){return this.items=t||[],this.filteredItems=[...this.items],this.totalItems=this.filteredItems.length,e!==null&&(this.itemsPerPage=e),this.calculateTotalPages(),this.currentPage=1,this}filter(t){return typeof t=="function"?this.filteredItems=this.items.filter(t):this.filteredItems=[...this.items],this.totalItems=this.filteredItems.length,this.calculateTotalPages(),this.currentPage=1,this}sort(t){return typeof t=="function"&&this.filteredItems.sort(t),this}getCurrentPageItems(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredItems.slice(t,e)}goToPage(t){let e=Math.max(1,Math.min(t,this.totalPages));return e!==this.currentPage&&(this.currentPage=e,this.callbacks.onPageChange(this.currentPage,this.getCurrentPageItems()),this.render()),this}nextPage(){return this.goToPage(this.currentPage+1)}prevPage(){return this.goToPage(this.currentPage-1)}firstPage(){return this.goToPage(1)}lastPage(){return this.goToPage(this.totalPages)}setItemsPerPage(t){return this.itemsPerPage=t,this.calculateTotalPages(),this.currentPage=1,this.callbacks.onPageChange(this.currentPage,this.getCurrentPageItems()),this.render(),this}bindTo(t){return typeof t=="string"?this.containerElement=document.querySelector(t):this.containerElement=t,this.containerElement?(this.paginationElement=this.containerElement.querySelector(".pagination-controls"),this.paginationElement||(this.paginationElement=document.createElement("div"),this.paginationElement.className="pagination-controls",this.containerElement.appendChild(this.paginationElement)),this):(console.error("Pagination container not found"),this)}render(){return this.paginationElement?this.totalPages<=1?(this.paginationElement.innerHTML="",this.paginationElement.style.display="none",this):(this.paginationElement.style.display="block",this.paginationElement.innerHTML=this.generatePaginationHTML(),this.attachEventListeners(),this.callbacks.onRender(this.currentPage,this.totalPages,this.getCurrentPageItems()),this):this}generatePaginationHTML(){let t=this.getVisiblePages(),e='<div class="pagination-wrapper">';e+=`
            <div class="pagination-info">
                <span>Showing ${this.getStartItem()}-${this.getEndItem()} of ${this.totalItems} items</span>
            </div>
        `,e+='<div class="pagination-nav">',e+=`
            <button class="pagination-btn pagination-first" 
                    ${this.currentPage===1?"disabled":""} 
                    data-page="1" 
                    title="First page">
                <i class="fas fa-angle-double-left"></i>
            </button>
            <button class="pagination-btn pagination-prev" 
                    ${this.currentPage===1?"disabled":""} 
                    data-page="${this.currentPage-1}" 
                    title="Previous page">
                <i class="fas fa-angle-left"></i>
            </button>
        `;for(let a of t)if(a==="...")e+='<span class="pagination-ellipsis">...</span>';else{let i=a===this.currentPage;e+=`
                    <button class="pagination-btn pagination-page ${i?"active":""}" 
                            data-page="${a}"
                            ${i?'aria-current="page"':""}>
                        ${a}
                    </button>
                `}return e+=`
            <button class="pagination-btn pagination-next" 
                    ${this.currentPage===this.totalPages?"disabled":""} 
                    data-page="${this.currentPage+1}" 
                    title="Next page">
                <i class="fas fa-angle-right"></i>
            </button>
            <button class="pagination-btn pagination-last" 
                    ${this.currentPage===this.totalPages?"disabled":""} 
                    data-page="${this.totalPages}" 
                    title="Last page">
                <i class="fas fa-angle-double-right"></i>
            </button>
        `,e+="</div>",e+=`
            <div class="pagination-settings">
                <label for="items-per-page">Items per page:</label>
                <select id="items-per-page" class="items-per-page-select">
                    <option value="5" ${this.itemsPerPage===5?"selected":""}>5</option>
                    <option value="10" ${this.itemsPerPage===10?"selected":""}>10</option>
                    <option value="20" ${this.itemsPerPage===20?"selected":""}>20</option>
                    <option value="50" ${this.itemsPerPage===50?"selected":""}>50</option>
                </select>
            </div>
        `,e+="</div>",e}getVisiblePages(){let t=[],e=Math.floor(this.maxVisiblePages/2),a=Math.max(1,this.currentPage-e),i=Math.min(this.totalPages,a+this.maxVisiblePages-1);i-a+1<this.maxVisiblePages&&(a=Math.max(1,i-this.maxVisiblePages+1)),a>1&&(t.push(1),a>2&&t.push("..."));for(let n=a;n<=i;n++)t.push(n);return i<this.totalPages&&(i<this.totalPages-1&&t.push("..."),t.push(this.totalPages)),t}attachEventListeners(){if(!this.paginationElement)return;this.paginationElement.querySelectorAll(".pagination-btn[data-page]").forEach(e=>{e.addEventListener("click",a=>{a.preventDefault();let i=parseInt(e.dataset.page);!isNaN(i)&&!e.disabled&&this.goToPage(i)})});let t=this.paginationElement.querySelector(".items-per-page-select");t&&t.addEventListener("change",e=>{let a=parseInt(e.target.value);this.setItemsPerPage(a)})}calculateTotalPages(){this.totalPages=Math.max(1,Math.ceil(this.totalItems/this.itemsPerPage))}getStartItem(){return this.totalItems===0?0:(this.currentPage-1)*this.itemsPerPage+1}getEndItem(){return Math.min(this.currentPage*this.itemsPerPage,this.totalItems)}getState(){return{currentPage:this.currentPage,totalPages:this.totalPages,totalItems:this.totalItems,itemsPerPage:this.itemsPerPage,startItem:this.getStartItem(),endItem:this.getEndItem(),hasNext:this.currentPage<this.totalPages,hasPrev:this.currentPage>1,items:this.getCurrentPageItems()}}static addStyles(){if(document.getElementById("pagination-styles"))return;let t=`
            .pagination-controls {
                margin: 2rem 0;
                font-family: var(--font-body, Arial, sans-serif);
            }

            .pagination-wrapper {
                display: flex;
                flex-wrap: wrap;
                align-items: center;
                justify-content: space-between;
                gap: 1rem;
                padding: 1rem;
                background-color: var(--white, #fff);
                border: 1px solid var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
            }

            .pagination-info {
                color: var(--medium, #7f8c8d);
                font-size: 0.9rem;
            }

            .pagination-nav {
                display: flex;
                align-items: center;
                gap: 0.25rem;
            }

            .pagination-btn {
                padding: 0.5rem 0.75rem;
                border: 1px solid var(--light, #ecf0f1);
                background-color: var(--white, #fff);
                color: var(--dark, #2c3e50);
                cursor: pointer;
                border-radius: var(--radius-sm, 3px);
                font-size: 0.9rem;
                transition: all var(--transition-fast, 0.15s ease);
                min-width: 2.5rem;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .pagination-btn:hover:not(:disabled) {
                background-color: var(--primary-light, #2980b9);
                color: var(--white, #fff);
                border-color: var(--primary-light, #2980b9);
            }

            .pagination-btn.active {
                background-color: var(--primary, #1a5276);
                color: var(--white, #fff);
                border-color: var(--primary, #1a5276);
            }

            .pagination-btn:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                color: var(--medium, #7f8c8d);
            }

            .pagination-ellipsis {
                padding: 0.5rem 0.25rem;
                color: var(--medium, #7f8c8d);
            }

            .pagination-settings {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-size: 0.9rem;
            }

            .pagination-settings label {
                color: var(--medium, #7f8c8d);
            }

            .items-per-page-select {
                padding: 0.25rem 0.5rem;
                border: 1px solid var(--light, #ecf0f1);
                border-radius: var(--radius-sm, 3px);
                background-color: var(--white, #fff);
                color: var(--dark, #2c3e50);
                font-size: 0.9rem;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .pagination-wrapper {
                    flex-direction: column;
                    text-align: center;
                }

                .pagination-nav {
                    order: 1;
                }

                .pagination-info {
                    order: 2;
                    margin-top: 0.5rem;
                }

                .pagination-settings {
                    order: 3;
                    margin-top: 0.5rem;
                }

                .pagination-btn {
                    padding: 0.4rem 0.6rem;
                    font-size: 0.8rem;
                    min-width: 2rem;
                }
            }

            @media (max-width: 480px) {
                .pagination-nav {
                    gap: 0.1rem;
                }

                .pagination-btn {
                    padding: 0.3rem 0.5rem;
                    font-size: 0.7rem;
                    min-width: 1.8rem;
                }
            }
        `,e=document.createElement("style");e.id="pagination-styles",e.textContent=t,document.head.appendChild(e)}};typeof document!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>s.addStyles()):s.addStyles());var o=s;typeof window!="undefined"&&(window.Pagination=s);export{o as default};
