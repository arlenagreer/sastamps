(()=>{document.addEventListener("DOMContentLoaded",function(){d(),u(),m(),v(),p()});function d(){let e=document.querySelector(".menu-toggle"),s=document.querySelector(".nav-menu");if(!e||!s)return;let t=document.querySelector(".menu-overlay");t||(t=document.createElement("div"),t.className="menu-overlay",document.body.appendChild(t)),e.addEventListener("click",function(){let n=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!n),s.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("menu-open")}),document.addEventListener("click",function(n){s.classList.contains("active")&&!s.contains(n.target)&&!e.contains(n.target)&&(s.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open"))}),t.addEventListener("click",function(){s.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")}),document.addEventListener("keydown",function(n){n.key==="Escape"&&s.classList.contains("active")&&(s.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open"))})}function u(){let e=document.getElementById("back-to-top");e&&(window.addEventListener("scroll",function(){window.pageYOffset>300?e.style.display="block":e.style.display="none"}),e.addEventListener("click",function(s){s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))}function m(){let e=document.getElementById("event-countdown");if(!e)return;let s=e.getAttribute("data-event-date");if(!s)return;let t=new Date(s).getTime(),n=setInterval(function(){let i=new Date().getTime(),c=t-i;if(c<0){clearInterval(n),e.innerHTML='<span class="countdown-complete">Event is happening now!</span>';return}let o=Math.floor(c/(1e3*60*60*24)),a=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),r=Math.floor(c%(1e3*60*60)/(1e3*60)),l=Math.floor(c%(1e3*60)/1e3);e.innerHTML=`
            <div class="countdown-unit">
                <span class="countdown-number">${o}</span>
                <span class="countdown-label">Day${o!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${a}</span>
                <span class="countdown-label">Hour${a!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${r}</span>
                <span class="countdown-label">Minute${r!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${l}</span>
                <span class="countdown-label">Second${l!==1?"s":""}</span>
            </div>
        `},1e3)}function v(){let e=document.getElementById("contact-form");e&&e.addEventListener("submit",function(s){s.preventDefault();let t=!0,n=e.querySelectorAll("[required]");e.querySelectorAll(".error-message").forEach(o=>o.remove()),n.forEach(o=>{if(o.classList.remove("error"),!o.value.trim()){t=!1,o.classList.add("error");let a=document.createElement("p");a.classList.add("error-message"),a.textContent="This field is required",o.parentNode.appendChild(a)}});let c=e.querySelector('input[type="email"]');if(c&&c.value.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.value)){t=!1,c.classList.add("error");let a=document.createElement("p");a.classList.add("error-message"),a.textContent="Please enter a valid email address",c.parentNode.appendChild(a)}if(t){e.style.display="none";let o=document.createElement("div");o.classList.add("success-message"),o.innerHTML=`
                <h3>Thank you for your message!</h3>
                <p>We've received your inquiry and will respond as soon as possible.</p>
                <button class="btn btn-primary mt-3" id="send-another">Send Another Message</button>
            `,e.parentNode.appendChild(o),document.getElementById("send-another").addEventListener("click",function(){e.reset(),o.remove(),e.style.display="block"})}})}function p(){let e=document.querySelectorAll(".accordion-header");e.length&&e.forEach(s=>{s.addEventListener("click",function(){this.classList.toggle("active");let t=this.nextElementSibling;if(t.style.maxHeight){t.style.maxHeight=null;let n=this.querySelector("i");n&&n.classList.replace("fa-chevron-up","fa-chevron-down")}else{t.style.maxHeight=t.scrollHeight+"px";let n=this.querySelector("i");n&&n.classList.replace("fa-chevron-down","fa-chevron-up")}})})}document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",function(s){s.preventDefault();let t=this.getAttribute("href"),n=document.querySelector(t);n&&(n.scrollIntoView({behavior:"smooth"}),history.pushState(null,null,t))})});function f(){let e=window.location.pathname.split("/").pop();document.querySelectorAll("nav a").forEach(t=>{let n=t.getAttribute("href");(n===e||e===""&&n==="index.html")&&(t.classList.add("active"),t.setAttribute("aria-current","page"))})}f();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("ServiceWorker registration successful")}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});})();
