var SAPA=(()=>{var ae=Object.defineProperty,Vt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptor,Qt=Object.getOwnPropertyDescriptors,Xt=Object.getOwnPropertyNames,ne=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var nt=(e,t,n)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&nt(e,n,t[n]);if(ne)for(var n of ne(t))at.call(t,n)&&nt(e,n,t[n]);return e},re=(e,t)=>Vt(e,Qt(t));var rt=(e,t)=>{var n={};for(var a in e)Ee.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&ne)for(var a of ne(e))t.indexOf(a)<0&&at.call(e,a)&&(n[a]=e[a]);return n};var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>{for(var n in t)ae(e,n,{get:t[n],enumerable:!0})},Jt=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Xt(t))!Ee.call(e,r)&&r!==n&&ae(e,r,{get:()=>t[r],enumerable:!(a=Kt(t,r))||a.enumerable});return e};var Zt=e=>Jt(ae({},"__esModule",{value:!0}),e);var G,I,A,xe,De,en,lr,j,se=L(()=>{G={DEBOUNCE_DEFAULT:500,DEBOUNCE_SEARCH:300,THROTTLE_DEFAULT:1e3,ANIMATION_FRAME_FALLBACK:16,NOTIFICATION_AUTO_DISMISS:1e4,NOTIFICATION_SHORT:2e3,REMINDER_CHECK_INTERVAL:6e4,REMINDER_AUTO_DISMISS:15e3,COPY_FEEDBACK_DURATION:1500,FORM_MESSAGE_SUCCESS_DURATION:1e4,RSVP_CONFIRMATION_DURATION:3e3,RETRY_DELAY_BASE:1e3,SERVICE_WORKER_UPDATE_DISMISS:1e4},I={DEFAULT_TIMES:[{label:"1 day before",minutes:1440},{label:"2 hours before",minutes:120},{label:"30 minutes before",minutes:30}],NOTIFICATION_AUTO_CLOSE:1e4,SOUND_FREQUENCIES:{HIGH:800,LOW:600},SOUND_DURATION:.3,SOUND_VOLUME:.3},A={ROOT_MARGIN:"50px",THRESHOLD:.1,MAX_RETRIES:2,SPINNER_SIZE:20,CLASSES:{LOADING:"lazy-loading",LOADED:"lazy-loaded",ERROR:"lazy-error"}},xe={MEETING_REMINDERS:"sapa-meeting-reminders",REMINDER_SETTINGS:"sapa-reminder-settings",MEETING_RSVPS:"meeting_rsvps",THEME_PREFERENCE:"theme-preference",USER_PREFERENCES:"user-preferences",SEARCH_HISTORY:"search-history"},De={ERROR:"error",SUCCESS:"success",WARNING:"warning",LOADING:"loading",DISABLED:"disabled",ACTIVE:"active",HIDDEN:"hidden",VISIBLE:"visible"},en={GA_MEASUREMENT_ID:"G-XXXXXXXXXX",EVENTS:{PAGE_VIEW:"page_view",FORM_SUBMIT:"form_submit",FILE_DOWNLOAD:"file_download",NEWSLETTER_DOWNLOAD:"newsletter_download",MEETING_RSVP:"meeting_rsvp",SEARCH:"search",RESOURCE_VIEW:"resource_view"}},lr=re(C({},en.EVENTS),{CONTACT_FORM_SUBMIT:"contact_form_submit",SEARCH_PERFORMED:"search_performed",REMINDER_SET:"reminder_set"}),j={PAGE_SIZE:10,MAX_SEARCH_RESULTS:50,IMAGE_QUALITY:.85,COMPRESSION_LEVEL:9,CACHE_DURATION:3600,SESSION_TIMEOUT:1800}});var T,ot,tn,nn,an,rn,on,sn,ln,cn,dn,Se,mn,st=L(()=>{se();T={isDevelopment:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",isProduction:window.location.protocol==="https:",isDebug:window.location.search.includes("debug=true")},ot={enableReminders:!0,enableAnalytics:T.isProduction,enableServiceWorker:T.isProduction,enableDebugLogging:T.isDevelopment||T.isDebug,enableCaching:!0,enableOfflineMode:!0},tn={baseURL:T.isDevelopment?"http://localhost:3000":"",timeout:3e4,retries:3,cacheTimeout:j.CACHE_DURATION*1e3},nn={prefix:"sapa_",version:"1.0",maxAge:j.SESSION_TIMEOUT*1e3},an={formats:["webp","jpg"],sizes:[320,640,960,1280,1920],quality:j.IMAGE_QUALITY,lazyLoadOffset:50},rn={minSearchLength:2,maxResults:j.MAX_SEARCH_RESULTS,debounceDelay:300,highlightMatches:!0},on={autoSave:!0,autoSaveInterval:3e4,maxRetries:3,showProgressIndicator:!0},sn={defaultView:"month",firstDayOfWeek:0,showWeekNumbers:!1,allowPastDates:!1,maxFutureMonths:12},ln={position:"top-right",duration:5e3,maxNotifications:3,soundEnabled:!1},cn={enableLazyLoading:!0,enableCodeSplitting:!0,enablePrefetch:T.isProduction,enableCompression:T.isProduction,reportWebVitals:T.isProduction},dn={enableCSRF:!0,enableRateLimit:!0,rateLimitMax:3,rateLimitWindow:36e5,allowedOrigins:["https://sastamps.org","https://www.sastamps.org"]},Se={level:T.isDevelopment?"debug":"error",enableConsole:!0,enableRemote:T.isProduction,remoteEndpoint:"/api/logs"},mn={env:T,features:ot,api:tn,storage:nn,image:an,search:rn,form:on,calendar:sn,notification:ln,performance:cn,security:dn,logging:Se};Object.freeze(mn);Object.freeze(T);Object.freeze(ot)});function S(e){return new le(e)}var b,q,le,br,O=L(()=>{st();b={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},q={[b.DEBUG]:"DEBUG",[b.INFO]:"INFO",[b.WARN]:"WARN",[b.ERROR]:"ERROR",[b.FATAL]:"FATAL"},le=class e{constructor(t="App",n=Se){this.name=t,this.config=n,this.level=this.parseLevel(n.level)}parseLevel(t){return{debug:b.DEBUG,info:b.INFO,warn:b.WARN,error:b.ERROR,fatal:b.FATAL}[t.toLowerCase()]||b.INFO}shouldLog(t){return t>=this.level}formatMessage(t,n,a={}){return re(C({timestamp:new Date().toISOString(),level:q[t],logger:this.name,message:n},a),{url:window.location.href,userAgent:navigator.userAgent})}logToConsole(t){if(!this.config.enableConsole)return;let s=t,{level:n,message:a}=s,r=rt(s,["level","message"]),o=`[${t.timestamp}] [${n}] [${this.name}]`;switch(n){case q[b.DEBUG]:console.debug(o,a,r);break;case q[b.INFO]:console.info(o,a,r);break;case q[b.WARN]:console.warn(o,a,r);break;case q[b.ERROR]:case q[b.FATAL]:console.error(o,a,r);break}}async logToRemote(t){if(!(!this.config.enableRemote||!T.isProduction))try{await fetch(this.config.remoteEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(n){console.error("Failed to send log to remote:",n)}}log(t,n,a={}){if(!this.shouldLog(t))return;let r=this.formatMessage(t,n,a);this.logToConsole(r),t>=b.ERROR&&this.logToRemote(r)}debug(t,n={}){this.log(b.DEBUG,t,n)}info(t,n={}){this.log(b.INFO,t,n)}warn(t,n={}){this.log(b.WARN,t,n)}error(t,n={}){n instanceof Error&&(n={error:{message:n.message,stack:n.stack,name:n.name}}),this.log(b.ERROR,t,n)}fatal(t,n={}){n instanceof Error&&(n={error:{message:n.message,stack:n.stack,name:n.name}}),this.log(b.FATAL,t,n)}async time(t,n){let a=performance.now();try{let r=await n(),o=performance.now()-a;return this.debug(`${t} completed`,{duration:`${o.toFixed(2)}ms`}),r}catch(r){let o=performance.now()-a;throw this.error(`${t} failed`,{duration:`${o.toFixed(2)}ms`,error:r}),r}}child(t){return new e(`${this.name}:${t}`,this.config)}},br=new le});function Ye(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};let t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function qe(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function bn(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function En(e){let{top:t,left:n}=bn(),{top:a,left:r}=Ye(e),{vh:o,vw:s}=qe(),i=a-t,l=r-n;return{top:i,bottom:o-(i+e.clientHeight),left:l,right:s-(l+e.clientWidth)}}function yt(e,t,n=5){let a={top:!0,bottom:!0,left:!0,right:!0},r=[];if(!t||!e)return{canShow:a,parentPositions:r};let{bottom:o,top:s}=En(e),{top:i,left:l}=Ye(e),{height:c,width:d}=t.getBoundingClientRect(),{vh:h,vw:p}=qe(),f=p/2,E=h/2;return[{condition:i<E,position:"top"},{condition:i>E,position:"bottom"},{condition:l<f,position:"left"},{condition:l>f,position:"right"}].forEach(({condition:w,position:N})=>{w&&r.push(N)}),Object.assign(a,{top:c<=s-n,bottom:c<=o-n,left:d<=l,right:d<=p-l}),{canShow:a,parentPositions:r}}function _a(e,t){let n="left";if(!t||!e)return n;let{canShow:a,parentPositions:r}=yt(e,t),o=a.left&&a.right;return(o&&a.bottom?"center":o&&a.top?["top","center"]:Array.isArray(r)?[r[0]==="bottom"?"top":"bottom",...r.slice(1)]:r)||n}var un,hn,pn,it,gn,fn,Ie,U,vn,u,F,g,yn,$e,wn,xn,v,Y,R,_,bt,Dn,Et,Mn,Tn,Ue,Sn,Cn,Ln,An,Re,Nn,kn,In,$n,Rn,On,_n,Fn,Hn,Pn,Yn,qn,Un,Bn,Wn,zn,Gn,Ne,jn,Be,wt,Vn,Kn,ge,Qn,J,We,ze,Xn,xt,lt,ct,K,ue,Jn,Q,ce,Zn,dt,ea,ta,mt,ut,ht,na,aa,pt,ra,Ge,oa,he,B,gt,sa,ia,pe,la,ca,da,fe,Dt,Oe,ma,_e,ft,$,m,ua,X,ha,pa,Mt,me,de,V,H,ga,Tt,ke,fa,va,St,ya,ba,Ea,wa,xa,Da,Ma,Ct,Ta,Sa,P,Ca,La,Aa,Fe,Na,ka,Lt,At,Ia,$a,Ra,Nt,je,Oa,vt,Ve,Fa,Ha,He,kt,It,$t=L(()=>{un=Object.defineProperty,hn=Object.defineProperties,pn=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U=(e,t)=>{for(var n in t||(t={}))gn.call(t,n)&&Ie(e,n,t[n]);if(it)for(var n of it(t))fn.call(t,n)&&Ie(e,n,t[n]);return e},vn=(e,t)=>hn(e,pn(t)),u=(e,t,n)=>(Ie(e,typeof t!="symbol"?t+"":t,n),n),F={notFoundSelector:e=>`${e} is not found, check the first argument passed to new Calendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:"You specified an incorrect language label or did not specify the required number of values \u200B\u200Bfor \xABlocale.weekdays\xBB or \xABlocale.months\xBB.",incorrectTime:"The value of the time property can be: false, 12 or 24.",incorrectMonthsCount:"For the \xABmultiple\xBB calendar type, the \xABdisplayMonthsCount\xBB parameter can have a value from 2 to 12, and for all others it cannot be greater than 1."},g=(e,t,n)=>{e.context[t]=n},yn=e=>{var t,n,a,r,o;if(!e.context.isInit)throw new Error(F.notInit);e.inputMode?((t=e.context.mainElement.parentElement)==null||t.removeChild(e.context.mainElement),(a=(n=e.context.inputElement)==null?void 0:n.replaceWith)==null||a.call(n,e.context.originalElement),g(e,"inputElement",void 0)):(o=(r=e.context.mainElement).replaceWith)==null||o.call(r,e.context.originalElement),g(e,"mainElement",e.context.originalElement),e.onDestroy&&e.onDestroy(e)},$e=e=>{e.context.isShowInInputMode&&e.context.currentType&&(e.context.mainElement.dataset.vcCalendarHidden="",g(e,"isShowInInputMode",!1),e.context.cleanupHandlers[0]&&(e.context.cleanupHandlers.forEach(t=>t()),g(e,"cleanupHandlers",[])),e.onHide&&e.onHide(e))};wn=(e,t,n,a)=>{var r;let o=a.querySelector(`[data-vc-date="${t}"]`),s=o==null?void 0:o.querySelector("[data-vc-date-btn]");if(!o||!s||(n!=null&&n.modifier&&s.classList.add(...n.modifier.trim().split(" ")),!(n!=null&&n.html)))return;let i=document.createElement("div");i.className=e.styles.datePopup,i.dataset.vcDatePopup="",i.innerHTML=e.sanitizerHTML(n.html),s.ariaExpanded="true",s.ariaLabel=`${s.ariaLabel}, ${(r=i==null?void 0:i.textContent)==null?void 0:r.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,o.appendChild(i),requestAnimationFrame(()=>{if(!i)return;let{canShow:l}=yt(o,i),c=l.bottom?o.offsetHeight:-i.offsetHeight,d=l.left&&!l.right?o.offsetWidth-i.offsetWidth/2:!l.left&&l.right?i.offsetWidth/2:0;Object.assign(i.style,{left:`${d}px`,top:`${c}px`})})},xn=(e,t)=>{var n;e.popups&&((n=Object.entries(e.popups))==null||n.forEach(([a,r])=>wn(e,a,r,t)))},v=e=>new Date(`${e}T00:00:00`),Y=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,R=e=>e.reduce((t,n)=>{if(n instanceof Date||typeof n=="number"){let a=n instanceof Date?n:new Date(n);t.push(a.toISOString().substring(0,10))}else n.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(n):n.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(a,r,o)=>{let s=v(r),i=v(o),l=new Date(s.getTime());for(;l<=i;l.setDate(l.getDate()+1))t.push(Y(l));return a});return t},[]),_=(e,t,n,a="")=>{t?e.setAttribute(n,a):e.getAttribute(n)===a&&e.removeAttribute(n)},bt=(e,t,n,a,r,o,s)=>{var i,l,c,d;let h=v(e.context.displayDateMin)>v(o)||v(e.context.displayDateMax)<v(o)||((i=e.context.disableDates)==null?void 0:i.includes(o))||!e.selectionMonthsMode&&s!=="current"||!e.selectionYearsMode&&v(o).getFullYear()!==t;_(n,h,"data-vc-date-disabled"),a&&_(a,h,"aria-disabled","true"),a&&_(a,h,"tabindex","-1"),_(n,!e.disableToday&&e.context.dateToday===o,"data-vc-date-today"),_(n,!e.disableToday&&e.context.dateToday===o,"aria-current","date"),_(n,(l=e.selectedWeekends)==null?void 0:l.includes(r),"data-vc-date-weekend");let p=(c=e.selectedHolidays)!=null&&c[0]?R(e.selectedHolidays):[];if(_(n,p.includes(o),"data-vc-date-holiday"),(d=e.context.selectedDates)!=null&&d.includes(o)?(n.setAttribute("data-vc-date-selected",""),a&&a.setAttribute("aria-selected","true"),e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"&&(e.context.selectedDates[0]===o&&e.context.selectedDates[e.context.selectedDates.length-1]===o?n.setAttribute("data-vc-date-selected","first-and-last"):e.context.selectedDates[0]===o?n.setAttribute("data-vc-date-selected","first"):e.context.selectedDates[e.context.selectedDates.length-1]===o&&n.setAttribute("data-vc-date-selected","last"),e.context.selectedDates[0]!==o&&e.context.selectedDates[e.context.selectedDates.length-1]!==o&&n.setAttribute("data-vc-date-selected","middle"))):n.hasAttribute("data-vc-date-selected")&&(n.removeAttribute("data-vc-date-selected"),a&&a.removeAttribute("aria-selected")),!e.context.disableDates.includes(o)&&e.enableEdgeDatesOnly&&e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"){let f=v(e.context.selectedDates[0]),E=v(e.context.selectedDates[e.context.selectedDates.length-1]),w=v(o);_(n,w>f&&w<E,"data-vc-date-selected","middle")}},Dn=(e,t,n)=>new Date(`${e}T00:00:00.000Z`).toLocaleString(t,n),Et=(e,t)=>{let n=v(e),a=(n.getDay()-t+7)%7;n.setDate(n.getDate()+4-a);let r=new Date(n.getFullYear(),0,1),o=Math.ceil(((+n-+r)/864e5+1)/7);return{year:n.getFullYear(),week:o}},Mn=(e,t,n)=>{let a=Et(n,e.firstWeekday);a&&(t.dataset.vcDateWeekNumber=String(a.week))},Tn=(e,t,n)=>{var a,r,o,s,i;let l=(a=e.disableWeekdays)==null?void 0:a.includes(n),c=e.disableAllDates&&!!((r=e.context.enableDates)!=null&&r[0]);!l&&!c||(o=e.context.enableDates)!=null&&o.includes(t)||(s=e.context.disableDates)!=null&&s.includes(t)||(e.context.disableDates.push(t),(i=e.context.disableDates)==null||i.sort((d,h)=>+new Date(d)-+new Date(h)))},Ue=(e,t,n,a,r,o)=>{let s=v(r).getDay(),i=typeof e.locale=="string"&&e.locale.length?e.locale:"en",l=document.createElement("div"),c;l.className=e.styles.date,l.dataset.vcDate=r,l.dataset.vcDateMonth=o,l.dataset.vcDateWeekDay=String(s),(o==="current"||e.displayDatesOutside)&&(c=document.createElement("button"),c.className=e.styles.dateBtn,c.type="button",c.role="gridcell",c.ariaLabel=Dn(r,i,{dateStyle:"long",timeZone:"UTC"}),c.dataset.vcDateBtn="",c.innerText=String(a),l.appendChild(c)),e.enableWeekNumbers&&Mn(e,l,r),Tn(e,r,s),bt(e,t,l,c,s,r,o),n.appendChild(l),e.onCreateDateEls&&e.onCreateDateEls(e,l)},Sn=(e,t,n,a,r)=>{for(let o=1;o<=n;o++){let s=new Date(a,r,o);Ue(e,a,t,o,Y(s),"current")}},Cn=(e,t,n,a,r,o)=>{let s=o+n,i=7*Math.ceil(s/7)-s,l=r+1===12?a+1:a,c=r+1===12?"01":r+2<10?`0${r+2}`:r+2;for(let d=1;d<=i;d++){let h=d<10?`0${d}`:String(d);Ue(e,a,t,d,`${l}-${c}-${h}`,"next")}},Ln=(e,t,n,a,r)=>{let o=new Date(n,a,0).getDate()-(r-1),s=a===0?n-1:n,i=a===0?12:a<10?`0${a}`:a;for(let l=r;l>0;l--,o++)Ue(e,n,t,o,`${s}-${i}-${o}`,"prev")},An=(e,t,n,a,r)=>{if(!e.enableWeekNumbers)return;a.textContent="";let o=document.createElement("b");o.className=e.styles.weekNumbersTitle,o.innerText="#",o.dataset.vcWeekNumbers="title",a.appendChild(o);let s=document.createElement("div");s.className=e.styles.weekNumbersContent,s.dataset.vcWeekNumbers="content",a.appendChild(s);let i=document.createElement("button");i.type="button",i.className=e.styles.weekNumber;let l=r.querySelectorAll("[data-vc-date]"),c=Math.ceil((t+n)/7);for(let d=0;d<c;d++){let h=l[d===0?6:7*d].dataset.vcDate,p=Et(h,e.firstWeekday);if(!p)return;let f=i.cloneNode(!0);f.innerText=String(p.week),f.dataset.vcWeekNumber=String(p.week),f.dataset.vcWeekYear=String(p.year),f.role="rowheader",f.ariaLabel=`${p.week}`,s.appendChild(f)}},Re=e=>{let t=new Date(e.context.selectedYear,e.context.selectedMonth,1),n=e.context.mainElement.querySelectorAll('[data-vc="dates"]'),a=e.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach((r,o)=>{e.selectionDatesMode||(r.dataset.vcDatesDisabled=""),r.textContent="";let s=new Date(t);s.setMonth(s.getMonth()+o);let i=s.getMonth(),l=s.getFullYear(),c=(new Date(l,i,1).getDay()-e.firstWeekday+7)%7,d=new Date(l,i+1,0).getDate();Ln(e,r,l,i,c),Sn(e,r,d,l,i),Cn(e,r,d,l,i,c),xn(e,r),An(e,c,d,a[o],r)})},Nn=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <#WeekNumbers />
    <div class="${e.styles.content}" data-vc="content">
      <#Week />
      <#Dates />
      <#DateRangeTooltip />
    </div>
  </div>
  <#ControlTime />
`,kn=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Months />
    </div>
  </div>
`,In=e=>`
  <div class="${e.styles.controls}" data-vc="controls" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.grid}" data-vc="grid">
    <#Multiple>
      <div class="${e.styles.column}" data-vc="column" role="region">
        <div class="${e.styles.header}" data-vc="header">
          <div class="${e.styles.headerContent}" data-vc-header="content">
            <#Month />
            <#Year />
          </div>
        </div>
        <div class="${e.styles.wrapper}" data-vc="wrapper">
          <#WeekNumbers />
          <div class="${e.styles.content}" data-vc="content">
            <#Week />
            <#Dates />
          </div>
        </div>
      </div>
    <#/Multiple>
    <#DateRangeTooltip />
  </div>
  <#ControlTime />
`,$n=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [year] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [year] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Years />
    </div>
  </div>
`,Rn=(e,t)=>`<button type="button" class="${e.styles.arrowNext}" data-vc-arrow="next" aria-label="${e.labels.arrowNext[t]}"></button>`,On=(e,t)=>`<button type="button" class="${e.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${e.labels.arrowPrev[t]}"></button>`,_n=e=>e.selectionTimeMode?`<div class="${e.styles.time}" data-vc="time" role="group" aria-label="${e.labels.selectingTime}"></div>`:"",Fn=e=>e.onCreateDateRangeTooltip?`<div class="${e.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",Hn=e=>`<div class="${e.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${e.labels.dates}" ${e.type==="multiple"?"aria-multiselectable":""}></div>`,Pn=e=>`<button type="button" class="${e.styles.month}" data-vc="month"></button>`,Yn=e=>`<div class="${e.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${e.labels.months}"></div>`,qn=e=>`<div class="${e.styles.week}" data-vc="week" role="row" aria-label="${e.labels.week}"></div>`,Un=e=>e.enableWeekNumbers?`<div class="${e.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${e.labels.weekNumber}"></div>`:"",Bn=e=>`<button type="button" class="${e.styles.year}" data-vc="year"></button>`,Wn=e=>`<div class="${e.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${e.labels.years}"></div>`,zn={ArrowNext:Rn,ArrowPrev:On,ControlTime:_n,Dates:Hn,DateRangeTooltip:Fn,Month:Pn,Months:Yn,Week:qn,WeekNumbers:Un,Year:Bn,Years:Wn},Gn=e=>zn[e],Ne=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(n,a)=>{let r=(a.match(/\[(.*?)\]/)||[])[1],o=a.replace(/[/\s\n\t]|\[(.*?)\]/g,""),s=Gn(o),i=s?s(e,r!=null?r:null):"";return e.sanitizerHTML(i)}).replace(/[\n\t]/g,""),jn=(e,t)=>t.replace(new RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),(n,a)=>{let r=Array(e.context.displayMonthsCount).fill(a).join("");return e.sanitizerHTML(r)}).replace(/[\n\t]/g,""),Be=(e,t)=>{let n={default:Nn,month:kn,year:$n,multiple:In};if(Object.keys(n).forEach(a=>{let r=a;e.layouts[r].length||(e.layouts[r]=n[r](e))}),e.context.mainElement.className=e.styles.calendar,e.context.mainElement.dataset.vc="calendar",e.context.mainElement.dataset.vcType=e.context.currentType,e.context.mainElement.role="application",e.context.mainElement.tabIndex=0,e.context.mainElement.ariaLabel=e.labels.application,e.context.currentType!=="multiple"){if(e.type==="multiple"&&t){let a=e.context.mainElement.querySelector('[data-vc="controls"]'),r=e.context.mainElement.querySelector('[data-vc="grid"]'),o=t.closest('[data-vc="column"]');return a&&e.context.mainElement.removeChild(a),r&&(r.dataset.vcGrid="hidden"),o&&(o.dataset.vcColumn=e.context.currentType),void(o&&(o.innerHTML=e.sanitizerHTML(Ne(e,e.layouts[e.context.currentType]))))}e.context.mainElement.innerHTML=e.sanitizerHTML(Ne(e,e.layouts[e.context.currentType]))}else e.context.mainElement.innerHTML=e.sanitizerHTML(jn(e,Ne(e,e.layouts[e.context.currentType])))},wt=(e,t,n,a)=>{e.style.visibility=n?"hidden":"",t.style.visibility=a?"hidden":""},Vn=(e,t,n)=>{let a=v(Y(new Date(e.context.selectedYear,e.context.selectedMonth,1))),r=new Date(a.getTime()),o=new Date(a.getTime());r.setMonth(r.getMonth()-e.monthsToSwitch),o.setMonth(o.getMonth()+e.monthsToSwitch);let s=v(e.context.dateMin),i=v(e.context.dateMax);e.selectionYearsMode||(s.setFullYear(a.getFullYear()),i.setFullYear(a.getFullYear()));let l=!e.selectionMonthsMode||r.getFullYear()<s.getFullYear()||r.getFullYear()===s.getFullYear()&&r.getMonth()<s.getMonth(),c=!e.selectionMonthsMode||o.getFullYear()>i.getFullYear()||o.getFullYear()===i.getFullYear()&&o.getMonth()>i.getMonth()-(e.context.displayMonthsCount-1);wt(t,n,l,c)},Kn=(e,t,n)=>{let a=v(e.context.dateMin),r=v(e.context.dateMax),o=!!(a.getFullYear()&&e.context.displayYear-7<=a.getFullYear()),s=!!(r.getFullYear()&&e.context.displayYear+7>=r.getFullYear());wt(t,n,o,s)},ge=e=>{if(e.context.currentType==="month")return;let t=e.context.mainElement.querySelector('[data-vc-arrow="prev"]'),n=e.context.mainElement.querySelector('[data-vc-arrow="next"]');!t||!n||{default:()=>Vn(e,t,n),year:()=>Kn(e,t,n)}[e.context.currentType==="multiple"?"default":e.context.currentType]()},Qn=(e,t,n,a,r)=>{let o=new Date(a.setFullYear(e.context.selectedYear,e.context.selectedMonth+n)).getFullYear(),s=new Date(a.setMonth(e.context.selectedMonth+n)).getMonth(),i=e.context.locale.months.long[s],l=t.closest('[data-vc="column"]');l&&(l.ariaLabel=`${i} ${o}`);let c={month:{id:s,label:i},year:{id:o,label:o}};t.innerText=String(c[r].label),t.dataset[`vc${r.charAt(0).toUpperCase()+r.slice(1)}`]=String(c[r].id),t.ariaLabel=`${e.labels[r]} ${c[r].label}`;let d={month:e.selectionMonthsMode,year:e.selectionYearsMode},h=d[r]===!1||d[r]==="only-arrows";h&&(t.tabIndex=-1),t.disabled=h},J=e=>{let t=e.context.mainElement.querySelectorAll('[data-vc="month"]'),n=e.context.mainElement.querySelectorAll('[data-vc="year"]'),a=new Date(e.context.selectedYear,e.context.selectedMonth,1);[t,n].forEach(r=>r==null?void 0:r.forEach((o,s)=>Qn(e,o,s,a,o.dataset.vc)))},We=(e,t,n,a,r)=>{var o;let s={month:"[data-vc-months-month]",year:"[data-vc-years-year]"},i={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};r&&((o=e.context.mainElement.querySelectorAll(s[n]))==null||o.forEach(l=>{l.removeAttribute(i[n].selected),l.removeAttribute(i[n].aria)}),g(e,i[n].selectedProperty,Number(t.dataset[i[n].value])),J(e),n==="year"&&ge(e)),a&&(t.setAttribute(i[n].selected,""),t.setAttribute(i[n].aria,"true"))},ze=(e,t)=>{var n;if(e.type!=="multiple")return{currentValue:null,columnID:0};let a=e.context.mainElement.querySelectorAll('[data-vc="column"]'),r=Array.from(a).findIndex(o=>o.closest(`[data-vc-column="${t}"]`));return{currentValue:r>=0?Number((n=a[r].querySelector(`[data-vc="${t}"]`))==null?void 0:n.getAttribute(`data-vc-${t}`)):null,columnID:Math.max(r,0)}},Xn=(e,t,n,a,r,o,s)=>{let i=t.cloneNode(!1);return i.className=e.styles.monthsMonth,i.innerText=a,i.ariaLabel=r,i.role="gridcell",i.dataset.vcMonthsMonth=`${s}`,o&&(i.ariaDisabled="true"),o&&(i.tabIndex=-1),i.disabled=o,We(e,i,"month",n===s,!1),i},xt=(e,t)=>{var n,a;let r=(n=t==null?void 0:t.closest('[data-vc="header"]'))==null?void 0:n.querySelector('[data-vc="year"]'),o=r?Number(r.dataset.vcYear):e.context.selectedYear,s=t!=null&&t.dataset.vcMonth?Number(t.dataset.vcMonth):e.context.selectedMonth;g(e,"currentType","month"),Be(e,t),J(e);let i=e.context.mainElement.querySelector('[data-vc="months"]');if(!e.selectionMonthsMode||!i)return;let l=e.monthsToSwitch>1?e.context.locale.months.long.map((d,h)=>s-e.monthsToSwitch*h).concat(e.context.locale.months.long.map((d,h)=>s+e.monthsToSwitch*h)).filter(d=>d>=0&&d<=12):Array.from(Array(12).keys()),c=document.createElement("button");c.type="button";for(let d=0;d<12;d++){let h=v(e.context.dateMin),p=v(e.context.dateMax),f=e.context.displayMonthsCount-1,{columnID:E}=ze(e,"month"),w=o<=h.getFullYear()&&d<h.getMonth()+E||o>=p.getFullYear()&&d>p.getMonth()-f+E||o>p.getFullYear()||d!==s&&!l.includes(d),N=Xn(e,c,s,e.context.locale.months.short[d],e.context.locale.months.long[d],w,d);i.appendChild(N),e.onCreateMonthEls&&e.onCreateMonthEls(e,N)}(a=e.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))==null||a.focus()},lt=(e,t,n,a,r)=>`
  <label class="${t}" data-vc-time-input="${e}">
    <input type="text" name="${e}" maxlength="2" aria-label="${n[`input${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${a}" ${r?"disabled":""}>
  </label>
`,ct=(e,t,n,a,r,o,s)=>`
  <label class="${t}" data-vc-time-range="${e}">
    <input type="range" name="${e}" min="${a}" max="${r}" step="${o}" aria-label="${n[`range${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${s}">
  </label>
`,K=(e,t,n,a)=>{({hour:()=>g(e,"selectedHours",n),minute:()=>g(e,"selectedMinutes",n)})[a](),g(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${e.context.selectedKeeping?` ${e.context.selectedKeeping}`:""}`),e.onChangeTime&&e.onChangeTime(e,t,!1),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t)},ue=(e,t)=>{var n;return((n={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[Number(e)])==null?void 0:n[t])||String(e)},Jn=(e,t,n,a,r)=>{let o=s=>{let i=e.context.selectedKeeping==="AM"?"PM":"AM",l=ue(e.context.selectedHours,i);Number(l)<=a&&Number(l)>=r?(g(e,"selectedKeeping",i),n.value=l,K(e,s,e.context.selectedHours,"hour"),t.ariaLabel=`${e.labels.btnKeeping} ${e.context.selectedKeeping}`,t.innerText=e.context.selectedKeeping):e.onChangeTime&&e.onChangeTime(e,s,!0)};return t.addEventListener("click",o),()=>{t.removeEventListener("click",o)}},Q=e=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"})[Number(e)]||String(e),ce=(e,t,n,a)=>{e.value=n,t.value=a},Zn=(e,t,n)=>{t&&n&&(g(e,"selectedKeeping",n),t.innerText=n)},dt=(e,t,n,a,r,o,s)=>{let i={hour:(c,d,h)=>{e.selectionTimeMode&&{12:()=>{if(!e.context.selectedKeeping)return;let p=Number(ue(d,e.context.selectedKeeping));if(!(p<=o&&p>=s))return ce(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,h,!0));ce(n,t,Q(d),ue(d,e.context.selectedKeeping)),c>12&&Zn(e,a,"PM"),K(e,h,Q(d),r)},24:()=>{if(!(c<=o&&c>=s))return ce(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,h,!0));ce(n,t,d,d),K(e,h,d,r)}}[e.selectionTimeMode]()},minute:(c,d,h)=>{if(!(c<=o&&c>=s))return n.value=e.context.selectedMinutes,void(e.onChangeTime&&e.onChangeTime(e,h,!0));n.value=d,t.value=d,K(e,h,d,r)}},l=c=>{let d=Number(n.value),h=n.value.padStart(2,"0");i[r]&&i[r](d,h,c)};return n.addEventListener("change",l),()=>{n.removeEventListener("change",l)}},ea=(e,t,n,a,r)=>{t.value=r,K(e,n,r,a)},ta=(e,t,n)=>{t&&(g(e,"selectedKeeping",n),t.innerText=n)},mt=(e,t,n,a,r)=>{let o=s=>{let i=Number(t.value),l=t.value.padStart(2,"0"),c=r==="hour",d=e.selectionTimeMode===24,h=i>0&&i<12;c&&!d&&ta(e,a,i===0||h?"AM":"PM"),ea(e,n,s,r,!c||d||h?l:Q(t.value))};return t.addEventListener("input",o),()=>{t.removeEventListener("input",o)}},ut=e=>e.setAttribute("data-vc-input-focus",""),ht=e=>e.removeAttribute("data-vc-input-focus"),na=(e,t)=>{let n=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),a=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),r=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),o=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),s=t.querySelector('[data-vc-time="keeping"]');if(!(n&&a&&r&&o))return;let i=c=>{c.target===n&&ut(r),c.target===a&&ut(o)},l=c=>{c.target===n&&ht(r),c.target===a&&ht(o)};return t.addEventListener("mouseover",i),t.addEventListener("mouseout",l),dt(e,n,r,s,"hour",e.timeMaxHour,e.timeMinHour),dt(e,a,o,s,"minute",e.timeMaxMinute,e.timeMinMinute),mt(e,n,r,s,"hour"),mt(e,a,o,s,"minute"),s&&Jn(e,s,n,e.timeMaxHour,e.timeMinHour),()=>{t.removeEventListener("mouseover",i),t.removeEventListener("mouseout",l)}},aa=e=>{let t=e.context.mainElement.querySelector('[data-vc="time"]');if(!e.selectionTimeMode||!t)return;let[n,a]=[e.timeMinHour,e.timeMaxHour],[r,o]=[e.timeMinMinute,e.timeMaxMinute],s=e.context.selectedKeeping?ue(e.context.selectedHours,e.context.selectedKeeping):e.context.selectedHours,i=e.timeControls==="range";var l;t.innerHTML=e.sanitizerHTML(`
    <div class="${e.styles.timeContent}" data-vc-time="content">
      ${lt("hour",e.styles.timeHour,e.labels,e.context.selectedHours,i)}
      ${lt("minute",e.styles.timeMinute,e.labels,e.context.selectedMinutes,i)}
      ${e.selectionTimeMode===12?(l=e.context.selectedKeeping,`<button type="button" class="${e.styles.timeKeeping}" aria-label="${e.labels.btnKeeping} ${l}" data-vc-time="keeping" ${i?"disabled":""}>${l}</button>`):""}
    </div>
    <div class="${e.styles.timeRanges}" data-vc-time="ranges">
      ${ct("hour",e.styles.timeRange,e.labels,n,a,e.timeStepHour,s)}
      ${ct("minute",e.styles.timeRange,e.labels,r,o,e.timeStepMinute,e.context.selectedMinutes)}
    </div>
  `),na(e,t)},pt=e=>{let t=e.selectedWeekends?[...e.selectedWeekends]:[],n=[...e.context.locale.weekdays.long].reduce((r,o,s)=>[...r,{id:s,titleShort:e.context.locale.weekdays.short[s],titleLong:o,isWeekend:t.includes(s)}],[]),a=[...n.slice(e.firstWeekday),...n.slice(0,e.firstWeekday)];e.context.mainElement.querySelectorAll('[data-vc="week"]').forEach(r=>{let o=e.onClickWeekDay?document.createElement("button"):document.createElement("b");e.onClickWeekDay&&(o.type="button"),a.forEach(s=>{let i=o.cloneNode(!0);i.innerText=s.titleShort,i.className=e.styles.weekDay,i.role="columnheader",i.ariaLabel=s.titleLong,i.dataset.vcWeekDay=String(s.id),s.isWeekend&&(i.dataset.vcWeekDayOff=""),r.appendChild(i)})})},ra=(e,t,n,a,r)=>{let o=t.cloneNode(!1);return o.className=e.styles.yearsYear,o.innerText=String(r),o.ariaLabel=String(r),o.role="gridcell",o.dataset.vcYearsYear=`${r}`,a&&(o.ariaDisabled="true"),a&&(o.tabIndex=-1),o.disabled=a,We(e,o,"year",n===r,!1),o},Ge=(e,t)=>{var n;let a=t!=null&&t.dataset.vcYear?Number(t.dataset.vcYear):e.context.selectedYear;g(e,"currentType","year"),Be(e,t),J(e),ge(e);let r=e.context.mainElement.querySelector('[data-vc="years"]');if(!e.selectionYearsMode||!r)return;let o=e.type!=="multiple"||e.context.selectedYear===a?0:1,s=document.createElement("button");s.type="button";for(let i=e.context.displayYear-7;i<e.context.displayYear+8;i++){let l=i<v(e.context.dateMin).getFullYear()+o||i>v(e.context.dateMax).getFullYear(),c=ra(e,s,a,l,i);r.appendChild(c),e.onCreateYearEls&&e.onCreateYearEls(e,c)}(n=e.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))==null||n.focus()},oa=(e,t,n)=>{new MutationObserver(a=>{for(let r=0;r<a.length;r++)if(a[r].attributeName===t){n();break}}).observe(e,{attributes:!0})},he={value:!1,set:()=>he.value=!0,check:()=>he.value},B=(e,t)=>e.dataset.vcTheme=t,gt=(e,t)=>{if(B(e.context.mainElement,t.matches?"dark":"light"),e.selectedTheme!=="system"||he.check())return;let n=a=>{let r=document.querySelectorAll('[data-vc="calendar"]');r==null||r.forEach(o=>B(o,a.matches?"dark":"light"))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),he.set()},sa=(e,t)=>{let n=e.themeAttrDetect.length?document.querySelector(e.themeAttrDetect):null,a=e.themeAttrDetect.replace(/^.*\[(.+)\]/g,(o,s)=>s);if(!n||n.getAttribute(a)==="system")return void gt(e,t);let r=n.getAttribute(a);r?(B(e.context.mainElement,r),oa(n,a,()=>{let o=n.getAttribute(a);o&&B(e.context.mainElement,o)})):gt(e,t)},ia=e=>{window.matchMedia("(prefers-color-scheme)").media!=="not all"?e.selectedTheme==="system"?sa(e,window.matchMedia("(prefers-color-scheme: dark)")):B(e.context.mainElement,e.selectedTheme):B(e.context.mainElement,"light")},pe=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/\./,""),la=(e,t,n)=>{let a=new Date(`1978-01-0${t+1}T00:00:00.000Z`),r=a.toLocaleString(n,{weekday:"short",timeZone:"UTC"}),o=a.toLocaleString(n,{weekday:"long",timeZone:"UTC"});e.context.locale.weekdays.short.push(pe(r)),e.context.locale.weekdays.long.push(pe(o))},ca=(e,t,n)=>{let a=new Date(`1978-${String(t+1).padStart(2,"0")}-01T00:00:00.000Z`),r=a.toLocaleString(n,{month:"short",timeZone:"UTC"}),o=a.toLocaleString(n,{month:"long",timeZone:"UTC"});e.context.locale.months.short.push(pe(r)),e.context.locale.months.long.push(pe(o))},da=e=>{var t,n,a,r,o,s,i,l;if(!(e.context.locale.weekdays.short[6]&&e.context.locale.weekdays.long[6]&&e.context.locale.months.short[11]&&e.context.locale.months.long[11]))if(typeof e.locale=="string"){if(typeof e.locale=="string"&&!e.locale.length)throw new Error(F.notLocale);Array.from({length:7},(c,d)=>la(e,d,e.locale)),Array.from({length:12},(c,d)=>ca(e,d,e.locale))}else{if(!((n=(t=e.locale)==null?void 0:t.weekdays)!=null&&n.short[6]&&((r=(a=e.locale)==null?void 0:a.weekdays)!=null&&r.long[6])&&((s=(o=e.locale)==null?void 0:o.months)!=null&&s.short[11])&&((l=(i=e.locale)==null?void 0:i.months)!=null&&l.long[11])))throw new Error(F.notLocale);g(e,"locale",U({},e.locale))}},fe=e=>{let t={default:()=>{pt(e),Re(e)},multiple:()=>{pt(e),Re(e)},month:()=>xt(e),year:()=>Ge(e)};ia(e),da(e),Be(e),J(e),ge(e),aa(e),t[e.context.currentType]()},Dt=e=>{let t=n=>{var a;let r=n.target;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)||r.localName!=="button")return;let o=Array.from(e.context.mainElement.querySelectorAll('[data-vc="calendar"] button')),s=o.indexOf(r);if(s===-1)return;let i=(l=o[s]).hasAttribute("data-vc-date-btn")?7:l.hasAttribute("data-vc-months-month")?4:l.hasAttribute("data-vc-years-year")?5:1;var l;let c=(0,{ArrowUp:()=>Math.max(0,s-i),ArrowDown:()=>Math.min(o.length-1,s+i),ArrowLeft:()=>Math.max(0,s-1),ArrowRight:()=>Math.min(o.length-1,s+1)}[n.key])();(a=o[c])==null||a.focus()};return e.context.mainElement.addEventListener("keydown",t),()=>e.context.mainElement.removeEventListener("keydown",t)},Oe=(e,t)=>{let n=v(Y(new Date(e.context.selectedYear,e.context.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.monthsToSwitch),next:()=>n.setMonth(n.getMonth()+e.monthsToSwitch)})[t](),g(e,"selectedMonth",n.getMonth()),g(e,"selectedYear",n.getFullYear()),J(e),ge(e),Re(e)},ma=(e,t)=>{let n=t.target.closest("[data-vc-arrow]");if(n){if(["default","multiple"].includes(e.context.currentType))Oe(e,n.dataset.vcArrow);else if(e.context.currentType==="year"&&e.context.displayYear!==void 0){let a={prev:-15,next:15}[n.dataset.vcArrow];g(e,"displayYear",e.context.displayYear+a),Ge(e,t.target)}e.onClickArrow&&e.onClickArrow(e,t)}},_e=e=>e.enableDateToggle===void 0||(typeof e.enableDateToggle=="function"?e.enableDateToggle(e):e.enableDateToggle),ft=(e,t,n)=>{let a=t.dataset.vcDate,r=t.closest("[data-vc-date][data-vc-date-selected]"),o=_e(e);if(r&&!o)return;let s=r?e.context.selectedDates.filter(i=>i!==a):n?[...e.context.selectedDates,a]:[a];g(e,"selectedDates",s)},$=(e,t,n)=>{if(!t)return;if(!n)return t.dataset.vcDateRangeTooltip="hidden",void(t.textContent="");let a=e.context.mainElement.getBoundingClientRect(),r=n.getBoundingClientRect();t.style.left=r.left-a.left+r.width/2+"px",t.style.top=r.bottom-a.top-r.height+"px",t.dataset.vcDateRangeTooltip="visible",t.innerHTML=e.sanitizerHTML(e.onCreateDateRangeTooltip(e,n,t,r,a))},m={self:null,lastDateEl:null,isHovering:!1,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},ua=(e,t,n)=>{var a,r,o;if(!((r=(a=m.self)==null?void 0:a.context)!=null&&r.selectedDates[0]))return;let s=Y(e);(o=m.self.context.disableDates)!=null&&o.includes(s)||(m.self.context.mainElement.querySelectorAll(`[data-vc-date="${s}"]`).forEach(i=>i.dataset.vcDateHover=""),t.forEach(i=>i.dataset.vcDateHover="first"),n.forEach(i=>{i.dataset.vcDateHover==="first"?i.dataset.vcDateHover="first-and-last":i.dataset.vcDateHover="last"}))},X=()=>{var e,t;(t=(e=m.self)==null?void 0:e.context)!=null&&t.mainElement&&m.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach(n=>n.removeAttribute("data-vc-date-hover"))},ha=e=>{var t,n;if(!e||!((n=(t=m.self)==null?void 0:t.context)!=null&&n.selectedDates[0]))return;if(!e.closest('[data-vc="dates"]'))return m.lastDateEl=null,$(m.self,m.tooltipEl,null),void X();let a=e.closest("[data-vc-date]");if(!a||m.lastDateEl===a)return;m.lastDateEl=a,$(m.self,m.tooltipEl,a),X();let r=a.dataset.vcDate,o=v(m.self.context.selectedDates[0]),s=v(r),i=m.self.context.mainElement.querySelectorAll(`[data-vc-date="${m.self.context.selectedDates[0]}"]`),l=m.self.context.mainElement.querySelectorAll(`[data-vc-date="${r}"]`),[c,d]=o<s?[i,l]:[l,i],[h,p]=o<s?[o,s]:[s,o];for(let f=new Date(h);f<=p;f.setDate(f.getDate()+1))ua(f,c,d)},pa=e=>{let t=e==null?void 0:e.closest("[data-vc-date-selected]");if(!t&&m.lastDateEl)return m.lastDateEl=null,void $(m.self,m.tooltipEl,null);t&&m.lastDateEl!==t&&(m.lastDateEl=t,$(m.self,m.tooltipEl,t))},Mt=e=>t=>{let n=t.target;m.isHovering||(m.isHovering=!0,requestAnimationFrame(()=>{e(n),m.isHovering=!1}))},me=Mt(ha),de=Mt(pa),V=e=>{m.self&&e.key==="Escape"&&(m.lastDateEl=null,g(m.self,"selectedDates",[]),m.self.context.mainElement.removeEventListener("mousemove",me),m.self.context.mainElement.removeEventListener("keydown",V),$(m.self,m.tooltipEl,null),X())},H=()=>{m.timeoutId!==null&&clearTimeout(m.timeoutId),m.timeoutId=setTimeout(()=>{m.lastDateEl=null,$(m.self,m.tooltipEl,null),X()},50)},ga=()=>{var e,t,n,a;if(!((n=(t=(e=m.self)==null?void 0:e.context)==null?void 0:t.selectedDates)!=null&&n[0])||!((a=m.self.context.disableDates)!=null&&a[0]))return;let r=v(m.self.context.selectedDates[0]),[o,s]=m.self.context.disableDates.map(i=>v(i)).reduce(([i,l],c)=>[r>=c?c:i,r<c&&l===null?c:l],[null,null]);o&&g(m.self,"displayDateMin",Y(new Date(o.setDate(o.getDate()+1)))),s&&g(m.self,"displayDateMax",Y(new Date(s.setDate(s.getDate()-1)))),m.self.disableDatesPast&&!m.self.disableAllDates&&v(m.self.context.displayDateMin)<v(m.self.context.dateToday)&&g(m.self,"displayDateMin",m.self.context.dateToday)},Tt=(e,t)=>{m.self=e,m.lastDateEl=t,X(),e.disableDatesGaps&&(m.rangeMin=m.rangeMin?m.rangeMin:e.context.displayDateMin,m.rangeMax=m.rangeMax?m.rangeMax:e.context.displayDateMax),e.onCreateDateRangeTooltip&&(m.tooltipEl=e.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));let n=t==null?void 0:t.dataset.vcDate;if(n){let a=e.context.selectedDates.length===1&&e.context.selectedDates[0].includes(n),r=a&&!_e(e)?[n,n]:a&&_e(e)?[]:e.context.selectedDates.length>1?[n]:[...e.context.selectedDates,n];g(e,"selectedDates",r),e.context.selectedDates.length>1&&e.context.selectedDates.sort((o,s)=>+new Date(o)-+new Date(s))}({set:()=>(e.disableDatesGaps&&ga(),$(m.self,m.tooltipEl,t),m.self.context.mainElement.removeEventListener("mousemove",de),m.self.context.mainElement.removeEventListener("mouseleave",H),m.self.context.mainElement.removeEventListener("keydown",V),m.self.context.mainElement.addEventListener("mousemove",me),m.self.context.mainElement.addEventListener("mouseleave",H),m.self.context.mainElement.addEventListener("keydown",V),()=>{m.self.context.mainElement.removeEventListener("mousemove",me),m.self.context.mainElement.removeEventListener("mouseleave",H),m.self.context.mainElement.removeEventListener("keydown",V)}),reset:()=>{let[a,r]=[e.context.selectedDates[0],e.context.selectedDates[e.context.selectedDates.length-1]],o=e.context.selectedDates[0]!==e.context.selectedDates[e.context.selectedDates.length-1],s=R([`${a}:${r}`]).filter(l=>!e.context.disableDates.includes(l)),i=o?e.enableEdgeDatesOnly?[a,r]:s:[e.context.selectedDates[0],e.context.selectedDates[0]];if(g(e,"selectedDates",i),e.disableDatesGaps&&(g(e,"displayDateMin",m.rangeMin),g(e,"displayDateMax",m.rangeMax)),m.self.context.mainElement.removeEventListener("mousemove",me),m.self.context.mainElement.removeEventListener("mouseleave",H),m.self.context.mainElement.removeEventListener("keydown",V),e.onCreateDateRangeTooltip)return e.context.selectedDates[0]||(m.self.context.mainElement.removeEventListener("mousemove",de),m.self.context.mainElement.removeEventListener("mouseleave",H),$(m.self,m.tooltipEl,null)),e.context.selectedDates[0]&&(m.self.context.mainElement.addEventListener("mousemove",de),m.self.context.mainElement.addEventListener("mouseleave",H),$(m.self,m.tooltipEl,t)),()=>{m.self.context.mainElement.removeEventListener("mousemove",de),m.self.context.mainElement.removeEventListener("mouseleave",H)}}})[e.context.selectedDates.length===1?"set":"reset"]()},ke=e=>{e.context.mainElement.querySelectorAll("[data-vc-date]").forEach(t=>{let n=t.querySelector("[data-vc-date-btn]"),a=t.dataset.vcDate,r=v(a).getDay();bt(e,e.context.selectedYear,t,n,r,a,"current")})},fa=(e,t)=>{var n;let a=t.target,r=a.closest("[data-vc-date-btn]");if(!e.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(e.selectionDatesMode)||!r)return;let o=r.closest("[data-vc-date]");({single:()=>ft(e,o,!1),multiple:()=>ft(e,o,!0),"multiple-ranged":()=>Tt(e,o)})[e.selectionDatesMode](),(n=e.context.selectedDates)==null||n.sort((l,c)=>+new Date(l)-+new Date(c)),e.onClickDate&&e.onClickDate(e,t),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t);let s=a.closest('[data-vc-date-month="prev"]'),i=a.closest('[data-vc-date-month="next"]');({prev:()=>e.enableMonthChangeOnDayClick?Oe(e,"prev"):ke(e),next:()=>e.enableMonthChangeOnDayClick?Oe(e,"next"):ke(e),current:()=>ke(e)})[s?"prev":i?"next":"current"]()},va=["month","year"],St=(e,t,n)=>{let{currentValue:a,columnID:r}=ze(e,t);return e.context.currentType==="month"&&r>=0?n-r:e.context.currentType==="year"&&e.context.selectedYear!==a?n-1:n},ya=(e,t)=>{let n=St(e,"year",Number(t.dataset.vcYearsYear)),a=v(e.context.dateMin),r=v(e.context.dateMax),o=e.context.displayMonthsCount-1,{columnID:s}=ze(e,"year"),i=e.context.selectedMonth<a.getMonth()&&n<=a.getFullYear(),l=e.context.selectedMonth>r.getMonth()-o+s&&n>=r.getFullYear(),c=n<a.getFullYear(),d=n>r.getFullYear(),h=i||c?a.getFullYear():l||d?r.getFullYear():n,p=i||c?a.getMonth():l||d?r.getMonth()-o+s:e.context.selectedMonth;g(e,"selectedYear",h),g(e,"selectedMonth",p)},ba=(e,t)=>{let n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),a=St(e,"month",Number(t.dataset.vcMonthsMonth)),r=Number(n.dataset.vcYear),o=v(e.context.dateMin),s=v(e.context.dateMax),i=a<o.getMonth()&&r<=o.getFullYear(),l=a>s.getMonth()&&r>=s.getFullYear();g(e,"selectedYear",r),g(e,"selectedMonth",i?o.getMonth():l?s.getMonth():a)},Ea=(e,t,n,a)=>{var r;({year:()=>{if(e.type==="multiple")return ya(e,a);g(e,"selectedYear",Number(a.dataset.vcYearsYear))},month:()=>{if(e.type==="multiple")return ba(e,a);g(e,"selectedMonth",Number(a.dataset.vcMonthsMonth))}})[n](),{year:()=>{var o;return(o=e.onClickYear)==null?void 0:o.call(e,e,t)},month:()=>{var o;return(o=e.onClickMonth)==null?void 0:o.call(e,e,t)}}[n](),e.context.currentType!==e.type?(g(e,"currentType",e.type),fe(e),(r=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||r.focus()):We(e,a,n,!0,!0)},wa=(e,t,n)=>{var a;let r=t.target,o=r.closest(`[data-vc="${n}"]`),s={year:()=>Ge(e,r),month:()=>xt(e,r)};if(o&&e.onClickTitle&&e.onClickTitle(e,t),o&&e.context.currentType!==n)return s[n]();let i=r.closest(`[data-vc-${n}s-${n}]`);if(i)return Ea(e,t,n,i);let l=r.closest('[data-vc="grid"]'),c=r.closest('[data-vc="column"]');(e.context.currentType===n&&o||e.type==="multiple"&&e.context.currentType===n&&l&&!c)&&(g(e,"currentType",e.type),fe(e),(a=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||a.focus())},xa=(e,t)=>{let n={month:e.selectionMonthsMode,year:e.selectionYearsMode};va.forEach(a=>{n[a]&&t.target&&wa(e,t,a)})},Da=(e,t)=>{if(!e.enableWeekNumbers||!e.onClickWeekNumber)return;let n=t.target.closest("[data-vc-week-number]"),a=e.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!n||!a[0])return;let r=Number(n.innerText),o=Number(n.dataset.vcWeekYear),s=Array.from(a).filter(i=>Number(i.dataset.vcDateWeekNumber)===r);e.onClickWeekNumber(e,r,o,s,t)},Ma=(e,t)=>{if(!e.onClickWeekDay)return;let n=t.target.closest("[data-vc-week-day]"),a=t.target.closest('[data-vc="column"]'),r=a?a.querySelectorAll("[data-vc-date-week-day]"):e.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!n||!r[0])return;let o=Number(n.dataset.vcWeekDay),s=Array.from(r).filter(i=>Number(i.dataset.vcDateWeekDay)===o);e.onClickWeekDay(e,o,s,t)},Ct=e=>{let t=n=>{ma(e,n),Ma(e,n),Da(e,n),fa(e,n),xa(e,n)};return e.context.mainElement.addEventListener("click",t),()=>e.context.mainElement.removeEventListener("click",t)},Ta=e=>{if(e.type==="multiple"&&(e.displayMonthsCount<=1||e.displayMonthsCount>12))throw new Error(F.incorrectMonthsCount);if(e.type!=="multiple"&&e.displayMonthsCount>1)throw new Error(F.incorrectMonthsCount);g(e,"displayMonthsCount",e.displayMonthsCount?e.displayMonthsCount:e.type==="multiple"?2:1)},Sa=()=>{let e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},P=(e,t)=>e==="today"?Sa():e instanceof Date||typeof e=="number"||typeof e=="string"?R([e])[0]:t,Ca=e=>{var t,n,a;let r=P(e.dateMin,e.dateMin),o=P(e.dateMax,e.dateMax),s=P(e.displayDateMin,r),i=P(e.displayDateMax,o);g(e,"dateToday",P(e.dateToday,e.dateToday)),g(e,"displayDateMin",s?v(r)>=v(s)?r:s:r),g(e,"displayDateMax",i?v(o)<=v(i)?o:i:o);let l=e.disableDatesPast&&!e.disableAllDates&&v(s)<v(e.context.dateToday);g(e,"displayDateMin",l||e.disableAllDates?e.context.dateToday:s),g(e,"displayDateMax",e.disableAllDates?e.context.dateToday:i),g(e,"disableDates",e.disableDates[0]&&!e.disableAllDates?R(e.disableDates):e.disableAllDates?[e.context.displayDateMin]:[]),e.context.disableDates.length>1&&e.context.disableDates.sort((c,d)=>+new Date(c)-+new Date(d)),g(e,"enableDates",e.enableDates[0]?R(e.enableDates):[]),(t=e.context.enableDates)!=null&&t[0]&&((n=e.context.disableDates)!=null&&n[0])&&g(e,"disableDates",e.context.disableDates.filter(c=>!e.context.enableDates.includes(c))),e.context.enableDates.length>1&&e.context.enableDates.sort((c,d)=>+new Date(c)-+new Date(d)),(a=e.context.enableDates)!=null&&a[0]&&e.disableAllDates&&(g(e,"displayDateMin",e.context.enableDates[0]),g(e,"displayDateMax",e.context.enableDates[e.context.enableDates.length-1])),g(e,"dateMin",e.displayDisabledDates?r:e.context.displayDateMin),g(e,"dateMax",e.displayDisabledDates?o:e.context.displayDateMax)},La=e=>{var t;g(e,"selectedDates",(t=e.selectedDates)!=null&&t[0]?R(e.selectedDates):[])},Aa=e=>{let t=r=>{let o=new Date(r);Fe(e,o.getMonth(),o.getFullYear())};if(e.displayDateMin&&e.displayDateMin!=="today"&&(n=e.displayDateMin,a=new Date,new Date(n).getTime()>a.getTime())){let r=e.selectedDates.length&&e.selectedDates[0]?R(e.selectedDates)[0]:e.displayDateMin;return t(v(P(r,e.displayDateMin))),!0}var n,a;if(e.displayDateMax&&e.displayDateMax!=="today"&&((r,o)=>new Date(r).getTime()<o.getTime())(e.displayDateMax,new Date)){let r=e.selectedDates.length&&e.selectedDates[0]?R(e.selectedDates)[0]:e.displayDateMax;return t(v(P(r,e.displayDateMax))),!0}return!1},Fe=(e,t,n)=>{g(e,"selectedMonth",t),g(e,"selectedYear",n),g(e,"displayYear",n)},Na=e=>{var t;if(e.enableJumpToSelectedDate&&((t=e.selectedDates)!=null&&t[0])&&e.selectedMonth===void 0&&e.selectedYear===void 0){let r=v(R(e.selectedDates)[0]);return void Fe(e,r.getMonth(),r.getFullYear())}if(Aa(e))return;let n=e.selectedMonth!==void 0&&Number(e.selectedMonth)>=0&&Number(e.selectedMonth)<12,a=e.selectedYear!==void 0&&Number(e.selectedYear)>=0&&Number(e.selectedYear)<=9999;Fe(e,n?Number(e.selectedMonth):v(e.context.dateToday).getMonth(),a?Number(e.selectedYear):v(e.context.dateToday).getFullYear())},ka=e=>{var t,n,a;if(!e.selectionTimeMode)return;if(![12,24].includes(e.selectionTimeMode))throw new Error(F.incorrectTime);let r=e.selectionTimeMode===12,o=r?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/,[s,i,l]=(a=(n=(t=e.selectedTime)==null?void 0:t.match(o))==null?void 0:n.slice(1))!=null?a:[];s?r&&!l&&(l="AM"):(s=r?Q(String(e.timeMinHour)):String(e.timeMinHour),i=String(e.timeMinMinute),l=r?Number(Q(String(e.timeMinHour)))>=12?"PM":"AM":null),g(e,"selectedHours",s.padStart(2,"0")),g(e,"selectedMinutes",i.padStart(2,"0")),g(e,"selectedKeeping",l),g(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${l?` ${l}`:""}`)},Lt=e=>{g(e,"currentType",e.type),Ta(e),Ca(e),Na(e),La(e),ka(e)},At=(e,{year:t,month:n,dates:a,time:r,locale:o},s=!0)=>{var i;let l={year:e.selectedYear,month:e.selectedMonth,dates:e.selectedDates,time:e.selectedTime};e.selectedYear=t?l.year:e.context.selectedYear,e.selectedMonth=n?l.month:e.context.selectedMonth,e.selectedTime=r?l.time:e.context.selectedTime,e.selectedDates=a==="only-first"&&((i=e.context.selectedDates)!=null&&i[0])?[e.context.selectedDates[0]]:a===!0?l.dates:e.context.selectedDates,o&&g(e,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),Lt(e),s&&fe(e),e.selectedYear=l.year,e.selectedMonth=l.month,e.selectedDates=l.dates,e.selectedTime=l.time,e.selectionDatesMode==="multiple-ranged"&&a&&Tt(e,null)},Ia=e=>{let t=document.createElement("div");return t.className=e.styles.calendar,t.dataset.vc="calendar",t.dataset.vcInput="",t.dataset.vcCalendarHidden="",g(e,"inputModeInit",!0),g(e,"isShowInInputMode",!1),g(e,"mainElement",t),document.body.appendChild(e.context.mainElement),At(e,{year:!0,month:!0,dates:!0,time:!0,locale:!0}),setTimeout(()=>Ve(e)),e.onInit&&e.onInit(e),Dt(e),Ct(e)},$a=e=>{g(e,"inputElement",e.context.mainElement);let t=()=>{e.context.inputModeInit?setTimeout(()=>Ve(e)):Ia(e)};return e.context.inputElement.addEventListener("click",t),e.context.inputElement.addEventListener("focus",t),()=>{e.context.inputElement.removeEventListener("click",t),e.context.inputElement.removeEventListener("focus",t)}},Ra=e=>(g(e,"originalElement",e.context.mainElement.cloneNode(!0)),g(e,"isInit",!0),e.inputMode?$a(e):(Lt(e),fe(e),e.onInit&&e.onInit(e),Dt(e),Ct(e))),Nt=(e,t)=>{if(!e.context.isInit)throw new Error(F.notInit);At(e,U(U({},{year:!0,month:!0,dates:!0,time:!0,locale:!0}),t),!(e.inputMode&&!e.context.inputModeInit)),e.onUpdate&&e.onUpdate(e)},je=(e,t)=>{let n=Object.keys(t);for(let a=0;a<n.length;a++){let r=n[a];typeof e[r]!="object"||typeof t[r]!="object"||t[r]instanceof Date||Array.isArray(t[r])?t[r]!==void 0&&(e[r]=t[r]):je(e[r],t[r])}},Oa=(e,t,n)=>{je(e,t),e.context.isInit&&Nt(e,n)};vt=(e,t,n)=>{if(!e)return;let a=n==="auto"?_a(e,t):n,r={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},o=Array.isArray(a)?a[0]:"bottom",s=Array.isArray(a)?a[1]:a;t.dataset.vcPosition=o;let{top:i,left:l}=Ye(e),c=i+r[o],d=l+r[s],{vw:h}=qe();if(d+t.clientWidth>h){let p=window.innerWidth-document.body.clientWidth;d=h-t.clientWidth-p}else d<0&&(d=0);Object.assign(t.style,{left:`${d}px`,top:`${c}px`})},Ve=e=>{if(e.context.isShowInInputMode)return;if(!e.context.currentType)return void e.context.mainElement.click();g(e,"cleanupHandlers",[]),g(e,"isShowInInputMode",!0),vt(e.context.inputElement,e.context.mainElement,e.positionToInput),e.context.mainElement.removeAttribute("data-vc-calendar-hidden");let t=()=>{vt(e.context.inputElement,e.context.mainElement,e.positionToInput)};window.addEventListener("resize",t),e.context.cleanupHandlers.push(()=>window.removeEventListener("resize",t));let n=r=>{r.key==="Escape"&&$e(e)};document.addEventListener("keydown",n),e.context.cleanupHandlers.push(()=>document.removeEventListener("keydown",n));let a=r=>{r.target===e.context.inputElement||e.context.mainElement.contains(r.target)||$e(e)};document.addEventListener("click",a,{capture:!0}),e.context.cleanupHandlers.push(()=>document.removeEventListener("click",a,{capture:!0})),e.onShow&&e.onShow(e)},Fa={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},Ha={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"},He=class{constructor(){u(this,"type","default"),u(this,"inputMode",!1),u(this,"positionToInput","left"),u(this,"firstWeekday",1),u(this,"monthsToSwitch",1),u(this,"themeAttrDetect","html[data-theme]"),u(this,"locale","en"),u(this,"dateToday","today"),u(this,"dateMin","1970-01-01"),u(this,"dateMax","2470-12-31"),u(this,"displayDateMin"),u(this,"displayDateMax"),u(this,"displayDatesOutside",!0),u(this,"displayDisabledDates",!1),u(this,"displayMonthsCount"),u(this,"disableDates",[]),u(this,"disableAllDates",!1),u(this,"disableDatesPast",!1),u(this,"disableDatesGaps",!1),u(this,"disableWeekdays",[]),u(this,"disableToday",!1),u(this,"enableDates",[]),u(this,"enableEdgeDatesOnly",!0),u(this,"enableDateToggle",!0),u(this,"enableWeekNumbers",!1),u(this,"enableMonthChangeOnDayClick",!0),u(this,"enableJumpToSelectedDate",!1),u(this,"selectionDatesMode","single"),u(this,"selectionMonthsMode",!0),u(this,"selectionYearsMode",!0),u(this,"selectionTimeMode",!1),u(this,"selectedDates",[]),u(this,"selectedMonth"),u(this,"selectedYear"),u(this,"selectedHolidays",[]),u(this,"selectedWeekends",[0,6]),u(this,"selectedTime"),u(this,"selectedTheme","system"),u(this,"timeMinHour",0),u(this,"timeMaxHour",23),u(this,"timeMinMinute",0),u(this,"timeMaxMinute",59),u(this,"timeControls","all"),u(this,"timeStepHour",1),u(this,"timeStepMinute",1),u(this,"sanitizerHTML",t=>t),u(this,"onClickDate"),u(this,"onClickWeekDay"),u(this,"onClickWeekNumber"),u(this,"onClickTitle"),u(this,"onClickMonth"),u(this,"onClickYear"),u(this,"onClickArrow"),u(this,"onChangeTime"),u(this,"onChangeToInput"),u(this,"onCreateDateRangeTooltip"),u(this,"onCreateDateEls"),u(this,"onCreateMonthEls"),u(this,"onCreateYearEls"),u(this,"onInit"),u(this,"onUpdate"),u(this,"onDestroy"),u(this,"onShow"),u(this,"onHide"),u(this,"popups",{}),u(this,"labels",U({},Fa)),u(this,"layouts",{default:"",multiple:"",month:"",year:""}),u(this,"styles",U({},Ha))}},kt=class Pe extends He{constructor(t,n){var a;super(),u(this,"init",()=>Ra(this)),u(this,"update",r=>Nt(this,r)),u(this,"destroy",()=>yn(this)),u(this,"show",()=>Ve(this)),u(this,"hide",()=>$e(this)),u(this,"set",(r,o)=>Oa(this,r,o)),u(this,"context"),this.context=vn(U({},this.context),{locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}}),g(this,"mainElement",typeof t=="string"?(a=Pe.memoizedElements.get(t))!=null?a:this.queryAndMemoize(t):t),n&&je(this,n)}queryAndMemoize(t){let n=document.querySelector(t);if(!n)throw new Error(F.notFoundSelector(t));return Pe.memoizedElements.set(t,n),n}};u(kt,"memoizedElements",new Map);It=kt});var Pa,Ke,Z,Rt=L(()=>{O();Pa=S("CalendarAdapter"),Ke=class{constructor(){this.meetingsData=null,this.eventTypeStyles={business:{color:"#1a5276",bgColor:"#e8f4f8"},auction:{color:"#d35400",bgColor:"#fdf2e8"},social:{color:"#27ae60",bgColor:"#e8f8f0"},regular:{color:"#8e44ad",bgColor:"#f3e8f8"},holiday:{color:"#c0392b",bgColor:"#fdeaea"},picnic:{color:"#f39c12",bgColor:"#fef9e7"}}}async loadMeetings(){try{let t=await fetch("data/meetings/meetings.json");if(!t.ok)throw new Error(`Failed to load meetings: ${t.status}`);return this.meetingsData=await t.json(),this.meetingsData}catch(t){return Pa.error("Error loading meetings:",t),null}}getMeetingByDate(t){return!this.meetingsData||!this.meetingsData.meetings?null:this.meetingsData.meetings.find(n=>n.date===t)}convertToCalendarEvents(t){return!t||!t.meetings?[]:t.meetings.map(n=>this.convertMeetingToEvent(n))}convertMeetingToEvent(t){let n=new Date(t.date+"T00:00:00"),a=this.eventTypeStyles[t.type]||this.eventTypeStyles.regular;return{id:t.id,date:this.formatDateForCalendar(n),summary:t.title,description:this.buildEventDescription(t),type:t.type,cancelled:t.cancelled||!1,time:t.time,location:t.location,color:a.color,bgColor:a.bgColor,tags:t.tags||[],HTMLContent:this.buildEventHTML(t),popover:{modifier:"vc-red",html:this.buildPopoverHTML(t)}}}formatDateForCalendar(t){return t.toISOString().split("T")[0]}buildEventDescription(t){let n=t.description||"";return t.presenter&&t.presenter.name&&(n+=`

Presenter: ${t.presenter.name}`),t.specialNotes&&t.specialNotes.length>0&&(n+=`

Special Notes:
${t.specialNotes.join(`
`)}`),n.trim()}buildEventHTML(t){let n=t.time?`${t.time.doorsOpen||t.time.meetingStart}`:"",a=t.cancelled?"cancelled":"";return`
            <div class="calendar-event ${`event-${t.type}`} ${a}">
                <div class="event-time">${n}</div>
                <div class="event-title">${t.title}</div>
                ${t.cancelled?'<div class="event-cancelled">CANCELLED</div>':""}
            </div>
        `}buildPopoverHTML(t){var s;let n=t.location?`${t.location.name}<br>${(s=t.location.address)==null?void 0:s.street}`:"Location TBD",a=t.time?`
            <strong>Schedule:</strong><br>
            Doors: ${t.time.doorsOpen}<br>
            Meeting: ${t.time.meetingStart} - ${t.time.meetingEnd}
        `:"",r=t.presenter?`<br><strong>Presenter:</strong> ${t.presenter.name}`:"";return`
            <div class="meeting-popover">
                ${t.cancelled?'<div class="cancelled-notice"><strong>\u26A0\uFE0F CANCELLED</strong></div>':""}
                <h4>${t.title}</h4>
                <div class="meeting-details">
                    <strong>Date:</strong> ${this.formatDisplayDate(new Date(t.date+"T00:00:00"))}<br>
                    ${a}
                    <br><strong>Location:</strong><br>
                    ${n}
                    ${r}
                    <br><br>
                    <div class="meeting-description">
                        ${t.description||""}
                    </div>
                </div>
            </div>
        `}formatDisplayDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEventsForMonth(t,n,a){return t.filter(r=>{let o=new Date(r.date);return o.getFullYear()===n&&o.getMonth()===a})}getUpcomingEvents(t,n=5){let a=new Date;return t.filter(o=>new Date(o.date)>=a&&!o.cancelled).sort((o,s)=>new Date(o.date)-new Date(s.date)).slice(0,n)}getNextMeeting(t){let n=this.getUpcomingEvents(t,1);return n.length>0?n[0]:null}filterEventsByType(t,n){return t.filter(a=>a.type===n)}getEventStatistics(t){let n={total:t.length,byType:{},upcoming:0,cancelled:0},a=new Date;return t.forEach(r=>{n.byType[r.type]=(n.byType[r.type]||0)+1,new Date(r.date)>=a&&!r.cancelled&&n.upcoming++,r.cancelled&&n.cancelled++}),n}},Z=new Ke});var Qe,Xe,Ot=L(()=>{Qe=class{constructor(){this.modal=null,this.isOpen=!1,this.focusableElements=null,this.previousFocus=null,this.init()}init(){this.createModal(),this.bindEvents()}createModal(){let t=document.getElementById("event-modal");t&&t.remove(),document.body.insertAdjacentHTML("beforeend",`
            <div id="event-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">
                <div class="modal-container">
                    <div class="modal-header">
                        <h2 id="modal-title" class="modal-title">Event Details</h2>
                        <button type="button" class="modal-close" aria-label="Close modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-content">
                        <div id="modal-body" class="modal-body">
                            <!-- Content will be dynamically inserted here -->
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close-btn">Close</button>
                    </div>
                </div>
            </div>
        `),this.modal=document.getElementById("event-modal")}bindEvents(){this.modal.querySelectorAll(".modal-close, .modal-close-btn").forEach(n=>{n.addEventListener("click",()=>this.close())}),this.modal.addEventListener("click",n=>{n.target===this.modal&&this.close()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.isOpen&&this.close()}),this.modal.addEventListener("keydown",n=>{n.key==="Tab"&&this.isOpen&&this.trapFocus(n)})}open(t){this.isOpen||(this.previousFocus=document.activeElement,this.populateContent(t),this.modal.style.display="flex",this.modal.setAttribute("aria-hidden","false"),setTimeout(()=>{this.modal.classList.add("modal-open"),this.isOpen=!0,this.setFocusableElements(),this.focusableElements.length>0&&this.focusableElements[0].focus()},10),document.body.style.overflow="hidden")}close(){this.isOpen&&(this.modal.classList.remove("modal-open"),this.modal.setAttribute("aria-hidden","true"),setTimeout(()=>{this.modal.style.display="none",this.isOpen=!1},300),document.body.style.overflow="",this.previousFocus&&this.previousFocus.focus())}populateContent(t){let n=this.modal.querySelector("#modal-title"),a=this.modal.querySelector("#modal-body");n.textContent=t.title;let r=this.buildMeetingContent(t);a.innerHTML=r}buildMeetingContent(t){let a=new Date(t.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),r=`event-type-${t.type}`,o=t.cancelled?"event-cancelled":"";return`
            <div class="event-details ${r} ${o}">
                ${t.cancelled?'<div class="cancelled-banner"><i class="fas fa-exclamation-triangle"></i> This event has been cancelled</div>':""}
                
                <div class="event-meta">
                    <div class="event-date">
                        <i class="fas fa-calendar"></i>
                        <span>${a}</span>
                    </div>
                    <div class="event-type">
                        <i class="fas fa-tag"></i>
                        <span class="type-badge type-${t.type}">${this.capitalizeFirst(t.type)}</span>
                    </div>
                </div>

                ${t.time?this.buildTimeSection(t.time):""}
                ${t.location?this.buildLocationSection(t.location):""}
                ${t.presenter?this.buildPresenterSection(t.presenter):""}
                ${t.description?this.buildDescriptionSection(t.description):""}
                ${t.agenda?this.buildAgendaSection(t.agenda):""}
                ${t.specialNotes?this.buildSpecialNotesSection(t.specialNotes):""}
                ${t.requirements?this.buildRequirementsSection(t.requirements):""}
                ${t.contact?this.buildContactSection(t.contact):""}
            </div>
        `}buildTimeSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-clock"></i> Schedule</h3>
                <div class="time-details">
                    ${t.doorsOpen?`<div class="time-item"><strong>Doors Open:</strong> ${t.doorsOpen}</div>`:""}
                    ${t.meetingStart?`<div class="time-item"><strong>Meeting Start:</strong> ${t.meetingStart}</div>`:""}
                    ${t.meetingEnd?`<div class="time-item"><strong>Meeting End:</strong> ${t.meetingEnd}</div>`:""}
                </div>
            </div>
        `}buildLocationSection(t){let n=t.address,a=n?`${n.street}, ${n.city}, ${n.state} ${n.zipCode}`:"";return`
            <div class="detail-section">
                <h3><i class="fas fa-map-marker-alt"></i> Location</h3>
                <div class="location-details">
                    <div class="location-name">${t.name}</div>
                    ${t.building?`<div class="location-building">${t.building}</div>`:""}
                    ${t.room?`<div class="location-room">${t.room}</div>`:""}
                    ${a?`<div class="location-address">${a}</div>`:""}
                </div>
            </div>
        `}buildPresenterSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-user"></i> Presenter</h3>
                <div class="presenter-details">
                    <div class="presenter-name">${t.name}</div>
                    ${t.bio?`<div class="presenter-bio">${t.bio}</div>`:""}
                </div>
            </div>
        `}buildDescriptionSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-info-circle"></i> Description</h3>
                <div class="description-content">
                    ${t}
                </div>
            </div>
        `}buildAgendaSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-list"></i> Agenda</h3>
                <div class="agenda-list">
                    ${t.map(a=>`
            <div class="agenda-item">
                <div class="agenda-time">${a.time}</div>
                <div class="agenda-content">
                    <div class="agenda-title">${a.item}</div>
                    ${a.presenter?`<div class="agenda-presenter">Presenter: ${a.presenter}</div>`:""}
                </div>
            </div>
        `).join("")}
                </div>
            </div>
        `}buildSpecialNotesSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-exclamation-circle"></i> Special Notes</h3>
                <ul class="special-notes">
                    ${t.map(a=>`<li>${a}</li>`).join("")}
                </ul>
            </div>
        `}buildRequirementsSection(t){let n=`
            <div class="detail-section">
                <h3><i class="fas fa-clipboard-check"></i> Requirements</h3>
                <div class="requirements-list">
        `;if(t.rsvpRequired!==void 0&&(n+=`<div class="requirement-item">
                <i class="fas fa-${t.rsvpRequired?"check":"times"}"></i>
                RSVP ${t.rsvpRequired?"Required":"Not Required"}
            </div>`),t.membershipRequired!==void 0&&(n+=`<div class="requirement-item">
                <i class="fas fa-${t.membershipRequired?"check":"times"}"></i>
                Membership ${t.membershipRequired?"Required":"Not Required"}
            </div>`),t.bringItems&&t.bringItems.length>0){let a=t.bringItems.map(r=>`<li>${r}</li>`).join("");n+=`<div class="requirement-item">
                <strong>Bring:</strong>
                <ul>${a}</ul>
            </div>`}return n+="</div></div>",n}buildContactSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-envelope"></i> Contact</h3>
                <div class="contact-details">
                    <div class="contact-name">${t.name}</div>
                    ${t.email?`<div class="contact-email">
                        <a href="mailto:${t.email}">
                            <i class="fas fa-envelope"></i> ${t.email}
                        </a>
                    </div>`:""}
                    ${t.phone?`<div class="contact-phone">
                        <a href="tel:${t.phone}">
                            <i class="fas fa-phone"></i> ${t.phone}
                        </a>
                    </div>`:""}
                </div>
            </div>
        `}setFocusableElements(){let t=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'];this.focusableElements=Array.from(this.modal.querySelectorAll(t.join(","))).filter(n=>!n.disabled&&!n.hidden)}trapFocus(t){if(this.focusableElements.length===0)return;let n=this.focusableElements[0],a=this.focusableElements[this.focusableElements.length-1];t.shiftKey?document.activeElement===n&&(a.focus(),t.preventDefault()):document.activeElement===a&&(n.focus(),t.preventDefault())}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}},Xe=new Qe});var ee,Je,Ze,_t=L(()=>{se();O();ee=S("ReminderSystem"),Je=class{constructor(){this.storageKey=xe.MEETING_REMINDERS,this.settingsKey=xe.REMINDER_SETTINGS,this.reminderTimers=new Map,this.defaultSettings={enabled:!1,reminderTimes:I.DEFAULT_TIMES,showBrowserNotifications:!1,playSound:!1},this.init()}init(){this.loadSettings(),this.checkPermissions(),this.scheduleReminders(),this.createReminderUI(),setInterval(()=>this.checkDueReminders(),G.REMINDER_CHECK_INTERVAL)}loadSettings(){try{let t=localStorage.getItem(this.settingsKey);this.settings=t?C(C({},this.defaultSettings),JSON.parse(t)):C({},this.defaultSettings)}catch(t){ee.warn("Error loading reminder settings:",t),this.settings=C({},this.defaultSettings)}}saveSettings(){try{localStorage.setItem(this.settingsKey,JSON.stringify(this.settings))}catch(t){ee.warn("Error saving reminder settings:",t)}}async checkPermissions(){"Notification"in window?Notification.permission==="default"?this.settings.showBrowserNotifications=!1:Notification.permission==="granted"||(this.settings.showBrowserNotifications=!1):this.settings.showBrowserNotifications=!1}async requestNotificationPermission(){if("Notification"in window){let t=await Notification.requestPermission();return this.settings.showBrowserNotifications=t==="granted",this.saveSettings(),t==="granted"}return!1}setReminders(t){if(!this.settings.enabled)return;this.clearAllReminders();let n=new Date,a=[];t.forEach(r=>{if(r.cancelled)return;let o=new Date(r.date+"T00:00:00");if(r.time&&r.time.meetingStart){let[s,i]=r.time.meetingStart.split(" "),[l,c]=s.split(":").map(Number),d=l;i==="PM"&&l!==12&&(d+=12),i==="AM"&&l===12&&(d=0),o.setHours(d,c,0,0)}o<=n||this.settings.reminderTimes.forEach(s=>{let i=new Date(o.getTime()-s.minutes*6e4);if(i>n){let l=`${r.id}-${s.minutes}`;a.push({id:l,meetingId:r.id,meetingTitle:r.title,meetingDate:o,reminderDate:i,reminderLabel:s.label,reminderMinutes:s.minutes})}})}),this.saveReminders(a),this.scheduleReminders()}saveReminders(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(n){ee.warn("Error saving reminders:",n)}}loadReminders(){try{let t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return ee.warn("Error loading reminders:",t),[]}}scheduleReminders(){if(!this.settings.enabled)return;this.clearAllReminders();let t=this.loadReminders(),n=new Date;t.forEach(a=>{let o=new Date(a.reminderDate).getTime()-n.getTime();if(o>0){let s=setTimeout(()=>{this.showReminder(a),this.removeReminder(a.id)},o);this.reminderTimers.set(a.id,s)}})}clearAllReminders(){this.reminderTimers.forEach(t=>clearTimeout(t)),this.reminderTimers.clear()}removeReminder(t){this.reminderTimers.has(t)&&(clearTimeout(this.reminderTimers.get(t)),this.reminderTimers.delete(t));let n=this.loadReminders().filter(a=>a.id!==t);this.saveReminders(n)}checkDueReminders(){if(!this.settings.enabled)return;let t=this.loadReminders(),n=new Date;t.filter(r=>new Date(r.reminderDate)<=n).forEach(r=>{this.showReminder(r),this.removeReminder(r.id)})}showReminder(t){let n=new Date(t.meetingDate),a=n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),r=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});this.showInPageNotification({title:`Meeting Reminder: ${t.reminderLabel}`,message:`${t.meetingTitle}`,details:`${a} at ${r}`,meetingId:t.meetingId}),this.settings.showBrowserNotifications&&"Notification"in window&&Notification.permission==="granted"&&this.showBrowserNotification(t,a,r),this.settings.playSound&&this.playNotificationSound()}showBrowserNotification(t,n,a){let r=new Notification("SAPA Meeting Reminder",{body:`${t.meetingTitle}
${n} at ${a}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:`sapa-meeting-${t.meetingId}`,requireInteraction:!1});r.onclick=()=>{window.focus(),r.close()},setTimeout(()=>r.close(),I.NOTIFICATION_AUTO_CLOSE)}showInPageNotification(t){let n=document.getElementById("reminder-notification");n&&n.remove();let a=document.createElement("div");a.id="reminder-notification",a.className="reminder-notification",a.innerHTML=`
            <div class="reminder-content">
                <div class="reminder-header">
                    <strong>${t.title}</strong>
                    <button class="reminder-close" aria-label="Close notification">\xD7</button>
                </div>
                <div class="reminder-message">${t.message}</div>
                <div class="reminder-details">${t.details}</div>
                <div class="reminder-actions">
                    <button class="btn btn-sm btn-primary reminder-view">View Details</button>
                    <button class="btn btn-sm btn-light reminder-dismiss">Dismiss</button>
                </div>
            </div>
        `,a.querySelector(".reminder-close").onclick=()=>a.remove(),a.querySelector(".reminder-dismiss").onclick=()=>a.remove(),a.querySelector(".reminder-view").onclick=()=>{window.modal&&t.meetingId,a.remove()},document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.remove()},G.REMINDER_AUTO_DISMISS)}playNotificationSound(){try{let t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),a=t.createGain();n.connect(a),a.connect(t.destination),n.frequency.setValueAtTime(I.SOUND_FREQUENCIES.HIGH,t.currentTime),n.frequency.setValueAtTime(I.SOUND_FREQUENCIES.LOW,t.currentTime+.1),a.gain.setValueAtTime(I.SOUND_VOLUME,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+I.SOUND_DURATION),n.start(t.currentTime),n.stop(t.currentTime+I.SOUND_DURATION)}catch(t){ee.warn("Could not play notification sound:",t)}}createReminderUI(){if(!(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"))return;let t=document.getElementById("reminder-settings-container");t&&(t.innerHTML=`
            <div class="reminder-settings">
                <h3>Meeting Reminders</h3>
                <div class="reminder-controls">
                    <label class="reminder-toggle">
                        <input type="checkbox" ${this.settings.enabled?"checked":""} id="reminder-enabled">
                        Enable meeting reminders
                    </label>
                    
                    <div class="reminder-options ${this.settings.enabled?"":De.DISABLED}">
                        <label class="reminder-option">
                            <input type="checkbox" ${this.settings.showBrowserNotifications?"checked":""} id="browser-notifications">
                            Browser notifications
                        </label>
                        
                        <label class="reminder-option">
                            <input type="checkbox" ${this.settings.playSound?"checked":""} id="play-sound">
                            Play notification sound
                        </label>
                        
                        <div class="reminder-times">
                            <strong>Reminder Times:</strong>
                            ${this.settings.reminderTimes.map(n=>`
                                <div class="reminder-time-item">
                                    <span>${n.label}</span>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    
                    <div class="reminder-actions">
                        <button class="btn btn-sm btn-primary" id="save-reminder-settings">Save Settings</button>
                        <button class="btn btn-sm btn-secondary" id="test-reminder">Test Reminder</button>
                    </div>
                </div>
            </div>
        `,this.bindUIEvents())}bindUIEvents(){let t=document.getElementById("reminder-enabled"),n=document.getElementById("browser-notifications"),a=document.getElementById("play-sound"),r=document.getElementById("save-reminder-settings"),o=document.getElementById("test-reminder");t&&(t.onchange=()=>{this.settings.enabled=t.checked;let s=document.querySelector(".reminder-options");s&&s.classList.toggle(De.DISABLED,!t.checked)}),n&&(n.onchange=async()=>{if(n.checked){let s=await this.requestNotificationPermission();n.checked=s,this.settings.showBrowserNotifications=s}else this.settings.showBrowserNotifications=!1}),a&&(a.onchange=()=>{this.settings.playSound=a.checked}),r&&(r.onclick=()=>{this.saveSettings(),this.showInPageNotification({title:"Settings Saved",message:"Reminder settings have been updated",details:this.settings.enabled?"Reminders are now enabled":"Reminders are disabled"})}),o&&(o.onclick=()=>{this.showReminder({meetingTitle:"Test Meeting",meetingDate:new Date(Date.now()+I.DEFAULT_TIMES[2].minutes*6e4),reminderLabel:"Test notification",meetingId:"test"})})}enable(){this.settings.enabled=!0,this.saveSettings()}disable(){this.settings.enabled=!1,this.clearAllReminders(),this.saveSettings()}getStats(){let t=this.loadReminders(),n=t.filter(a=>new Date(a.reminderDate)>new Date);return{enabled:this.settings.enabled,totalReminders:t.length,activeReminders:n.length,scheduledTimers:this.reminderTimers.size}}},Ze=new Je});var Ft={};oe(Ft,{default:()=>Ya});var et,W,Ya,Ht=L(()=>{O();et=S("MeetingLoader"),W=class{constructor(t={}){this.dataUrl=t.dataUrl||"./data/meetings/meetings.json",this.meetings=[],this.metadata={},this.isLoaded=!1,this.isLoading=!1,this.callbacks={onLoad:t.onLoad||(()=>{}),onError:t.onError||(n=>et.error("Meeting loader error:",n))}}async loadData(){if(this.isLoaded||this.isLoading)return{meetings:this.meetings,metadata:this.metadata};this.isLoading=!0;try{let t=await fetch(this.dataUrl);if(!t.ok)throw new Error(`Failed to load meeting data: ${t.statusText}`);let n=await t.json();return this.meetings=n.meetings||[],this.metadata=n.metadata||{},this.isLoaded=!0,this.isLoading=!1,this.callbacks.onLoad(n),n}catch(t){throw this.isLoading=!1,et.error("Failed to load meeting data:",t),this.callbacks.onError(t),t}}filterMeetingsByDateRange(t,n){if(!this.isLoaded)return et.warn("Meeting data not loaded yet"),[];let a=new Date(t),r=new Date(n);return this.meetings.filter(o=>{let s=new Date(o.date+"T00:00:00");return s>=a&&s<=r}).sort((o,s)=>new Date(o.date+"T00:00:00")-new Date(s.date+"T00:00:00"))}getQ3Meetings(){return this.filterMeetingsByDateRange("2025-07-01","2025-09-30")}getQ4Meetings(){return this.filterMeetingsByDateRange("2025-10-01","2025-12-31")}getQ1Meetings(){return this.filterMeetingsByDateRange("2026-01-01","2026-03-31")}groupMeetingsByMonth(t){let n={};return t.forEach(a=>{let r=new Date(a.date+"T00:00:00"),o=r.toISOString().slice(0,7),s=r.toLocaleDateString("en-US",{month:"long",year:"numeric"});n[o]||(n[o]={name:s,meetings:[]}),n[o].meetings.push(a)}),n}formatMeetingType(t){if(t.cancelled)return"NO MEETING";switch(t.type){case"business":return"BOG; Show & Tell";case"auction":return"Auction";case"social":return"Bourse";case"regular":return t.presenter?`Program: ${t.title}`:"Program";case"picnic":return"Annual Picnic";case"holiday":return"NO MEETING";default:return t.title||"Meeting"}}getMeetingDetails(t){var n;return t.cancelled?t.title&&t.title.includes("Independence Day")?"Independence Day":t.title&&t.title.includes("Labor Day")?"Labor Day":t.tags&&t.tags.includes("holiday")?"Holiday":"":t.type==="regular"&&t.presenter?`by ${t.presenter.name}`:t.type==="picnic"&&((n=t.location)==null?void 0:n.name)||""}generateCalendarLink(t){return`data/calendar/${t.date}-meeting.ics`}renderMeetingsTable(t,n={}){let{dateRange:a="Q3-2025",showCalendarLinks:r=!0,_responsive:o=!0}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Meetings container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading meeting schedule...</div>';return}let s;a==="Q1-2026"?s=this.getQ1Meetings():a==="Q4-2025"?s=this.getQ4Meetings():s=this.getQ3Meetings();let i=this.groupMeetingsByMonth(s),l=this.generateTableHTML(i,r,a);t.innerHTML=l}generateTableHTML(t,n,a="Q3-2025"){let r,o;a==="Q1-2026"?(r=["2026-01","2026-02","2026-03"],o=["January 2026","February 2026","March 2026"]):a==="Q4-2025"?(r=["2025-10","2025-11","2025-12"],o=["October 2025","November 2025","December 2025"]):(r=["2025-07","2025-08","2025-09"],o=["July 2025","August 2025","September 2025"]);let s=`
            <table class="meeting-table" style="width: 100%; border-collapse: collapse; font-family: var(--font-body); border-radius: var(--radius-md); overflow: hidden; box-shadow: var(--shadow-sm);">
                <thead>
                    <tr style="background-color: var(--primary); color: white; text-align: center;">
                        ${o.map(l=>`<th style="padding: 1rem; font-size: 1.1rem; background-color: var(--primary-dark); color: var(--accent); font-weight: 700; text-shadow: 0 1px 2px rgba(0,0,0,0.3); width: 33.33%; text-align: center;">${l}</th>`).join("")}
                    </tr>
                </thead>
                <tbody>
        `,i=Math.max(...r.map(l=>t[l]?t[l].meetings.length:0));for(let l=0;l<i;l++){let d=l%2===0?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.6)";s+=`<tr style="background-color: ${d};">`,r.forEach(h=>{let p=t[h],f=p&&p.meetings[l];f?s+=this.generateMeetingCell(f,n):s+='<td style="padding: 0.75rem; border: 1px solid #ddd;"></td>'}),s+="</tr>"}return s+=`
                </tbody>
            </table>
        `,s}generateMeetingCell(t,n){let r=new Date(t.date+"T00:00:00").getDate(),o=this.formatMeetingType(t),s=this.getMeetingDetails(t),i=t.cancelled,l=n?this.generateCalendarLink(t):null,c="padding: 0.75rem; border: 1px solid #ddd;";i&&(c+=" font-weight: bold; color: var(--primary);");let d=`${r} ${o}`;return s&&!i&&(t.type==="regular"&&t.presenter?d+=`<br><span style="font-size: 0.9rem;">"${t.title}" by ${t.presenter.name}</span>`:s.includes("Day")&&(d+=`<br><span style="font-size: 0.9rem; font-weight: normal;">${s.replace(/[()]/g,"")}</span>`)),`
            <td style="${c}">
                <div class="meeting-entry">
                    <span>${d}</span>
                    ${l&&!i?`
                        <a href="${l}" class="calendar-link" download>
                            <i class="fas fa-calendar-plus" title="Add to Calendar"></i>
                        </a>
                    `:""}
                </div>
            </td>
        `}generateCalendarDownloadSection(){return`
            <div class="calendar-downloads">
                <h4>Calendar Downloads</h4>
                <p>
                    <a href="data/calendar/2025-Q3-schedule.ics" class="btn btn-secondary" download>
                        <i class="fas fa-calendar-download"></i> Download Complete Q3 2025 Schedule
                    </a>
                </p>
                <p class="calendar-note">
                    <small><i class="fas fa-info-circle"></i> 
                    Click the <i class="fas fa-calendar-plus"></i> icon next to individual meetings to add them to your calendar.
                    </small>
                </p>
            </div>
        `}renderMeetingsList(t,n={}){let{_dateRange:a="Q3-2025",showDetails:r=!0,groupByMonth:o=!0}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Meetings container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading meetings...</div>';return}let s=this.getQ3Meetings(),i='<div class="meetings-list">';if(o){let l=this.groupMeetingsByMonth(s);Object.keys(l).sort().forEach(c=>{let d=l[c];i+=`
                    <div class="month-section">
                        <h3 class="month-header">${d.name}</h3>
                        <div class="month-meetings">
                            ${d.meetings.map(h=>this.renderMeetingCard(h,r)).join("")}
                        </div>
                    </div>
                `})}else i+=s.map(l=>this.renderMeetingCard(l,r)).join("");i+="</div>",t.innerHTML=i}renderMeetingCard(t,n){var c,d;let r=new Date(t.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=this.formatMeetingType(t),s=this.getMeetingDetails(t),i=this.generateCalendarLink(t),l="meeting-card";return t.cancelled?l+=" cancelled":t.type==="regular"&&(l+=" special-program"),`
            <div class="${l}">
                <div class="meeting-header">
                    <div class="meeting-date">${r}</div>
                    <div class="meeting-time">
                        ${(c=t.time)!=null&&c.doorsOpen?`Doors: ${t.time.doorsOpen}`:""}
                        ${(d=t.time)!=null&&d.meetingStart?` | Meeting: ${t.time.meetingStart}`:""}
                    </div>
                </div>
                <div class="meeting-content">
                    <h4 class="meeting-title">${o}</h4>
                    ${s?`<p class="meeting-details">${s}</p>`:""}
                    ${n&&t.description?`<p class="meeting-description">${t.description}</p>`:""}
                    ${t.tags&&t.tags.length>0?`
                        <div class="meeting-tags">
                            ${t.tags.map(h=>`<span class="tag">${this.formatLabel(h)}</span>`).join("")}
                        </div>
                    `:""}
                </div>
                ${t.cancelled?"":`
                    <div class="meeting-actions">
                        <a href="${i}" class="btn btn-sm btn-outline" download>
                            <i class="fas fa-calendar-plus"></i> Add to Calendar
                        </a>
                    </div>
                `}
            </div>
        `}formatLabel(t){return t.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}static addStyles(){if(document.getElementById("meeting-loader-styles"))return;let t=`
            .meetings-list {
                margin: 2rem 0;
            }

            .month-section {
                margin-bottom: 3rem;
            }

            .month-header {
                color: var(--primary, #1a5276);
                border-bottom: 2px solid var(--primary, #1a5276);
                padding-bottom: 0.5rem;
                margin-bottom: 1.5rem;
            }

            .month-meetings {
                display: grid;
                gap: 1rem;
            }

            .meeting-card {
                background: var(--white, #fff);
                border: 1px solid var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                padding: 1.5rem;
                transition: all var(--transition-fast, 0.15s ease);
            }

            .meeting-card:hover {
                box-shadow: var(--shadow-md, 0 4px 6px rgba(0,0,0,0.1));
                transform: translateY(-2px);
            }

            .meeting-card.cancelled {
                background-color: #f8f9fa;
                border-left: 4px solid var(--medium, #7f8c8d);
                opacity: 0.7;
            }

            .meeting-card.special-program {
                border-left: 4px solid var(--accent, #f1c40f);
            }

            .meeting-header {
                margin-bottom: 1rem;
            }

            .meeting-date {
                font-size: 1.1rem;
                font-weight: 600;
                color: var(--primary, #1a5276);
            }

            .meeting-time {
                font-size: 0.9rem;
                color: var(--medium, #7f8c8d);
                margin-top: 0.25rem;
            }

            .meeting-title {
                margin: 0 0 0.5rem 0;
                color: var(--dark, #2c3e50);
                font-size: 1.2rem;
            }

            .meeting-details {
                color: var(--medium, #7f8c8d);
                font-style: italic;
                margin-bottom: 0.5rem;
            }

            .meeting-description {
                line-height: 1.6;
                margin-bottom: 1rem;
            }

            .meeting-tags {
                margin-bottom: 1rem;
            }

            .meeting-tags .tag {
                display: inline-block;
                background: var(--accent, #f1c40f);
                color: var(--dark, #2c3e50);
                padding: 0.25rem 0.5rem;
                margin: 0.125rem;
                border-radius: var(--radius-sm, 3px);
                font-size: 0.8rem;
            }

            .meeting-actions {
                border-top: 1px solid var(--light, #ecf0f1);
                padding-top: 1rem;
                margin-top: 1rem;
            }

            .btn-sm {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .btn-outline {
                background: transparent;
                border: 1px solid var(--primary, #1a5276);
                color: var(--primary, #1a5276);
            }

            .btn-outline:hover {
                background: var(--primary, #1a5276);
                color: var(--white, #fff);
            }

            .calendar-downloads {
                margin-top: 2rem;
                padding: 1.5rem;
                background-color: var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                text-align: center;
            }

            .calendar-downloads h4 {
                margin-top: 0;
                color: var(--primary, #1a5276);
            }

            .calendar-note {
                margin-top: 1rem;
                color: var(--medium, #7f8c8d);
            }

            .meeting-entry.cancelled {
                opacity: 0.6;
                color: var(--medium, #7f8c8d);
            }

            .meeting-entry.special-program {
                background-color: #fff9c4;
                border-left: 3px solid var(--accent, #f1c40f);
                padding-left: 0.5rem;
            }

            .meeting-date-type {
                margin-bottom: 0.25rem;
            }

            .calendar-link {
                margin-top: 0.5rem;
            }

            .calendar-link a {
                color: var(--primary, #1a5276);
                text-decoration: none;
                font-size: 1.1rem;
            }

            .calendar-link a:hover {
                color: var(--primary-light, #2980b9);
            }

            .loading {
                text-align: center;
                padding: 3rem;
                color: var(--medium, #7f8c8d);
                font-size: 1.1rem;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .meeting-card {
                    padding: 1rem;
                }
                
                .meeting-header {
                    margin-bottom: 0.75rem;
                }
                
                .meeting-date {
                    font-size: 1rem;
                }
                
                .meeting-time {
                    font-size: 0.8rem;
                }
            }
        `,n=document.createElement("style");n.id="meeting-loader-styles",n.textContent=t,document.head.appendChild(n)}};typeof document!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>W.addStyles()):W.addStyles());Ya=W;typeof window!="undefined"&&(window.MeetingLoader=W)});var Yt={};oe(Yt,{CalendarComponent:()=>ve,default:()=>qa});var Pt,ve,qa,qt=L(()=>{$t();Rt();Ot();_t();O();Pt=S("CalendarComponent"),ve=class e{constructor(t,n){this.containerId=t,this.meetingsData=n,this.calendar=null,this.events=[],this.isLazyLoaded=!1,this.isLazyLoaded||this.init()}static async lazyLoad(t,n=null){return new Promise((a,r)=>{try{if(!n)Promise.resolve().then(()=>(Ht(),Ft)).then(o=>{let s=o.default;return new s().loadData()}).then(o=>{let s=new e(t.id,o);s.isLazyLoaded=!0,s.init(),a(s)}).catch(r);else{let o=new e(t.id,n);o.isLazyLoaded=!0,o.init(),a(o)}}catch(o){r(o)}})}async init(){try{this.meetingsData&&(this.events=Z.convertToCalendarEvents(this.meetingsData)),this.createCalendar()}catch(t){Pt.error("Error initializing calendar:",t),this.showError("Failed to initialize calendar")}}createCalendar(){let t=document.getElementById(this.containerId);if(!t){Pt.error(`Calendar container with ID "${this.containerId}" not found`);return}t.innerHTML="";let n=document.createElement("div");n.className="calendar-container";let a=document.createElement("div");a.id="vanilla-calendar",a.className="vanilla-calendar",n.appendChild(a),t.appendChild(n),this.createEventLegend(t),this.calendar=new It(a,{type:"default",settings:{lang:"en",iso8601:!1,selection:{day:"single",month:!0,year:!0},selected:{dates:[],month:new Date().getMonth(),year:new Date().getFullYear()},visibility:{theme:"system",themeDetect:!0,monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,rangeDisabled:!1},range:{min:"1970-01-01",max:"2030-12-31"}},actions:{clickDay:(r,o)=>this.handleDayClick(r,o),changeMonth:(r,o)=>this.handleMonthChange(r,o),changeYear:(r,o)=>this.handleYearChange(r,o)}}),this.calendar.init(),this.updateCalendarEvents(),this.meetingsData&&this.meetingsData.meetings&&Ze.setReminders(this.meetingsData.meetings)}createEventLegend(t){let n=document.createElement("div");n.className="event-indicators",n.innerHTML=`
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--primary);"></div>
                <span>Business Meetings</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--secondary);"></div>
                <span>Auctions</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--success);"></div>
                <span>Social Events</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: #8e44ad;"></div>
                <span>Presentations</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--danger);"></div>
                <span>Holidays</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--warning);"></div>
                <span>Special Events</span>
            </div>
        `,t.appendChild(n)}updateCalendarEvents(){!this.calendar||!this.events.length||this.addEventDots()}addEventDots(){setTimeout(()=>{this.calendar.HTMLElement.querySelectorAll(".vc-date").forEach(n=>{let a=n.getAttribute("data-vc-date");if(!a)return;let r=this.events.filter(o=>o.date===a);r.length>0&&(n.querySelectorAll(".calendar-event").forEach(s=>s.remove()),r.slice(0,3).forEach((s,i)=>{let l=document.createElement("div");l.className=`calendar-event event-${s.type}`,s.cancelled&&l.classList.add("cancelled"),i===1?l.style.right="10px":i===2&&(l.style.right="18px"),n.appendChild(l)}),n.style.cursor="pointer",n.setAttribute("data-has-events","true"))})},100)}handleDayClick(t,n){let a=t.target.getAttribute("data-vc-date");if(!a)return;let r=this.events.filter(o=>o.date===a);if(r.length>0)if(r.length===1){let o=this.findMeetingById(r[0].id);o&&Xe.open(o)}else{let o=this.findMeetingById(r[0].id);o&&Xe.open(o)}}handleMonthChange(t,n){setTimeout(()=>{this.addEventDots()},100)}handleYearChange(t,n){setTimeout(()=>{this.addEventDots()},100)}findMeetingById(t){return!this.meetingsData||!this.meetingsData.meetings?null:this.meetingsData.meetings.find(n=>n.id===t)}updateMeetings(t){this.meetingsData=t,this.events=Z.convertToCalendarEvents(t),this.updateCalendarEvents(),t&&t.meetings&&Ze.setReminders(t.meetings)}showLoading(){let t=document.getElementById(this.containerId);t&&(t.innerHTML='<div class="calendar-loading">Loading calendar...</div>')}showError(t){let n=document.getElementById(this.containerId);n&&(n.innerHTML=`
                <div class="calendar-error">
                    <h3>Calendar Error</h3>
                    <p>${t}</p>
                    <button onclick="location.reload()" class="btn btn-primary">Reload Page</button>
                </div>
            `)}getUpcomingEvents(t=5){return Z.getUpcomingEvents(this.events,t)}getNextMeeting(){return Z.getNextMeeting(this.events)}destroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}},qa=ve});var Ut={};oe(Ut,{default:()=>Ua});var ye,z,Ua,Bt=L(()=>{O();ye=S("NewsletterLoader"),z=class{constructor(t={}){this.dataUrl=t.dataUrl||"./data/newsletters/newsletters.json",this.newsletters=[],this.metadata={},this.isLoaded=!1,this.isLoading=!1,this.callbacks={onLoad:t.onLoad||(()=>{}),onError:t.onError||(n=>ye.error("Newsletter loader error:",n))}}async loadData(){if(this.isLoaded||this.isLoading)return{newsletters:this.newsletters,metadata:this.metadata};this.isLoading=!0;try{let t=await fetch(this.dataUrl);if(!t.ok)throw new Error(`Failed to load newsletter data: ${t.statusText}`);let n=await t.json();return this.newsletters=n.newsletters||[],this.metadata=n.metadata||{},this.isLoaded=!0,this.isLoading=!1,this.callbacks.onLoad(n),n}catch(t){throw this.isLoading=!1,ye.error("Failed to load newsletter data:",t),this.callbacks.onError(t),t}}getNewslettersByYear(){if(!this.isLoaded)return ye.warn("Newsletter data not loaded yet"),{};let t={};return this.newsletters.forEach(n=>{let{year:a}=n;t[a]||(t[a]=[]),t[a].push(n)}),Object.keys(t).forEach(n=>{t[n].sort((a,r)=>{let o={First:1,Second:2,Third:3,Fourth:4};return(o[r.quarter]||0)-(o[a.quarter]||0)})}),t}filterNewsletters(t={}){if(!this.isLoaded)return ye.warn("Newsletter data not loaded yet"),[];let n=[...this.newsletters];return t.year&&(n=n.filter(a=>a.year===t.year)),t.quarter&&(n=n.filter(a=>a.quarter===t.quarter)),t.tags&&t.tags.length>0&&(n=n.filter(a=>t.tags.some(r=>a.tags&&a.tags.includes(r)))),(t.dateFrom||t.dateTo)&&(n=n.filter(a=>{let r=new Date(a.publishDate),o=t.dateFrom?new Date(t.dateFrom):new Date("1900-01-01"),s=t.dateTo?new Date(t.dateTo):new Date("2099-12-31");return r>=o&&r<=s})),n.sort((a,r)=>new Date(r.publishDate)-new Date(a.publishDate)),n}getAvailableYears(){return this.isLoaded?[...new Set(this.newsletters.map(n=>n.year))].sort((n,a)=>a-n):[]}getAvailableQuarters(){return["First","Second","Third","Fourth"]}getAvailableTags(){if(!this.isLoaded)return[];let t=new Set;return this.newsletters.forEach(n=>{n.tags&&n.tags.forEach(a=>t.add(a))}),Array.from(t).sort()}renderArchive(t,n={}){let{groupByYear:a=!0,showFilters:r=!1,sortOrder:o="desc"}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Archive container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading newsletter archive...</div>';return}let s="";r&&(s+=this.renderFilters()),a?s+=this.renderByYear(o):s+=this.renderFlat(o),t.innerHTML=s,r&&this.initializeFilters(t)}renderFilters(){let t=this.getAvailableYears(),n=this.getAvailableQuarters(),a=this.getAvailableTags();return`
            <div class="archive-filters">
                <h3>Filter Newsletters</h3>
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="year-filter">Year:</label>
                        <select id="year-filter" class="filter-select">
                            <option value="">All Years</option>
                            ${t.map(r=>`<option value="${r}">${r}</option>`).join("")}
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="quarter-filter">Quarter:</label>
                        <select id="quarter-filter" class="filter-select">
                            <option value="">All Quarters</option>
                            ${n.map(r=>`<option value="${r}">${r}</option>`).join("")}
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="tags-filter">Tags:</label>
                        <select id="tags-filter" class="filter-select" multiple>
                            ${a.map(r=>`<option value="${r}">${this.formatLabel(r)}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="apply-filters" class="btn btn-primary">Apply Filters</button>
                    <button id="clear-filters" class="btn btn-secondary">Clear Filters</button>
                </div>
            </div>
        `}renderByYear(t="desc"){let n=this.getNewslettersByYear();return Object.keys(n).sort((r,o)=>t==="desc"?o-r:r-o).map(r=>`
            <div class="archive-year-section">
                <h2 class="archive-year-header">${r} Newsletter Archive</h2>
                <div class="archive-grid">
                    ${n[r].map(o=>this.renderNewsletterCard(o)).join("")}
                </div>
            </div>
        `).join("")}renderFlat(t="desc"){return`
            <div class="archive-grid">
                ${[...this.newsletters].sort((a,r)=>{let o=new Date(a.publishDate),s=new Date(r.publishDate);return t==="desc"?s-o:o-s}).map(a=>this.renderNewsletterCard(a)).join("")}
            </div>
        `}renderNewsletterCard(t){let n=new Date(t.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a=t.featuredArticles||[],r=t.highlights||[],o=t.tags||[];return`
            <div class="archive-item" data-year="${t.year}" data-quarter="${t.quarter}">
                <div class="archive-item-header">
                    <h3>SAPA PHILATEX</h3>
                    <p>${t.quarter} Quarter ${t.year}</p>
                </div>
                <div class="archive-item-content">
                    <p><strong>Published:</strong> ${n}</p>
                    <p class="newsletter-description">${t.description}</p>
                    
                    ${a.length>0?`
                        <div class="featured-articles">
                            <h4>Featured Articles:</h4>
                            <ul>
                                ${a.map(s=>`
                                    <li>
                                        <strong>${s.title}</strong>
                                        ${s.author?` by ${s.author}`:""}
                                        ${s.page?` (p. ${s.page})`:""}
                                        ${s.category?` <em>[${s.category}]</em>`:""}
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                    `:""}
                    
                    ${r.length>0?`
                        <div class="highlights">
                            <h4>Highlights:</h4>
                            <ul>
                                ${r.map(s=>`<li>${s}</li>`).join("")}
                            </ul>
                        </div>
                    `:""}
                    
                    ${o.length>0?`
                        <div class="newsletter-tags">
                            ${o.map(s=>`<span class="tag">${this.formatLabel(s)}</span>`).join("")}
                        </div>
                    `:""}
                    
                    <div class="newsletter-meta">
                        ${t.pageCount?`<span class="meta-item"><i class="fas fa-file-alt"></i> ${t.pageCount} pages</span>`:""}
                        ${t.fileSize?`<span class="meta-item"><i class="fas fa-download"></i> ${t.fileSize}</span>`:""}
                    </div>
                    
                    <a href="${t.filePath}" class="btn btn-primary" target="_blank">
                        <i class="fas fa-file-pdf"></i> Download PDF
                    </a>
                </div>
            </div>
        `}initializeFilters(t){let n=t.querySelector("#year-filter"),a=t.querySelector("#quarter-filter"),r=t.querySelector("#tags-filter"),o=t.querySelector("#apply-filters"),s=t.querySelector("#clear-filters");o&&o.addEventListener("click",()=>{let i={year:n!=null&&n.value?parseInt(n.value):null,quarter:(a==null?void 0:a.value)||null,tags:r?Array.from(r.selectedOptions).map(l=>l.value):[]};this.applyFilters(t,i)}),s&&s.addEventListener("click",()=>{n&&(n.value=""),a&&(a.value=""),r&&Array.from(r.options).forEach(i=>i.selected=!1),this.renderArchive(t,{groupByYear:!0,showFilters:!0})})}applyFilters(t,n){let a=this.filterNewsletters(n);if(a.length===0){let c=t.querySelector(".archive-year-section, .archive-grid");c&&(c.outerHTML=`
                    <div class="no-results">
                        <h3>No newsletters found</h3>
                        <p>No newsletters match the selected criteria. Try adjusting your filters.</p>
                    </div>
                `);return}let r={};a.forEach(c=>{let{year:d}=c;r[d]||(r[d]=[]),r[d].push(c)});let s=Object.keys(r).sort((c,d)=>d-c).map(c=>`
            <div class="archive-year-section">
                <h2 class="archive-year-header">${c} Newsletter Archive</h2>
                <div class="archive-grid">
                    ${r[c].map(d=>this.renderNewsletterCard(d)).join("")}
                </div>
            </div>
        `).join(""),i=t.querySelector(".archive-filters"),l=i?i.nextElementSibling:t.firstElementChild;l?l.outerHTML=s:t.innerHTML+=s}formatLabel(t){return t.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}static addStyles(){if(document.getElementById("newsletter-archive-styles"))return;let t=`
            .archive-filters {
                background-color: var(--light, #ecf0f1);
                padding: 1.5rem;
                border-radius: var(--radius-md, 5px);
                margin-bottom: 2rem;
                border: 1px solid #ddd;
            }

            .archive-filters h3 {
                margin-top: 0;
                margin-bottom: 1rem;
                color: var(--primary, #1a5276);
            }

            .filter-row {
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
                margin-bottom: 1rem;
                align-items: center;
            }

            .filter-group {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .filter-group label {
                font-weight: 600;
                color: var(--dark, #2c3e50);
            }

            .filter-select {
                padding: 0.5rem;
                border: 1px solid var(--medium, #7f8c8d);
                border-radius: var(--radius-sm, 3px);
                background-color: var(--white, #fff);
                font-size: 0.9rem;
                min-width: 120px;
            }

            .filter-select[multiple] {
                min-height: 100px;
                min-width: 160px;
            }

            .filter-actions {
                display: flex;
                gap: 1rem;
            }

            .newsletter-description {
                line-height: 1.6;
                margin-bottom: 1rem;
            }

            .featured-articles,
            .highlights {
                margin-bottom: 1rem;
            }

            .featured-articles h4,
            .highlights h4 {
                margin-bottom: 0.5rem;
                color: var(--primary, #1a5276);
                font-size: 1rem;
            }

            .featured-articles ul,
            .highlights ul {
                margin: 0;
                padding-left: 1.5rem;
            }

            .featured-articles li,
            .highlights li {
                margin-bottom: 0.25rem;
            }

            .newsletter-tags {
                margin-bottom: 1rem;
            }

            .newsletter-tags .tag {
                display: inline-block;
                background: var(--accent, #f1c40f);
                color: var(--dark, #2c3e50);
                padding: 0.25rem 0.5rem;
                margin: 0.125rem;
                border-radius: var(--radius-sm, 3px);
                font-size: 0.8rem;
            }

            .newsletter-meta {
                display: flex;
                gap: 1rem;
                margin-bottom: 1rem;
                font-size: 0.9rem;
                color: var(--medium, #7f8c8d);
            }

            .meta-item {
                display: flex;
                align-items: center;
                gap: 0.25rem;
            }

            .no-results {
                text-align: center;
                padding: 3rem;
                background-color: var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                margin: 2rem 0;
            }

            .no-results h3 {
                color: var(--medium, #7f8c8d);
                margin-bottom: 1rem;
            }

            .loading {
                text-align: center;
                padding: 3rem;
                color: var(--medium, #7f8c8d);
                font-size: 1.1rem;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .filter-row {
                    flex-direction: column;
                    align-items: stretch;
                }

                .filter-group {
                    width: 100%;
                }

                .filter-select {
                    width: 100%;
                    min-width: auto;
                }

                .filter-actions {
                    flex-direction: column;
                }

                .newsletter-meta {
                    flex-direction: column;
                    gap: 0.5rem;
                }
            }
        `,n=document.createElement("style");n.id="newsletter-archive-styles",n.textContent=t,document.head.appendChild(n)}};typeof document!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>z.addStyles()):z.addStyles());Ua=z;typeof window!="undefined"&&(window.NewsletterLoader=z)});var rr={};oe(rr,{setupContactForm:()=>jt,setupImageGallery:()=>Xa});var k=class{constructor(t={}){this.componentName=t.componentName||"Unknown Component",this.fallbackUI=t.fallbackUI||this.createDefaultFallback(),this.onError=t.onError||this.defaultErrorHandler,this.retryCallback=t.retryCallback||null,this.maxRetries=t.maxRetries||0,this.currentRetries=0,this.container=t.container||null}wrap(t,n=null){return(...a)=>{try{let r=t.apply(n,a);return r&&typeof r.catch=="function"?r.catch(o=>this.handleError(o)):r}catch(r){return this.handleError(r)}}}wrapAsync(t,n=null){return async(...a)=>{try{return await t.apply(n,a)}catch(r){return this.handleError(r)}}}handleError(t){return console.error(`[${this.componentName}] Error caught by boundary:`,t),this.onError(t,this.componentName),this.container&&this.showFallbackUI(t),this.retryCallback&&this.currentRetries<this.maxRetries&&(this.currentRetries++,console.log(`[${this.componentName}] Retrying... (${this.currentRetries}/${this.maxRetries})`),setTimeout(()=>{try{this.retryCallback()}catch(n){console.error(`[${this.componentName}] Retry failed:`,n)}},1e3*this.currentRetries)),null}showFallbackUI(t){if(!this.container)return;let n=typeof this.fallbackUI=="function"?this.fallbackUI(t,this.componentName):this.fallbackUI;if(this.container.innerHTML="",typeof n=="string"?this.container.innerHTML=n:n instanceof HTMLElement&&this.container.appendChild(n),this.retryCallback&&this.currentRetries<this.maxRetries){let a=document.createElement("button");a.textContent="Retry",a.className="btn btn-primary mt-2",a.onclick=()=>{this.container.innerHTML="",this.retryCallback()},this.container.appendChild(a)}}createDefaultFallback(){return(t,n)=>`
            <div class="error-boundary-fallback" style="
                background-color: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
                border-radius: 0.375rem;
                padding: 1rem;
                margin: 1rem 0;
                text-align: center;
            ">
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-exclamation-triangle"></i>
                    Something went wrong
                </h4>
                <p style="margin-bottom: 0.5rem;">
                    The ${n} component encountered an error and couldn't load properly.
                </p>
                <details style="margin-top: 0.5rem; font-size: 0.875rem;">
                    <summary style="cursor: pointer; color: #495057;">
                        Technical Details
                    </summary>
                    <pre style="
                        background-color: #f8f9fa;
                        padding: 0.5rem;
                        border-radius: 0.25rem;
                        margin-top: 0.5rem;
                        overflow-x: auto;
                        font-size: 0.75rem;
                        text-align: left;
                    ">${t.message}
${t.stack||""}</pre>
                </details>
            </div>
        `}defaultErrorHandler(t,n){console.error(`[ErrorBoundary] ${n}:`,t),typeof gtag!="undefined"&&gtag("event","exception",{description:`${n}: ${t.message}`,fatal:!1});try{let a=JSON.parse(localStorage.getItem("errorBoundaryLog")||"[]");a.push({timestamp:new Date().toISOString(),component:n,message:t.message,stack:t.stack,userAgent:navigator.userAgent}),a.length>50&&a.splice(0,a.length-50),localStorage.setItem("errorBoundaryLog",JSON.stringify(a))}catch(a){console.warn("Failed to log error to localStorage:",a)}}reset(){this.currentRetries=0}},we=class{constructor(){this.setupGlobalHandlers(),this.errorCount=0,this.maxErrors=10,this.timeWindow=6e4,this.errorTimes=[]}setupGlobalHandlers(){window.addEventListener("error",t=>{this.handleGlobalError(t.error,t.filename,t.lineno,t.colno)}),window.addEventListener("unhandledrejection",t=>{this.handleGlobalError(t.reason,"Promise rejection",0,0),t.preventDefault()})}handleGlobalError(t,n,a,r){let o=Date.now();if(this.errorTimes=this.errorTimes.filter(i=>o-i<this.timeWindow),this.errorTimes.length>=this.maxErrors){console.warn("Too many errors detected. Stopping error boundary logging to prevent spam.");return}this.errorTimes.push(o);let s={message:(t==null?void 0:t.message)||t||"Unknown error",source:n||"Unknown source",line:a||0,column:r||0,stack:(t==null?void 0:t.stack)||"",timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("[GlobalErrorBoundary] Uncaught error:",s),typeof gtag!="undefined"&&gtag("event","exception",{description:`Global: ${s.message}`,fatal:!1}),this.showErrorNotification(s)}showErrorNotification(t){let n=document.getElementById("global-error-notification");n||(n=document.createElement("div"),n.id="global-error-notification",n.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
                border-radius: 0.375rem;
                padding: 1rem;
                max-width: 300px;
                z-index: 9999;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                display: none;
            `,n.innerHTML=`
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <span style="font-weight: bold;">
                        <i class="fas fa-exclamation-triangle"></i>
                        Something went wrong
                    </span>
                    <button id="close-error-notification" style="
                        background: none;
                        border: none;
                        font-size: 1.2rem;
                        cursor: pointer;
                        color: #721c24;
                        padding: 0;
                        margin-left: 0.5rem;
                    ">&times;</button>
                </div>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem;">
                    We've encountered an unexpected error. The page may not work correctly.
                    Please refresh to try again.
                </p>
            `,document.body.appendChild(n),document.getElementById("close-error-notification").onclick=()=>{n.style.display="none"},setTimeout(()=>{n&&(n.style.display="none")},1e4)),n.style.display="block"}},sr=new we;se();var ie=class{constructor(t={}){this.options=C({rootMargin:A.ROOT_MARGIN,threshold:A.THRESHOLD,loadingClass:A.CLASSES.LOADING,loadedClass:A.CLASSES.LOADED,errorClass:A.CLASSES.ERROR},t),this.observer=null,this.loaders=new Map,this.init()}init(){"IntersectionObserver"in window?this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:this.options.rootMargin,threshold:this.options.threshold}):console.warn("IntersectionObserver not supported, loading all components immediately")}observe(t,n,a={}){if(!t||typeof n!="function"){console.error("LazyLoader: Invalid element or load function");return}let r=C({loadFunction:n,loaded:!1,loading:!1,retries:0,maxRetries:a.maxRetries||A.MAX_RETRIES,fallbackContent:a.fallbackContent||null,placeholder:a.placeholder||null},a);this.loaders.set(t,r),r.placeholder&&this.showPlaceholder(t,r.placeholder),this.observer?this.observer.observe(t):this.loadComponent(t,r)}handleIntersection(t){t.forEach(n=>{if(n.isIntersecting){let a=n.target,r=this.loaders.get(a);r&&!r.loaded&&!r.loading&&this.loadComponent(a,r)}})}async loadComponent(t,n){if(!(n.loading||n.loaded)){n.loading=!0,t.classList.add(this.options.loadingClass);try{this.showLoadingIndicator(t),await n.loadFunction(t),n.loaded=!0,n.loading=!1,t.classList.remove(this.options.loadingClass),t.classList.add(this.options.loadedClass),this.observer&&this.observer.unobserve(t),this.hideLoadingIndicator(t)}catch(a){console.error("[LazyLoader] Failed to load component:",a),n.loading=!1,n.retries++,n.retries<n.maxRetries?setTimeout(()=>{this.loadComponent(t,n)},G.RETRY_DELAY_BASE*n.retries):this.showError(t,n,a)}}}showPlaceholder(t,n){let a=typeof n=="function"?n():n;t.innerHTML=a}showLoadingIndicator(t){let n=document.createElement("div");if(n.className="lazy-loading-indicator",n.style.cssText=`
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background-color: #f8f9fa;
            border-radius: var(--radius-md, 5px);
            color: var(--medium, #666);
            font-size: 0.875rem;
        `,n.innerHTML=`
            <div style="text-align: center;">
                <div style="margin-bottom: 0.5rem;">
                    <div class="spinner" style="
                        border: 2px solid #e9ecef;
                        border-top: 2px solid var(--primary, #007bff);
                        border-radius: 50%;
                        width: ${A.SPINNER_SIZE}px;
                        height: ${A.SPINNER_SIZE}px;
                        animation: spin 1s linear infinite;
                        margin: 0 auto;
                    "></div>
                </div>
                <div>Loading...</div>
            </div>
        `,!document.querySelector("#lazy-loader-styles")){let a=document.createElement("style");a.id="lazy-loader-styles",a.textContent=`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `,document.head.appendChild(a)}t.appendChild(n)}hideLoadingIndicator(t){let n=t.querySelector(".lazy-loading-indicator");n&&n.remove()}showError(t,n,a){t.classList.add(this.options.errorClass),this.hideLoadingIndicator(t);let r=n.fallbackContent||this.getDefaultErrorContent(),o=document.createElement("div");o.className="lazy-error-content",o.style.cssText=`
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            border-radius: var(--radius-md, 5px);
            padding: 1rem;
            text-align: center;
        `,typeof r=="function"?o.innerHTML=r(a):o.innerHTML=r;let s=document.createElement("button");s.textContent="Retry",s.className="btn btn-sm btn-outline-primary mt-2",s.style.cssText=`
            background: none;
            border: 1px solid var(--primary, #007bff);
            color: var(--primary, #007bff);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-sm, 3px);
            cursor: pointer;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        `,s.onclick=()=>{n.retries=0,n.loaded=!1,n.loading=!1,t.classList.remove(this.options.errorClass),o.remove(),this.loadComponent(t,n)},o.appendChild(s),t.appendChild(o)}getDefaultErrorContent(){return`
            <div>
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-exclamation-triangle"></i>
                    Failed to Load
                </h4>
                <p style="margin-bottom: 0;">
                    This component couldn't be loaded. Please try again.
                </p>
            </div>
        `}forceLoad(t){let n=this.loaders.get(t);n&&!n.loaded&&this.loadComponent(t,n)}unobserve(t){this.observer&&this.observer.unobserve(t),this.loaders.delete(t)}destroy(){this.observer&&this.observer.disconnect(),this.loaders.clear()}},Me=class e extends ie{constructor(t={}){super(C({placeholder:e.getCalendarPlaceholder,fallbackContent:e.getCalendarError},t))}static getCalendarPlaceholder(){return`
            <div class="calendar-placeholder" style="
                background-color: #f8f9fa;
                border: 2px dashed #dee2e6;
                border-radius: var(--radius-md, 5px);
                padding: 2rem;
                text-align: center;
                min-height: ${A.CALENDAR_MIN_HEIGHT||300}px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                color: var(--medium, #666);
            ">
                <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark, #333);">Calendar</h3>
                <p style="margin: 0; font-size: 0.875rem;">
                    Calendar will load when you scroll down
                </p>
            </div>
        `}static getCalendarError(t){return`
            <div>
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-calendar-times"></i>
                    Calendar Unavailable
                </h4>
                <p style="margin-bottom: 0.5rem;">
                    Unable to load the meeting calendar. Please try refreshing the page.
                </p>
                <p style="font-size: 0.875rem; margin: 0; opacity: 0.7;">
                    For meeting information, email: <a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a>
                </p>
            </div>
        `}},hr=new ie,Te=new Me;O();var Ce=S("SafeDOM");function x(e,t=document){try{return t.querySelector(e)}catch(n){return Ce.warn(`Failed to query selector "${e}":`,n),null}}function Le(e,t=null){try{let n=localStorage.getItem(e);return n!==null?JSON.parse(n):t}catch(n){return Ce.warn(`Failed to get localStorage item "${e}":`,n),t}}function Ae(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return Ce.warn(`Failed to set localStorage item "${e}":`,n),!1}}O();var y=S("Script"),te=new Map;function tt(e,t){let n;return function(...r){let o=()=>{clearTimeout(n),e(...r)};clearTimeout(n),n=setTimeout(o,t)}}function M(e,t,n,a){e.addEventListener(t,n,a),te.has(e)||te.set(e,[]),te.get(e).push({event:t,handler:n,options:a})}function Ba(){te.forEach((e,t)=>{e.forEach(({event:n,handler:a,options:r})=>{t.removeEventListener(n,a,r)})}),te.clear()}function Wa(e,t=new Date){try{let n=new Date(e);if(isNaN(n.getTime()))throw new Error("Invalid date format");return n}catch(n){return y.error(`Failed to parse date "${e}":`,n),t}}async function Gt(e,t={},n=3){for(let a=0;a<n;a++)try{let r=await fetch(e,t);if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return r}catch(r){if(a===n-1)throw r;y.warn(`Fetch attempt ${a+1} failed, retrying...`,r),await new Promise(o=>setTimeout(o,1e3*Math.pow(2,a)))}}document.addEventListener("DOMContentLoaded",function(){try{let e=(c,d,h=null)=>new k({componentName:c,container:h,onError:(p,f)=>{y.error(`[${f}] Component failed:`,p),typeof gtag!="undefined"&&gtag("event","exception",{description:`Component failure: ${f}`,fatal:!1})},retryCallback:()=>{try{d()}catch(p){y.error(`[${c}] Retry failed:`,p)}},maxRetries:1}).wrap(d),t=e("Mobile Viewport",za),n=e("Mobile Menu",Ga),a=e("Back to Top",ja),r=e("Event Countdown",Va),o=e("Form Validation",Ka),s=e("Accordion",Qa),i=e("Theme Toggle",Za),l=e("Contact Form",jt);t(),n(),a(),r(),o(),s(),i(),l(),ar()}catch(e){y.error("Error during page initialization:",e);let t=document.createElement("div");t.className="error-banner",t.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #d32f2f;
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 10000;
            font-family: Arial, sans-serif;
        `,t.textContent="Some features may not work properly. Please refresh the page.",document.body.insertBefore(t,document.body.firstChild),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}});function za(){function e(){let n=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${n}px`)}e();let t=tt(e,250);if(M(window,"resize",t),M(window,"orientationchange",function(){setTimeout(e,100)}),/iPad|iPhone|iPod/.test(navigator.userAgent)){let n=tt(e,150);M(window,"scroll",n)}}function Ga(){}function ja(){try{let e=x("#back-to-top");if(!e){y.info("Back to top button not found - feature not available on this page");return}let t=tt(function(){try{window.scrollY>300?e.style.display="block":e.style.display="none"}catch(n){y.error("Error updating back to top button visibility:",n)}},100);M(window,"scroll",t),M(e,"click",function(n){try{n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}catch(a){y.error("Error scrolling to top:",a);try{window.scrollTo(0,0)}catch(r){y.error("Fallback scroll failed:",r)}}})}catch(e){y.error("Error setting up back to top button:",e)}}function Va(){try{let e=x("#event-countdown");if(!e){y.info("Event countdown element not found - feature not available on this page");return}let t=e.getAttribute("data-event-date");if(!t){y.warn("Event countdown missing data-event-date attribute");return}let a=Wa(t).getTime();if(isNaN(a)){y.error("Invalid event date:",t),e.innerHTML="";let o=D("span",{className:"countdown-error",textContent:"Invalid event date"});e.appendChild(o);return}let r=setInterval(function(){try{let o=new Date().getTime(),s=a-o;if(s<0){clearInterval(r),e.innerHTML="";let p=D("span",{className:"countdown-complete",textContent:"Event is happening now!"});e.appendChild(p);return}let i=Math.floor(s/(1e3*60*60*24)),l=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(s%(1e3*60*60)/(1e3*60)),d=Math.floor(s%(1e3*60)/1e3);e.innerHTML="";let h=(p,f)=>{let E=D("div",{className:"countdown-unit"}),w=D("span",{className:"countdown-number",textContent:String(p)}),N=D("span",{className:"countdown-label",textContent:f+(p!==1?"s":"")});return E.appendChild(w),E.appendChild(N),E};e.appendChild(h(i,"Day")),e.appendChild(h(l,"Hour")),e.appendChild(h(c,"Minute")),e.appendChild(h(d,"Second"))}catch(o){y.error("Error updating countdown display:",o),clearInterval(r),e.innerHTML="";let s=D("span",{className:"countdown-error",textContent:"Countdown error"});e.appendChild(s)}},1e3)}catch(e){y.error("Error setting up event countdown:",e)}}function Ka(){try{let e=x("#contact-form");if(!e){y.info("Contact form not found - feature not available on this page");return}M(e,"submit",function(t){var s;t.preventDefault();let n=!0,a=e.querySelectorAll("[required]");e.querySelectorAll(".error-message").forEach(i=>i.remove()),a.forEach(i=>{if(i.classList.remove("error"),!i.value.trim()){n=!1,i.classList.add("error");let l=document.createElement("p");l.classList.add("error-message"),l.textContent="This field is required",i.parentNode.appendChild(l)}});let o=e.querySelector('input[type="email"]');if(o&&o.value.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)){n=!1,o.classList.add("error");let l=document.createElement("p");l.classList.add("error-message"),l.textContent="Please enter a valid email address",o.parentNode.appendChild(l)}if(n){let i=e.querySelector('button[type="submit"]'),l=i.textContent;i.disabled=!0,i.textContent="Sending...";let c={name:e.querySelector('[name="name"]').value.trim(),email:e.querySelector('[name="email"]').value.trim(),phone:((s=e.querySelector('[name="phone"]'))==null?void 0:s.value.trim())||"",subject:e.querySelector('[name="subject"]').value.trim(),message:e.querySelector('[name="message"]').value.trim()},d="/contact-handler.php";window.location.hostname.includes("netlify")&&(d="/.netlify/functions/contact-form"),Gt(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(h=>{if(!h.ok)throw new Error(`Server responded with ${h.status}: ${h.statusText}`);return h.json()}).then(h=>{if(h.success){e.style.display="none";let p=document.createElement("div");p.classList.add("success-message");let f=D("h3",{textContent:"Thank you for your message!"}),E=D("p",{textContent:be(h.message||"We've received your inquiry and will respond as soon as possible.")}),w=D("button",{className:"btn btn-primary mt-3",textContent:"Send Another Message"});w.id="send-another",p.appendChild(f),p.appendChild(E),p.appendChild(w),e.parentNode.appendChild(p);let N=document.getElementById("send-another");N&&M(N,"click",function(){e.reset(),p.remove(),e.style.display="block"})}else h.errors&&Object.keys(h.errors).forEach(p=>{let f=e.querySelector(`[name="${p}"]`);if(f){f.classList.add("error");let E=f.parentNode.querySelector(".error-message");E&&E.remove();let w=document.createElement("p");w.classList.add("error-message"),w.textContent=h.errors[p],f.parentNode.appendChild(w)}}),i.disabled=!1,i.textContent=l}).catch(h=>{y.error("Form submission error:",h);let p=document.createElement("div");p.classList.add("error-message","form-error"),p.textContent="An error occurred. Please try again later.",e.insertBefore(p,e.firstChild),i.disabled=!1,i.textContent=l,setTimeout(()=>{p.remove()},5e3)})}})}catch(e){y.error("Error setting up form validation:",e)}}function Qa(){let e=document.querySelectorAll(".accordion-header");e.length&&e.forEach(t=>{M(t,"click",function(){this.classList.toggle("active");let n=this.nextElementSibling;if(n.style.maxHeight){n.style.maxHeight=null;let a=this.querySelector("i");a&&a.classList.replace("fa-chevron-up","fa-chevron-down")}else{n.style.maxHeight=n.scrollHeight+"px";let a=this.querySelector("i");a&&a.classList.replace("fa-chevron-down","fa-chevron-up")}})})}function Xa(){let e=document.querySelectorAll(".gallery-image"),t=document.querySelector(".lightbox");if(!e.length||!t)return;e.forEach(a=>{M(a,"click",function(){let r=this.getAttribute("data-full-img")||this.src,o=this.getAttribute("alt"),s=t.querySelector(".lightbox-img"),i=t.querySelector(".lightbox-caption");s.src=r,i.textContent=o,t.classList.add("active"),document.body.classList.add("no-scroll")})});let n=t.querySelector(".lightbox-close");n&&M(n,"click",function(){t.classList.remove("active"),document.body.classList.remove("no-scroll")}),M(t,"click",function(a){a.target===t&&(t.classList.remove("active"),document.body.classList.remove("no-scroll"))}),M(document,"keydown",function(a){a.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),document.body.classList.remove("no-scroll"))})}document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{M(e,"click",function(t){t.preventDefault();let n=this.getAttribute("href"),a=document.querySelector(n);a&&(a.scrollIntoView({behavior:"smooth"}),history.pushState(null,null,n))})});function Ja(){let e=window.location.pathname.split("/").pop();document.querySelectorAll("nav a").forEach(n=>{let a=n.getAttribute("href");(a===e||e===""&&a==="index.html")&&(n.classList.add("active"),n.setAttribute("aria-current","page"))})}Ja();"serviceWorker"in navigator&&window.location.protocol!=="file:"?window.addEventListener("load",()=>{try{navigator.serviceWorker.register("/sw.js").then(()=>{}).catch(e=>{y.warn("ServiceWorker registration failed:",e)})}catch(e){y.warn("ServiceWorker registration error:",e)}}):"serviceWorker"in navigator?y.info("ServiceWorker not supported on file:// protocol"):y.info("ServiceWorker not supported in this browser");function Za(){try{let e=Le("theme","light");try{e==="dark"&&document.documentElement.setAttribute("data-theme","dark")}catch(n){y.error("Error applying saved theme:",n)}let t=document.querySelectorAll(".theme-toggle");if(t.length===0){y.info("No theme toggle buttons found");return}t.forEach(n=>{M(n,"click",function(){try{let r=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";r==="dark"?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),Ae("theme",r)||y.warn("Failed to save theme preference");let s=r==="dark"?"Switch to light mode":"Switch to dark mode";t.forEach(i=>i.setAttribute("aria-label",s))}catch(a){y.error("Error toggling theme:",a)}});try{let r=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"Switch to light mode":"Switch to dark mode";n.setAttribute("aria-label",r)}catch(a){y.error("Error setting initial aria-label:",a)}})}catch(e){y.error("Error setting up theme toggle:",e)}}function jt(){try{let e=x("#contact-form");if(!e)return;Wt(),M(e,"submit",async function(t){t.preventDefault();let n=x("#submit-btn"),a=x("#loading-spinner"),r=x("#form-message");try{if(!er("contact_form",3,36e5)){r&&(r.innerHTML='<div class="error-message" style="color: var(--danger); background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 1rem; border-radius: var(--radius-md); margin-top: 1rem;"><i class="fas fa-exclamation-triangle"></i> Too many submissions. Please wait before trying again.</div>');return}let o={name:l.name,email:l.email,phone:l.phone,subject:l.subject,message:l.message},s={};if(Object.keys(o).forEach(p=>{if(o[p]){let f=tr(o[p],p);f.isValid||(s[p]=f.errors.join(", "))}}),Object.keys(s).length>0){zt(s);return}nr(),r&&(r.innerHTML=""),n&&(n.style.display="none"),a&&(a.style.display="inline-block");let i=new FormData(e),l=Object.fromEntries(i.entries()),c=window.location.hostname.includes("netlify")||window.location.hostname.includes("vercel")?"/.netlify/functions/contact-form":"contact-handler.php",h=await(await Gt(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},2)).json();if(h.success){if(r){r.innerHTML="";let p=D("div",{className:"success-message",style:{color:"var(--success)",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),f=D("i",{className:"fas fa-check-circle"});p.appendChild(f),p.appendChild(document.createTextNode(" "+be(h.message))),r.appendChild(p)}e.reset(),Wt()}else if(h.errors&&zt(h.errors),r&&!Object.keys(h.errors||{}).length){r.innerHTML="";let p=D("div",{className:"error-message",style:{color:"var(--danger)",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),f=D("i",{className:"fas fa-exclamation-triangle"});p.appendChild(f),p.appendChild(document.createTextNode(" There was an error sending your message. Please try again.")),r.appendChild(p)}}catch(o){if(y.error("Contact form submission error:",o),r){r.innerHTML="";let s=D("div",{className:"error-message",style:{color:"var(--danger)",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),i=D("i",{className:"fas fa-exclamation-triangle"});s.appendChild(i),s.appendChild(document.createTextNode(" Network error. Please check your connection and try again.")),r.appendChild(s)}}finally{n&&(n.style.display="inline-block"),a&&(a.style.display="none")}})}catch(e){y.error("Error setting up contact form:",e)}}function er(e,t=3,n=36e5){try{let a=`rate_limit_${e}`,r=Date.now(),o=Le(a,[]),i=(Array.isArray(o)?o:[]).filter(l=>r-l<n);return i.length>=t?!1:(i.push(r),Ae(a,i),!0)}catch(a){return y.warn("Rate limiting check failed:",a),!0}}function tr(e,t="text"){let n={isValid:!0,sanitized:e,errors:[]};if(!e||e.trim().length===0)return n.isValid=!1,n.errors.push("This field is required"),n;switch(t){case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(n.isValid=!1,n.errors.push("Invalid email format"));break;case"phone":e&&!/^[\d\s\-\(\)\+\.]{10,}$/.test(e)&&(n.isValid=!1,n.errors.push("Invalid phone format"));break;case"text":default:e.length>5e3&&(n.isValid=!1,n.errors.push("Input too long (maximum 5000 characters)")),e.length<2&&(n.isValid=!1,n.errors.push("Input too short (minimum 2 characters)"));break}return n.sanitized=be(e),n}async function Wt(){try{let e=window.location.hostname.includes("netlify")||window.location.hostname.includes("vercel")?"/.netlify/functions/contact-form":"csrf-token.php",n=await(await fetch(e)).json(),a=x("#csrf-token");a&&n.csrf_token&&(a.value=n.csrf_token)}catch(e){y.error("Error fetching CSRF token:",e)}}function zt(e){Object.keys(e).forEach(t=>{let n=x(`#${t}-error`),a=x(`#${t}`);n&&(n.textContent=be(e[t]),n.style.color="var(--danger)",n.style.fontSize="0.875rem",n.style.marginTop="0.25rem"),a&&(a.style.borderColor="var(--danger)")})}function nr(){let e=document.querySelectorAll(".error-message"),t=document.querySelectorAll("#contact-form .form-control");e.forEach(n=>{n.textContent=""}),t.forEach(n=>{n.style.borderColor=""})}function D(e,t={}){let n=document.createElement(e);return t.textContent&&(n.textContent=t.textContent),t.className&&(n.className=t.className),t.style&&Object.assign(n.style,t.style),n}function be(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function ar(){try{let e=x("#meeting-schedule-container");if(e){let s=new k({componentName:"Meeting Schedule",container:e,onError:i=>{y.error("[Meeting Schedule] Failed to load:",i)},maxRetries:2})}document.querySelectorAll(".calendar-container, #calendar-container, #meetings-calendar, #calendar").forEach((s,i)=>{s&&Te.observe(s,async l=>{let{CalendarComponent:c}=await Promise.resolve().then(()=>(qt(),Yt));return await new k({componentName:`Calendar ${i+1}`,container:l,maxRetries:2}).wrapAsync(async()=>await c.lazyLoad(l))()},{maxRetries:2,fallbackContent:l=>`
                            <div class="calendar-error" style="
                                background-color: #fff3cd;
                                color: #856404;
                                border: 1px solid #ffc107;
                                border-radius: var(--radius-md);
                                padding: 1rem;
                                text-align: center;
                            ">
                                <h3><i class="fas fa-calendar-times"></i> Calendar Unavailable</h3>
                                <p>Unable to load the calendar. Please try refreshing the page or contact us for meeting dates.</p>
                                <p style="font-size: 0.875rem; margin-top: 0.5rem;">
                                    Email: <a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a>
                                </p>
                            </div>
                        `})});let n=x(".search-container, #search-container");if(n){let s=new k({componentName:"Search",container:n,fallbackUI:i=>`
                    <div class="search-error" style="
                        background-color: #f8d7da;
                        color: #721c24;
                        border: 1px solid #f5c6cb;
                        border-radius: var(--radius-md);
                        padding: 1rem;
                        text-align: center;
                    ">
                        <h3><i class="fas fa-search-minus"></i> Search Unavailable</h3>
                        <p>The search feature is temporarily unavailable. Please try browsing our sections instead.</p>
                        <div style="margin-top: 1rem;">
                            <a href="newsletter.html" class="btn btn-primary" style="margin-right: 0.5rem;">Newsletters</a>
                            <a href="meetings.html" class="btn btn-primary">Meetings</a>
                        </div>
                    </div>
                `,maxRetries:1})}if(document.querySelectorAll('.newsletter-content, [class*="newsletter"], [id*="newsletter"]').forEach((s,i)=>{(s.dataset.lazy==="true"||s.classList.contains("dynamic-content")||s.querySelector(".loading, .spinner"))&&Te.observe(s,async l=>{let{default:c}=await Promise.resolve().then(()=>(Bt(),Ut)),p=(await new c().loadData()).newsletters;p&&p.length>0&&(l.innerHTML=p.map(f=>`
                                <div class="newsletter-item">
                                    <h4>${f.title}</h4>
                                    <p>${f.description}</p>
                                    <a href="${f.url}" target="_blank" class="btn btn-primary">
                                        <i class="fas fa-file-pdf"></i> View PDF
                                    </a>
                                </div>
                            `).join(""))},{placeholder:()=>`
                            <div class="newsletter-placeholder" style="
                                background-color: #f8f9fa;
                                border: 2px dashed #dee2e6;
                                border-radius: var(--radius-md);
                                padding: 2rem;
                                text-align: center;
                                color: var(--medium);
                            ">
                                <i class="fas fa-newspaper" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                                <p>Newsletter content will load when scrolled into view</p>
                            </div>
                        `,fallbackContent:l=>`
                            <div class="newsletter-loading-fallback" style="
                                background-color: #f8f9fa;
                                border: 2px dashed #dee2e6;
                                border-radius: var(--radius-md);
                                padding: 2rem;
                                text-align: center;
                                color: var(--medium);
                            ">
                                <i class="fas fa-newspaper" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                                <p>Newsletter archive loading...</p>
                                <button onclick="location.reload()" class="btn btn-primary mt-2">
                                    <i class="fas fa-refresh"></i> Retry
                                </button>
                            </div>
                        `,maxRetries:1})}),x("#contact-form")){let s=x("#form-message"),i=new k({componentName:"Contact Form Component",container:s,fallbackUI:l=>`
                    <div class="contact-form-error" style="
                        background-color: #f8d7da;
                        color: #721c24;
                        border: 1px solid #f5c6cb;
                        border-radius: var(--radius-md);
                        padding: 1rem;
                        text-align: center;
                    ">
                        <h4><i class="fas fa-exclamation-triangle"></i> Contact Form Error</h4>
                        <p>The contact form is experiencing issues. Please email us directly:</p>
                        <p><strong><a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a></strong></p>
                    </div>
                `,maxRetries:2})}document.querySelectorAll('[id*="schedule"], [id*="events"], [class*="loading"]').forEach((s,i)=>{let l=new k({componentName:`Dynamic Content ${i+1}`,container:s,maxRetries:1})})}catch(e){y.error("Error setting up dynamic content boundaries:",e)}}window.addEventListener("beforeunload",Ba);return Zt(rr);})();
/*! Bundled license information:

vanilla-calendar-pro/index.mjs:
  (*! name: vanilla-calendar-pro v3.0.5 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro *)
*/
