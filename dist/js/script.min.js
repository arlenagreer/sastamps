(()=>{document.addEventListener("DOMContentLoaded",function(){d(),u(),m(),v(),g(),p()});function d(){let e=document.querySelector(".menu-toggle"),n=document.querySelector(".nav-menu");if(!e||!n)return;let t=document.querySelector(".menu-overlay");t||(t=document.createElement("div"),t.className="menu-overlay",document.body.appendChild(t)),e.addEventListener("click",function(){let o=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!o),n.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("menu-open")}),document.addEventListener("click",function(o){n.classList.contains("active")&&!n.contains(o.target)&&!e.contains(o.target)&&(n.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open"))}),t.addEventListener("click",function(){n.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open")}),document.addEventListener("keydown",function(o){o.key==="Escape"&&n.classList.contains("active")&&(n.classList.remove("active"),t.classList.remove("active"),e.setAttribute("aria-expanded","false"),document.body.classList.remove("menu-open"))})}function u(){let e=document.getElementById("back-to-top");e&&(window.addEventListener("scroll",function(){window.pageYOffset>300?e.style.display="block":e.style.display="none"}),e.addEventListener("click",function(n){n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))}function m(){let e=document.getElementById("event-countdown");if(!e)return;let n=e.getAttribute("data-event-date");if(!n)return;let t=new Date(n).getTime(),o=setInterval(function(){let i=new Date().getTime(),a=t-i;if(a<0){clearInterval(o),e.innerHTML='<span class="countdown-complete">Event is happening now!</span>';return}let s=Math.floor(a/(1e3*60*60*24)),c=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),r=Math.floor(a%(1e3*60*60)/(1e3*60)),l=Math.floor(a%(1e3*60)/1e3);e.innerHTML=`
            <div class="countdown-unit">
                <span class="countdown-number">${s}</span>
                <span class="countdown-label">Day${s!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${c}</span>
                <span class="countdown-label">Hour${c!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${r}</span>
                <span class="countdown-label">Minute${r!==1?"s":""}</span>
            </div>
            <div class="countdown-unit">
                <span class="countdown-number">${l}</span>
                <span class="countdown-label">Second${l!==1?"s":""}</span>
            </div>
        `},1e3)}function v(){let e=document.getElementById("contact-form");e&&e.addEventListener("submit",function(n){n.preventDefault();let t=!0,o=e.querySelectorAll("[required]");e.querySelectorAll(".error-message").forEach(s=>s.remove()),o.forEach(s=>{if(s.classList.remove("error"),!s.value.trim()){t=!1,s.classList.add("error");let c=document.createElement("p");c.classList.add("error-message"),c.textContent="This field is required",s.parentNode.appendChild(c)}});let a=e.querySelector('input[type="email"]');if(a&&a.value.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.value)){t=!1,a.classList.add("error");let c=document.createElement("p");c.classList.add("error-message"),c.textContent="Please enter a valid email address",a.parentNode.appendChild(c)}if(t){e.style.display="none";let s=document.createElement("div");s.classList.add("success-message"),s.innerHTML=`
                <h3>Thank you for your message!</h3>
                <p>We've received your inquiry and will respond as soon as possible.</p>
                <button class="btn btn-primary mt-3" id="send-another">Send Another Message</button>
            `,e.parentNode.appendChild(s),document.getElementById("send-another").addEventListener("click",function(){e.reset(),s.remove(),e.style.display="block"})}})}function g(){let e=document.querySelectorAll(".accordion-header");e.length&&e.forEach(n=>{n.addEventListener("click",function(){this.classList.toggle("active");let t=this.nextElementSibling;if(t.style.maxHeight){t.style.maxHeight=null;let o=this.querySelector("i");o&&o.classList.replace("fa-chevron-up","fa-chevron-down")}else{t.style.maxHeight=t.scrollHeight+"px";let o=this.querySelector("i");o&&o.classList.replace("fa-chevron-down","fa-chevron-up")}})})}document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",function(n){n.preventDefault();let t=this.getAttribute("href"),o=document.querySelector(t);o&&(o.scrollIntoView({behavior:"smooth"}),history.pushState(null,null,t))})});function h(){let e=window.location.pathname.split("/").pop();document.querySelectorAll("nav a").forEach(t=>{let o=t.getAttribute("href");(o===e||e===""&&o==="index.html")&&(t.classList.add("active"),t.setAttribute("aria-current","page"))})}h();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("ServiceWorker registration successful")}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});function p(){(localStorage.getItem("theme")||"light")==="dark"&&document.documentElement.setAttribute("data-theme","dark");let n=document.querySelectorAll(".theme-toggle");n.forEach(t=>{t.addEventListener("click",function(){let s=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";s==="dark"?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme",s);let c=s==="dark"?"Switch to light mode":"Switch to dark mode";n.forEach(r=>r.setAttribute("aria-label",c))});let i=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"Switch to light mode":"Switch to dark mode";t.setAttribute("aria-label",i)})}})();
