var SAPA=(()=>{var oe=Object.defineProperty;var St=Object.getOwnPropertyDescriptor;var Tt=Object.getOwnPropertyNames;var Ct=Object.prototype.hasOwnProperty;var C=(e,t)=>()=>(e&&(t=e(e=0)),t);var G=(e,t)=>{for(var n in t)oe(e,n,{get:t[n],enumerable:!0})},kt=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Tt(t))!Ct.call(e,r)&&r!==n&&oe(e,r,{get:()=>t[r],enumerable:!(a=St(t,r))||a.enumerable});return e};var Lt=e=>kt(oe({},"__esModule",{value:!0}),e);var F,S,D,ie,le,At,Ta,ce=C(()=>{F={DEBOUNCE_DEFAULT:500,DEBOUNCE_SEARCH:300,THROTTLE_DEFAULT:1e3,ANIMATION_FRAME_FALLBACK:16,NOTIFICATION_AUTO_DISMISS:1e4,NOTIFICATION_SHORT:2e3,REMINDER_CHECK_INTERVAL:6e4,REMINDER_AUTO_DISMISS:15e3,COPY_FEEDBACK_DURATION:1500,FORM_MESSAGE_SUCCESS_DURATION:1e4,RSVP_CONFIRMATION_DURATION:3e3,RETRY_DELAY_BASE:1e3,SERVICE_WORKER_UPDATE_DISMISS:1e4},S={DEFAULT_TIMES:[{label:"1 day before",minutes:1440},{label:"2 hours before",minutes:120},{label:"30 minutes before",minutes:30}],NOTIFICATION_AUTO_CLOSE:1e4,SOUND_FREQUENCIES:{HIGH:800,LOW:600},SOUND_DURATION:.3,SOUND_VOLUME:.3},D={ROOT_MARGIN:"50px",THRESHOLD:.1,MAX_RETRIES:2,SPINNER_SIZE:20,CLASSES:{LOADING:"lazy-loading",LOADED:"lazy-loaded",ERROR:"lazy-error"}},ie={MEETING_REMINDERS:"sapa-meeting-reminders",REMINDER_SETTINGS:"sapa-reminder-settings",MEETING_RSVPS:"meeting_rsvps",THEME_PREFERENCE:"theme-preference",USER_PREFERENCES:"user-preferences",SEARCH_HISTORY:"search-history"},le={ERROR:"error",SUCCESS:"success",WARNING:"warning",LOADING:"loading",DISABLED:"disabled",ACTIVE:"active",HIDDEN:"hidden",VISIBLE:"visible"},At={GA_MEASUREMENT_ID:"G-XXXXXXXXXX",EVENTS:{PAGE_VIEW:"page_view",FORM_SUBMIT:"form_submit",FILE_DOWNLOAD:"file_download",NEWSLETTER_DOWNLOAD:"newsletter_download",MEETING_RSVP:"meeting_rsvp",SEARCH:"search",RESOURCE_VIEW:"resource_view"}},Ta={...At.EVENTS,CONTACT_FORM_SUBMIT:"contact_form_submit",SEARCH_PERFORMED:"search_performed",REMINDER_SET:"reminder_set"}});function De(e){if(!e||!e.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};let t=e.getBoundingClientRect(),n=document.documentElement;return{bottom:t.bottom,right:t.right,top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}}function Me(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function Ft(){return{left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0}}function Pt(e){let{top:t,left:n}=Ft(),{top:a,left:r}=De(e),{vh:o,vw:s}=Me(),i=a-t,l=r-n;return{top:i,bottom:o-(i+e.clientHeight),left:l,right:s-(l+e.clientWidth)}}function Xe(e,t,n=5){let a={top:!0,bottom:!0,left:!0,right:!0},r=[];if(!t||!e)return{canShow:a,parentPositions:r};let{bottom:o,top:s}=Pt(e),{top:i,left:l}=De(e),{height:d,width:c}=t.getBoundingClientRect(),{vh:u,vw:g}=Me(),v=g/2,y=u/2;return[{condition:i<y,position:"top"},{condition:i>y,position:"bottom"},{condition:l<v,position:"left"},{condition:l>v,position:"right"}].forEach(({condition:x,position:I})=>{x&&r.push(I)}),Object.assign(a,{top:d<=s-n,bottom:d<=o-n,left:c<=l,right:c<=g-l}),{canShow:a,parentPositions:r}}function ta(e,t){let n="left";if(!t||!e)return n;let{canShow:a,parentPositions:r}=Xe(e,t),o=a.left&&a.right;return(o&&a.bottom?"center":o&&a.top?["top","center"]:Array.isArray(r)?[r[0]==="bottom"?"top":"bottom",...r.slice(1)]:r)||n}var Nt,$t,It,Fe,Rt,Ot,fe,R,_t,h,L,p,Ht,ve,Yt,qt,f,N,$,k,Qe,Ut,Ze,Bt,Wt,Se,zt,jt,Gt,Vt,ye,Kt,Xt,Qt,Zt,Jt,en,tn,nn,an,rn,on,sn,ln,cn,dn,mn,un,pe,hn,Te,Je,pn,gn,te,fn,W,Ce,ke,vn,et,Pe,Ye,q,Z,yn,U,K,bn,qe,En,wn,Ue,Be,We,xn,Dn,ze,Mn,Le,Sn,J,O,je,Tn,Cn,ee,kn,Ln,An,ne,tt,be,Nn,Ee,Ge,T,m,$n,B,In,Rn,nt,Q,X,Y,A,On,at,ge,_n,Hn,rt,Fn,Pn,Yn,qn,Un,Bn,Wn,ot,zn,jn,P,Gn,Vn,Ve,Kn,Xn,st,it,Qn,Zn,Jn,lt,Ae,ea,Ke,Ne,na,aa,we,ct,dt,mt=C(()=>{Nt=Object.defineProperty,$t=Object.defineProperties,It=Object.getOwnPropertyDescriptors,Fe=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,fe=(e,t,n)=>t in e?Nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))Rt.call(t,n)&&fe(e,n,t[n]);if(Fe)for(var n of Fe(t))Ot.call(t,n)&&fe(e,n,t[n]);return e},_t=(e,t)=>$t(e,It(t)),h=(e,t,n)=>(fe(e,typeof t!="symbol"?t+"":t,n),n),L={notFoundSelector:e=>`${e} is not found, check the first argument passed to new Calendar.`,notInit:'The calendar has not been initialized, please initialize it using the "init()" method first.',notLocale:"You specified an incorrect language label or did not specify the required number of values \u200B\u200Bfor \xABlocale.weekdays\xBB or \xABlocale.months\xBB.",incorrectTime:"The value of the time property can be: false, 12 or 24.",incorrectMonthsCount:"For the \xABmultiple\xBB calendar type, the \xABdisplayMonthsCount\xBB parameter can have a value from 2 to 12, and for all others it cannot be greater than 1."},p=(e,t,n)=>{e.context[t]=n},Ht=e=>{var t,n,a,r,o;if(!e.context.isInit)throw new Error(L.notInit);e.inputMode?((t=e.context.mainElement.parentElement)==null||t.removeChild(e.context.mainElement),(a=(n=e.context.inputElement)==null?void 0:n.replaceWith)==null||a.call(n,e.context.originalElement),p(e,"inputElement",void 0)):(o=(r=e.context.mainElement).replaceWith)==null||o.call(r,e.context.originalElement),p(e,"mainElement",e.context.originalElement),e.onDestroy&&e.onDestroy(e)},ve=e=>{e.context.isShowInInputMode&&e.context.currentType&&(e.context.mainElement.dataset.vcCalendarHidden="",p(e,"isShowInInputMode",!1),e.context.cleanupHandlers[0]&&(e.context.cleanupHandlers.forEach(t=>t()),p(e,"cleanupHandlers",[])),e.onHide&&e.onHide(e))};Yt=(e,t,n,a)=>{var r;let o=a.querySelector(`[data-vc-date="${t}"]`),s=o?.querySelector("[data-vc-date-btn]");if(!o||!s||(n?.modifier&&s.classList.add(...n.modifier.trim().split(" ")),!n?.html))return;let i=document.createElement("div");i.className=e.styles.datePopup,i.dataset.vcDatePopup="",i.innerHTML=e.sanitizerHTML(n.html),s.ariaExpanded="true",s.ariaLabel=`${s.ariaLabel}, ${(r=i?.textContent)==null?void 0:r.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,o.appendChild(i),requestAnimationFrame(()=>{if(!i)return;let{canShow:l}=Xe(o,i),d=l.bottom?o.offsetHeight:-i.offsetHeight,c=l.left&&!l.right?o.offsetWidth-i.offsetWidth/2:!l.left&&l.right?i.offsetWidth/2:0;Object.assign(i.style,{left:`${c}px`,top:`${d}px`})})},qt=(e,t)=>{var n;e.popups&&((n=Object.entries(e.popups))==null||n.forEach(([a,r])=>Yt(e,a,r,t)))},f=e=>new Date(`${e}T00:00:00`),N=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,$=e=>e.reduce((t,n)=>{if(n instanceof Date||typeof n=="number"){let a=n instanceof Date?n:new Date(n);t.push(a.toISOString().substring(0,10))}else n.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(n):n.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(a,r,o)=>{let s=f(r),i=f(o),l=new Date(s.getTime());for(;l<=i;l.setDate(l.getDate()+1))t.push(N(l));return a});return t},[]),k=(e,t,n,a="")=>{t?e.setAttribute(n,a):e.getAttribute(n)===a&&e.removeAttribute(n)},Qe=(e,t,n,a,r,o,s)=>{var i,l,d,c;let u=f(e.context.displayDateMin)>f(o)||f(e.context.displayDateMax)<f(o)||((i=e.context.disableDates)==null?void 0:i.includes(o))||!e.selectionMonthsMode&&s!=="current"||!e.selectionYearsMode&&f(o).getFullYear()!==t;k(n,u,"data-vc-date-disabled"),a&&k(a,u,"aria-disabled","true"),a&&k(a,u,"tabindex","-1"),k(n,!e.disableToday&&e.context.dateToday===o,"data-vc-date-today"),k(n,!e.disableToday&&e.context.dateToday===o,"aria-current","date"),k(n,(l=e.selectedWeekends)==null?void 0:l.includes(r),"data-vc-date-weekend");let g=(d=e.selectedHolidays)!=null&&d[0]?$(e.selectedHolidays):[];if(k(n,g.includes(o),"data-vc-date-holiday"),(c=e.context.selectedDates)!=null&&c.includes(o)?(n.setAttribute("data-vc-date-selected",""),a&&a.setAttribute("aria-selected","true"),e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"&&(e.context.selectedDates[0]===o&&e.context.selectedDates[e.context.selectedDates.length-1]===o?n.setAttribute("data-vc-date-selected","first-and-last"):e.context.selectedDates[0]===o?n.setAttribute("data-vc-date-selected","first"):e.context.selectedDates[e.context.selectedDates.length-1]===o&&n.setAttribute("data-vc-date-selected","last"),e.context.selectedDates[0]!==o&&e.context.selectedDates[e.context.selectedDates.length-1]!==o&&n.setAttribute("data-vc-date-selected","middle"))):n.hasAttribute("data-vc-date-selected")&&(n.removeAttribute("data-vc-date-selected"),a&&a.removeAttribute("aria-selected")),!e.context.disableDates.includes(o)&&e.enableEdgeDatesOnly&&e.context.selectedDates.length>1&&e.selectionDatesMode==="multiple-ranged"){let v=f(e.context.selectedDates[0]),y=f(e.context.selectedDates[e.context.selectedDates.length-1]),x=f(o);k(n,x>v&&x<y,"data-vc-date-selected","middle")}},Ut=(e,t,n)=>new Date(`${e}T00:00:00.000Z`).toLocaleString(t,n),Ze=(e,t)=>{let n=f(e),a=(n.getDay()-t+7)%7;n.setDate(n.getDate()+4-a);let r=new Date(n.getFullYear(),0,1),o=Math.ceil(((+n-+r)/864e5+1)/7);return{year:n.getFullYear(),week:o}},Bt=(e,t,n)=>{let a=Ze(n,e.firstWeekday);a&&(t.dataset.vcDateWeekNumber=String(a.week))},Wt=(e,t,n)=>{var a,r,o,s,i;let l=(a=e.disableWeekdays)==null?void 0:a.includes(n),d=e.disableAllDates&&!!((r=e.context.enableDates)!=null&&r[0]);!l&&!d||(o=e.context.enableDates)!=null&&o.includes(t)||(s=e.context.disableDates)!=null&&s.includes(t)||(e.context.disableDates.push(t),(i=e.context.disableDates)==null||i.sort((c,u)=>+new Date(c)-+new Date(u)))},Se=(e,t,n,a,r,o)=>{let s=f(r).getDay(),i=typeof e.locale=="string"&&e.locale.length?e.locale:"en",l=document.createElement("div"),d;l.className=e.styles.date,l.dataset.vcDate=r,l.dataset.vcDateMonth=o,l.dataset.vcDateWeekDay=String(s),(o==="current"||e.displayDatesOutside)&&(d=document.createElement("button"),d.className=e.styles.dateBtn,d.type="button",d.role="gridcell",d.ariaLabel=Ut(r,i,{dateStyle:"long",timeZone:"UTC"}),d.dataset.vcDateBtn="",d.innerText=String(a),l.appendChild(d)),e.enableWeekNumbers&&Bt(e,l,r),Wt(e,r,s),Qe(e,t,l,d,s,r,o),n.appendChild(l),e.onCreateDateEls&&e.onCreateDateEls(e,l)},zt=(e,t,n,a,r)=>{for(let o=1;o<=n;o++){let s=new Date(a,r,o);Se(e,a,t,o,N(s),"current")}},jt=(e,t,n,a,r,o)=>{let s=o+n,i=7*Math.ceil(s/7)-s,l=r+1===12?a+1:a,d=r+1===12?"01":r+2<10?`0${r+2}`:r+2;for(let c=1;c<=i;c++){let u=c<10?`0${c}`:String(c);Se(e,a,t,c,`${l}-${d}-${u}`,"next")}},Gt=(e,t,n,a,r)=>{let o=new Date(n,a,0).getDate()-(r-1),s=a===0?n-1:n,i=a===0?12:a<10?`0${a}`:a;for(let l=r;l>0;l--,o++)Se(e,n,t,o,`${s}-${i}-${o}`,"prev")},Vt=(e,t,n,a,r)=>{if(!e.enableWeekNumbers)return;a.textContent="";let o=document.createElement("b");o.className=e.styles.weekNumbersTitle,o.innerText="#",o.dataset.vcWeekNumbers="title",a.appendChild(o);let s=document.createElement("div");s.className=e.styles.weekNumbersContent,s.dataset.vcWeekNumbers="content",a.appendChild(s);let i=document.createElement("button");i.type="button",i.className=e.styles.weekNumber;let l=r.querySelectorAll("[data-vc-date]"),d=Math.ceil((t+n)/7);for(let c=0;c<d;c++){let u=l[c===0?6:7*c].dataset.vcDate,g=Ze(u,e.firstWeekday);if(!g)return;let v=i.cloneNode(!0);v.innerText=String(g.week),v.dataset.vcWeekNumber=String(g.week),v.dataset.vcWeekYear=String(g.year),v.role="rowheader",v.ariaLabel=`${g.week}`,s.appendChild(v)}},ye=e=>{let t=new Date(e.context.selectedYear,e.context.selectedMonth,1),n=e.context.mainElement.querySelectorAll('[data-vc="dates"]'),a=e.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');n.forEach((r,o)=>{e.selectionDatesMode||(r.dataset.vcDatesDisabled=""),r.textContent="";let s=new Date(t);s.setMonth(s.getMonth()+o);let i=s.getMonth(),l=s.getFullYear(),d=(new Date(l,i,1).getDay()-e.firstWeekday+7)%7,c=new Date(l,i+1,0).getDate();Gt(e,r,l,i,d),zt(e,r,c,l,i),jt(e,r,c,l,i,d),qt(e,r),Vt(e,d,c,a[o],r)})},Kt=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <#WeekNumbers />
    <div class="${e.styles.content}" data-vc="content">
      <#Week />
      <#Dates />
      <#DateRangeTooltip />
    </div>
  </div>
  <#ControlTime />
`,Xt=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Months />
    </div>
  </div>
`,Qt=e=>`
  <div class="${e.styles.controls}" data-vc="controls" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [month] />
    <#ArrowNext [month] />
  </div>
  <div class="${e.styles.grid}" data-vc="grid">
    <#Multiple>
      <div class="${e.styles.column}" data-vc="column" role="region">
        <div class="${e.styles.header}" data-vc="header">
          <div class="${e.styles.headerContent}" data-vc-header="content">
            <#Month />
            <#Year />
          </div>
        </div>
        <div class="${e.styles.wrapper}" data-vc="wrapper">
          <#WeekNumbers />
          <div class="${e.styles.content}" data-vc="content">
            <#Week />
            <#Dates />
          </div>
        </div>
      </div>
    <#/Multiple>
    <#DateRangeTooltip />
  </div>
  <#ControlTime />
`,Zt=e=>`
  <div class="${e.styles.header}" data-vc="header" role="toolbar" aria-label="${e.labels.navigation}">
    <#ArrowPrev [year] />
    <div class="${e.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [year] />
  </div>
  <div class="${e.styles.wrapper}" data-vc="wrapper">
    <div class="${e.styles.content}" data-vc="content">
      <#Years />
    </div>
  </div>
`,Jt=(e,t)=>`<button type="button" class="${e.styles.arrowNext}" data-vc-arrow="next" aria-label="${e.labels.arrowNext[t]}"></button>`,en=(e,t)=>`<button type="button" class="${e.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${e.labels.arrowPrev[t]}"></button>`,tn=e=>e.selectionTimeMode?`<div class="${e.styles.time}" data-vc="time" role="group" aria-label="${e.labels.selectingTime}"></div>`:"",nn=e=>e.onCreateDateRangeTooltip?`<div class="${e.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",an=e=>`<div class="${e.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${e.labels.dates}" ${e.type==="multiple"?"aria-multiselectable":""}></div>`,rn=e=>`<button type="button" class="${e.styles.month}" data-vc="month"></button>`,on=e=>`<div class="${e.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${e.labels.months}"></div>`,sn=e=>`<div class="${e.styles.week}" data-vc="week" role="row" aria-label="${e.labels.week}"></div>`,ln=e=>e.enableWeekNumbers?`<div class="${e.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${e.labels.weekNumber}"></div>`:"",cn=e=>`<button type="button" class="${e.styles.year}" data-vc="year"></button>`,dn=e=>`<div class="${e.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${e.labels.years}"></div>`,mn={ArrowNext:Jt,ArrowPrev:en,ControlTime:tn,Dates:an,DateRangeTooltip:nn,Month:rn,Months:on,Week:sn,WeekNumbers:ln,Year:cn,Years:dn},un=e=>mn[e],pe=(e,t)=>t.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(n,a)=>{let r=(a.match(/\[(.*?)\]/)||[])[1],o=a.replace(/[/\s\n\t]|\[(.*?)\]/g,""),s=un(o),i=s?s(e,r??null):"";return e.sanitizerHTML(i)}).replace(/[\n\t]/g,""),hn=(e,t)=>t.replace(new RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),(n,a)=>{let r=Array(e.context.displayMonthsCount).fill(a).join("");return e.sanitizerHTML(r)}).replace(/[\n\t]/g,""),Te=(e,t)=>{let n={default:Kt,month:Xt,year:Zt,multiple:Qt};if(Object.keys(n).forEach(a=>{let r=a;e.layouts[r].length||(e.layouts[r]=n[r](e))}),e.context.mainElement.className=e.styles.calendar,e.context.mainElement.dataset.vc="calendar",e.context.mainElement.dataset.vcType=e.context.currentType,e.context.mainElement.role="application",e.context.mainElement.tabIndex=0,e.context.mainElement.ariaLabel=e.labels.application,e.context.currentType!=="multiple"){if(e.type==="multiple"&&t){let a=e.context.mainElement.querySelector('[data-vc="controls"]'),r=e.context.mainElement.querySelector('[data-vc="grid"]'),o=t.closest('[data-vc="column"]');return a&&e.context.mainElement.removeChild(a),r&&(r.dataset.vcGrid="hidden"),o&&(o.dataset.vcColumn=e.context.currentType),void(o&&(o.innerHTML=e.sanitizerHTML(pe(e,e.layouts[e.context.currentType]))))}e.context.mainElement.innerHTML=e.sanitizerHTML(pe(e,e.layouts[e.context.currentType]))}else e.context.mainElement.innerHTML=e.sanitizerHTML(hn(e,pe(e,e.layouts[e.context.currentType])))},Je=(e,t,n,a)=>{e.style.visibility=n?"hidden":"",t.style.visibility=a?"hidden":""},pn=(e,t,n)=>{let a=f(N(new Date(e.context.selectedYear,e.context.selectedMonth,1))),r=new Date(a.getTime()),o=new Date(a.getTime());r.setMonth(r.getMonth()-e.monthsToSwitch),o.setMonth(o.getMonth()+e.monthsToSwitch);let s=f(e.context.dateMin),i=f(e.context.dateMax);e.selectionYearsMode||(s.setFullYear(a.getFullYear()),i.setFullYear(a.getFullYear()));let l=!e.selectionMonthsMode||r.getFullYear()<s.getFullYear()||r.getFullYear()===s.getFullYear()&&r.getMonth()<s.getMonth(),d=!e.selectionMonthsMode||o.getFullYear()>i.getFullYear()||o.getFullYear()===i.getFullYear()&&o.getMonth()>i.getMonth()-(e.context.displayMonthsCount-1);Je(t,n,l,d)},gn=(e,t,n)=>{let a=f(e.context.dateMin),r=f(e.context.dateMax),o=!!(a.getFullYear()&&e.context.displayYear-7<=a.getFullYear()),s=!!(r.getFullYear()&&e.context.displayYear+7>=r.getFullYear());Je(t,n,o,s)},te=e=>{if(e.context.currentType==="month")return;let t=e.context.mainElement.querySelector('[data-vc-arrow="prev"]'),n=e.context.mainElement.querySelector('[data-vc-arrow="next"]');!t||!n||{default:()=>pn(e,t,n),year:()=>gn(e,t,n)}[e.context.currentType==="multiple"?"default":e.context.currentType]()},fn=(e,t,n,a,r)=>{let o=new Date(a.setFullYear(e.context.selectedYear,e.context.selectedMonth+n)).getFullYear(),s=new Date(a.setMonth(e.context.selectedMonth+n)).getMonth(),i=e.context.locale.months.long[s],l=t.closest('[data-vc="column"]');l&&(l.ariaLabel=`${i} ${o}`);let d={month:{id:s,label:i},year:{id:o,label:o}};t.innerText=String(d[r].label),t.dataset[`vc${r.charAt(0).toUpperCase()+r.slice(1)}`]=String(d[r].id),t.ariaLabel=`${e.labels[r]} ${d[r].label}`;let c={month:e.selectionMonthsMode,year:e.selectionYearsMode},u=c[r]===!1||c[r]==="only-arrows";u&&(t.tabIndex=-1),t.disabled=u},W=e=>{let t=e.context.mainElement.querySelectorAll('[data-vc="month"]'),n=e.context.mainElement.querySelectorAll('[data-vc="year"]'),a=new Date(e.context.selectedYear,e.context.selectedMonth,1);[t,n].forEach(r=>r?.forEach((o,s)=>fn(e,o,s,a,o.dataset.vc)))},Ce=(e,t,n,a,r)=>{var o;let s={month:"[data-vc-months-month]",year:"[data-vc-years-year]"},i={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};r&&((o=e.context.mainElement.querySelectorAll(s[n]))==null||o.forEach(l=>{l.removeAttribute(i[n].selected),l.removeAttribute(i[n].aria)}),p(e,i[n].selectedProperty,Number(t.dataset[i[n].value])),W(e),n==="year"&&te(e)),a&&(t.setAttribute(i[n].selected,""),t.setAttribute(i[n].aria,"true"))},ke=(e,t)=>{var n;if(e.type!=="multiple")return{currentValue:null,columnID:0};let a=e.context.mainElement.querySelectorAll('[data-vc="column"]'),r=Array.from(a).findIndex(o=>o.closest(`[data-vc-column="${t}"]`));return{currentValue:r>=0?Number((n=a[r].querySelector(`[data-vc="${t}"]`))==null?void 0:n.getAttribute(`data-vc-${t}`)):null,columnID:Math.max(r,0)}},vn=(e,t,n,a,r,o,s)=>{let i=t.cloneNode(!1);return i.className=e.styles.monthsMonth,i.innerText=a,i.ariaLabel=r,i.role="gridcell",i.dataset.vcMonthsMonth=`${s}`,o&&(i.ariaDisabled="true"),o&&(i.tabIndex=-1),i.disabled=o,Ce(e,i,"month",n===s,!1),i},et=(e,t)=>{var n,a;let r=(n=t?.closest('[data-vc="header"]'))==null?void 0:n.querySelector('[data-vc="year"]'),o=r?Number(r.dataset.vcYear):e.context.selectedYear,s=t?.dataset.vcMonth?Number(t.dataset.vcMonth):e.context.selectedMonth;p(e,"currentType","month"),Te(e,t),W(e);let i=e.context.mainElement.querySelector('[data-vc="months"]');if(!e.selectionMonthsMode||!i)return;let l=e.monthsToSwitch>1?e.context.locale.months.long.map((c,u)=>s-e.monthsToSwitch*u).concat(e.context.locale.months.long.map((c,u)=>s+e.monthsToSwitch*u)).filter(c=>c>=0&&c<=12):Array.from(Array(12).keys()),d=document.createElement("button");d.type="button";for(let c=0;c<12;c++){let u=f(e.context.dateMin),g=f(e.context.dateMax),v=e.context.displayMonthsCount-1,{columnID:y}=ke(e,"month"),x=o<=u.getFullYear()&&c<u.getMonth()+y||o>=g.getFullYear()&&c>g.getMonth()-v+y||o>g.getFullYear()||c!==s&&!l.includes(c),I=vn(e,d,s,e.context.locale.months.short[c],e.context.locale.months.long[c],x,c);i.appendChild(I),e.onCreateMonthEls&&e.onCreateMonthEls(e,I)}(a=e.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))==null||a.focus()},Pe=(e,t,n,a,r)=>`
  <label class="${t}" data-vc-time-input="${e}">
    <input type="text" name="${e}" maxlength="2" aria-label="${n[`input${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${a}" ${r?"disabled":""}>
  </label>
`,Ye=(e,t,n,a,r,o,s)=>`
  <label class="${t}" data-vc-time-range="${e}">
    <input type="range" name="${e}" min="${a}" max="${r}" step="${o}" aria-label="${n[`range${e.charAt(0).toUpperCase()+e.slice(1)}`]}" value="${s}">
  </label>
`,q=(e,t,n,a)=>{({hour:()=>p(e,"selectedHours",n),minute:()=>p(e,"selectedMinutes",n)})[a](),p(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${e.context.selectedKeeping?` ${e.context.selectedKeeping}`:""}`),e.onChangeTime&&e.onChangeTime(e,t,!1),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t)},Z=(e,t)=>{var n;return((n={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[Number(e)])==null?void 0:n[t])||String(e)},yn=(e,t,n,a,r)=>{let o=s=>{let i=e.context.selectedKeeping==="AM"?"PM":"AM",l=Z(e.context.selectedHours,i);Number(l)<=a&&Number(l)>=r?(p(e,"selectedKeeping",i),n.value=l,q(e,s,e.context.selectedHours,"hour"),t.ariaLabel=`${e.labels.btnKeeping} ${e.context.selectedKeeping}`,t.innerText=e.context.selectedKeeping):e.onChangeTime&&e.onChangeTime(e,s,!0)};return t.addEventListener("click",o),()=>{t.removeEventListener("click",o)}},U=e=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"})[Number(e)]||String(e),K=(e,t,n,a)=>{e.value=n,t.value=a},bn=(e,t,n)=>{t&&n&&(p(e,"selectedKeeping",n),t.innerText=n)},qe=(e,t,n,a,r,o,s)=>{let i={hour:(d,c,u)=>{e.selectionTimeMode&&{12:()=>{if(!e.context.selectedKeeping)return;let g=Number(Z(c,e.context.selectedKeeping));if(!(g<=o&&g>=s))return K(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,u,!0));K(n,t,U(c),Z(c,e.context.selectedKeeping)),d>12&&bn(e,a,"PM"),q(e,u,U(c),r)},24:()=>{if(!(d<=o&&d>=s))return K(n,t,e.context.selectedHours,e.context.selectedHours),void(e.onChangeTime&&e.onChangeTime(e,u,!0));K(n,t,c,c),q(e,u,c,r)}}[e.selectionTimeMode]()},minute:(d,c,u)=>{if(!(d<=o&&d>=s))return n.value=e.context.selectedMinutes,void(e.onChangeTime&&e.onChangeTime(e,u,!0));n.value=c,t.value=c,q(e,u,c,r)}},l=d=>{let c=Number(n.value),u=n.value.padStart(2,"0");i[r]&&i[r](c,u,d)};return n.addEventListener("change",l),()=>{n.removeEventListener("change",l)}},En=(e,t,n,a,r)=>{t.value=r,q(e,n,r,a)},wn=(e,t,n)=>{t&&(p(e,"selectedKeeping",n),t.innerText=n)},Ue=(e,t,n,a,r)=>{let o=s=>{let i=Number(t.value),l=t.value.padStart(2,"0"),d=r==="hour",c=e.selectionTimeMode===24,u=i>0&&i<12;d&&!c&&wn(e,a,i===0||u?"AM":"PM"),En(e,n,s,r,!d||c||u?l:U(t.value))};return t.addEventListener("input",o),()=>{t.removeEventListener("input",o)}},Be=e=>e.setAttribute("data-vc-input-focus",""),We=e=>e.removeAttribute("data-vc-input-focus"),xn=(e,t)=>{let n=t.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),a=t.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),r=t.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),o=t.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),s=t.querySelector('[data-vc-time="keeping"]');if(!(n&&a&&r&&o))return;let i=d=>{d.target===n&&Be(r),d.target===a&&Be(o)},l=d=>{d.target===n&&We(r),d.target===a&&We(o)};return t.addEventListener("mouseover",i),t.addEventListener("mouseout",l),qe(e,n,r,s,"hour",e.timeMaxHour,e.timeMinHour),qe(e,a,o,s,"minute",e.timeMaxMinute,e.timeMinMinute),Ue(e,n,r,s,"hour"),Ue(e,a,o,s,"minute"),s&&yn(e,s,n,e.timeMaxHour,e.timeMinHour),()=>{t.removeEventListener("mouseover",i),t.removeEventListener("mouseout",l)}},Dn=e=>{let t=e.context.mainElement.querySelector('[data-vc="time"]');if(!e.selectionTimeMode||!t)return;let[n,a]=[e.timeMinHour,e.timeMaxHour],[r,o]=[e.timeMinMinute,e.timeMaxMinute],s=e.context.selectedKeeping?Z(e.context.selectedHours,e.context.selectedKeeping):e.context.selectedHours,i=e.timeControls==="range";var l;t.innerHTML=e.sanitizerHTML(`
    <div class="${e.styles.timeContent}" data-vc-time="content">
      ${Pe("hour",e.styles.timeHour,e.labels,e.context.selectedHours,i)}
      ${Pe("minute",e.styles.timeMinute,e.labels,e.context.selectedMinutes,i)}
      ${e.selectionTimeMode===12?(l=e.context.selectedKeeping,`<button type="button" class="${e.styles.timeKeeping}" aria-label="${e.labels.btnKeeping} ${l}" data-vc-time="keeping" ${i?"disabled":""}>${l}</button>`):""}
    </div>
    <div class="${e.styles.timeRanges}" data-vc-time="ranges">
      ${Ye("hour",e.styles.timeRange,e.labels,n,a,e.timeStepHour,s)}
      ${Ye("minute",e.styles.timeRange,e.labels,r,o,e.timeStepMinute,e.context.selectedMinutes)}
    </div>
  `),xn(e,t)},ze=e=>{let t=e.selectedWeekends?[...e.selectedWeekends]:[],n=[...e.context.locale.weekdays.long].reduce((r,o,s)=>[...r,{id:s,titleShort:e.context.locale.weekdays.short[s],titleLong:o,isWeekend:t.includes(s)}],[]),a=[...n.slice(e.firstWeekday),...n.slice(0,e.firstWeekday)];e.context.mainElement.querySelectorAll('[data-vc="week"]').forEach(r=>{let o=e.onClickWeekDay?document.createElement("button"):document.createElement("b");e.onClickWeekDay&&(o.type="button"),a.forEach(s=>{let i=o.cloneNode(!0);i.innerText=s.titleShort,i.className=e.styles.weekDay,i.role="columnheader",i.ariaLabel=s.titleLong,i.dataset.vcWeekDay=String(s.id),s.isWeekend&&(i.dataset.vcWeekDayOff=""),r.appendChild(i)})})},Mn=(e,t,n,a,r)=>{let o=t.cloneNode(!1);return o.className=e.styles.yearsYear,o.innerText=String(r),o.ariaLabel=String(r),o.role="gridcell",o.dataset.vcYearsYear=`${r}`,a&&(o.ariaDisabled="true"),a&&(o.tabIndex=-1),o.disabled=a,Ce(e,o,"year",n===r,!1),o},Le=(e,t)=>{var n;let a=t?.dataset.vcYear?Number(t.dataset.vcYear):e.context.selectedYear;p(e,"currentType","year"),Te(e,t),W(e),te(e);let r=e.context.mainElement.querySelector('[data-vc="years"]');if(!e.selectionYearsMode||!r)return;let o=e.type!=="multiple"||e.context.selectedYear===a?0:1,s=document.createElement("button");s.type="button";for(let i=e.context.displayYear-7;i<e.context.displayYear+8;i++){let l=i<f(e.context.dateMin).getFullYear()+o||i>f(e.context.dateMax).getFullYear(),d=Mn(e,s,a,l,i);r.appendChild(d),e.onCreateYearEls&&e.onCreateYearEls(e,d)}(n=e.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))==null||n.focus()},Sn=(e,t,n)=>{new MutationObserver(a=>{for(let r=0;r<a.length;r++)if(a[r].attributeName===t){n();break}}).observe(e,{attributes:!0})},J={value:!1,set:()=>J.value=!0,check:()=>J.value},O=(e,t)=>e.dataset.vcTheme=t,je=(e,t)=>{if(O(e.context.mainElement,t.matches?"dark":"light"),e.selectedTheme!=="system"||J.check())return;let n=a=>{let r=document.querySelectorAll('[data-vc="calendar"]');r?.forEach(o=>O(o,a.matches?"dark":"light"))};t.addEventListener?t.addEventListener("change",n):t.addListener(n),J.set()},Tn=(e,t)=>{let n=e.themeAttrDetect.length?document.querySelector(e.themeAttrDetect):null,a=e.themeAttrDetect.replace(/^.*\[(.+)\]/g,(o,s)=>s);if(!n||n.getAttribute(a)==="system")return void je(e,t);let r=n.getAttribute(a);r?(O(e.context.mainElement,r),Sn(n,a,()=>{let o=n.getAttribute(a);o&&O(e.context.mainElement,o)})):je(e,t)},Cn=e=>{window.matchMedia("(prefers-color-scheme)").media!=="not all"?e.selectedTheme==="system"?Tn(e,window.matchMedia("(prefers-color-scheme: dark)")):O(e.context.mainElement,e.selectedTheme):O(e.context.mainElement,"light")},ee=e=>e.charAt(0).toUpperCase()+e.slice(1).replace(/\./,""),kn=(e,t,n)=>{let a=new Date(`1978-01-0${t+1}T00:00:00.000Z`),r=a.toLocaleString(n,{weekday:"short",timeZone:"UTC"}),o=a.toLocaleString(n,{weekday:"long",timeZone:"UTC"});e.context.locale.weekdays.short.push(ee(r)),e.context.locale.weekdays.long.push(ee(o))},Ln=(e,t,n)=>{let a=new Date(`1978-${String(t+1).padStart(2,"0")}-01T00:00:00.000Z`),r=a.toLocaleString(n,{month:"short",timeZone:"UTC"}),o=a.toLocaleString(n,{month:"long",timeZone:"UTC"});e.context.locale.months.short.push(ee(r)),e.context.locale.months.long.push(ee(o))},An=e=>{var t,n,a,r,o,s,i,l;if(!(e.context.locale.weekdays.short[6]&&e.context.locale.weekdays.long[6]&&e.context.locale.months.short[11]&&e.context.locale.months.long[11]))if(typeof e.locale=="string"){if(typeof e.locale=="string"&&!e.locale.length)throw new Error(L.notLocale);Array.from({length:7},(d,c)=>kn(e,c,e.locale)),Array.from({length:12},(d,c)=>Ln(e,c,e.locale))}else{if(!((n=(t=e.locale)==null?void 0:t.weekdays)!=null&&n.short[6]&&((r=(a=e.locale)==null?void 0:a.weekdays)!=null&&r.long[6])&&((s=(o=e.locale)==null?void 0:o.months)!=null&&s.short[11])&&((l=(i=e.locale)==null?void 0:i.months)!=null&&l.long[11])))throw new Error(L.notLocale);p(e,"locale",R({},e.locale))}},ne=e=>{let t={default:()=>{ze(e),ye(e)},multiple:()=>{ze(e),ye(e)},month:()=>et(e),year:()=>Le(e)};Cn(e),An(e),Te(e),W(e),te(e),Dn(e),t[e.context.currentType]()},tt=e=>{let t=n=>{var a;let r=n.target;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)||r.localName!=="button")return;let o=Array.from(e.context.mainElement.querySelectorAll('[data-vc="calendar"] button')),s=o.indexOf(r);if(s===-1)return;let i=(l=o[s]).hasAttribute("data-vc-date-btn")?7:l.hasAttribute("data-vc-months-month")?4:l.hasAttribute("data-vc-years-year")?5:1;var l;let d=(0,{ArrowUp:()=>Math.max(0,s-i),ArrowDown:()=>Math.min(o.length-1,s+i),ArrowLeft:()=>Math.max(0,s-1),ArrowRight:()=>Math.min(o.length-1,s+1)}[n.key])();(a=o[d])==null||a.focus()};return e.context.mainElement.addEventListener("keydown",t),()=>e.context.mainElement.removeEventListener("keydown",t)},be=(e,t)=>{let n=f(N(new Date(e.context.selectedYear,e.context.selectedMonth,1)));({prev:()=>n.setMonth(n.getMonth()-e.monthsToSwitch),next:()=>n.setMonth(n.getMonth()+e.monthsToSwitch)})[t](),p(e,"selectedMonth",n.getMonth()),p(e,"selectedYear",n.getFullYear()),W(e),te(e),ye(e)},Nn=(e,t)=>{let n=t.target.closest("[data-vc-arrow]");if(n){if(["default","multiple"].includes(e.context.currentType))be(e,n.dataset.vcArrow);else if(e.context.currentType==="year"&&e.context.displayYear!==void 0){let a={prev:-15,next:15}[n.dataset.vcArrow];p(e,"displayYear",e.context.displayYear+a),Le(e,t.target)}e.onClickArrow&&e.onClickArrow(e,t)}},Ee=e=>e.enableDateToggle===void 0||(typeof e.enableDateToggle=="function"?e.enableDateToggle(e):e.enableDateToggle),Ge=(e,t,n)=>{let a=t.dataset.vcDate,r=t.closest("[data-vc-date][data-vc-date-selected]"),o=Ee(e);if(r&&!o)return;let s=r?e.context.selectedDates.filter(i=>i!==a):n?[...e.context.selectedDates,a]:[a];p(e,"selectedDates",s)},T=(e,t,n)=>{if(!t)return;if(!n)return t.dataset.vcDateRangeTooltip="hidden",void(t.textContent="");let a=e.context.mainElement.getBoundingClientRect(),r=n.getBoundingClientRect();t.style.left=r.left-a.left+r.width/2+"px",t.style.top=r.bottom-a.top-r.height+"px",t.dataset.vcDateRangeTooltip="visible",t.innerHTML=e.sanitizerHTML(e.onCreateDateRangeTooltip(e,n,t,r,a))},m={self:null,lastDateEl:null,isHovering:!1,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},$n=(e,t,n)=>{var a,r,o;if(!((r=(a=m.self)==null?void 0:a.context)!=null&&r.selectedDates[0]))return;let s=N(e);(o=m.self.context.disableDates)!=null&&o.includes(s)||(m.self.context.mainElement.querySelectorAll(`[data-vc-date="${s}"]`).forEach(i=>i.dataset.vcDateHover=""),t.forEach(i=>i.dataset.vcDateHover="first"),n.forEach(i=>{i.dataset.vcDateHover==="first"?i.dataset.vcDateHover="first-and-last":i.dataset.vcDateHover="last"}))},B=()=>{var e,t;(t=(e=m.self)==null?void 0:e.context)!=null&&t.mainElement&&m.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach(n=>n.removeAttribute("data-vc-date-hover"))},In=e=>{var t,n;if(!e.target||!((n=(t=m.self)==null?void 0:t.context)!=null&&n.selectedDates[0]))return;if(!e.target.closest('[data-vc="dates"]'))return m.lastDateEl=null,T(m.self,m.tooltipEl,null),void B();let a=e.target.closest("[data-vc-date]");if(!a||m.lastDateEl===a)return;m.lastDateEl=a,T(m.self,m.tooltipEl,a),B();let r=a.dataset.vcDate,o=f(m.self.context.selectedDates[0]),s=f(r),i=m.self.context.mainElement.querySelectorAll(`[data-vc-date="${m.self.context.selectedDates[0]}"]`),l=m.self.context.mainElement.querySelectorAll(`[data-vc-date="${r}"]`),[d,c]=o<s?[i,l]:[l,i],[u,g]=o<s?[o,s]:[s,o];for(let v=new Date(u);v<=g;v.setDate(v.getDate()+1))$n(v,d,c)},Rn=e=>{let t=e.target.closest("[data-vc-date-selected]");if(!t&&m.lastDateEl)return m.lastDateEl=null,void T(m.self,m.tooltipEl,null);t&&m.lastDateEl!==t&&(m.lastDateEl=t,T(m.self,m.tooltipEl,t))},nt=e=>t=>{m.isHovering||(m.isHovering=!0,requestAnimationFrame(()=>{e(t),m.isHovering=!1}))},Q=nt(In),X=nt(Rn),Y=e=>{m.self&&e.key==="Escape"&&(m.lastDateEl=null,p(m.self,"selectedDates",[]),m.self.context.mainElement.removeEventListener("mousemove",Q),m.self.context.mainElement.removeEventListener("keydown",Y),T(m.self,m.tooltipEl,null),B())},A=()=>{m.timeoutId!==null&&clearTimeout(m.timeoutId),m.timeoutId=setTimeout(()=>{m.lastDateEl=null,T(m.self,m.tooltipEl,null),B()},50)},On=()=>{var e,t,n,a;if(!((n=(t=(e=m.self)==null?void 0:e.context)==null?void 0:t.selectedDates)!=null&&n[0])||!((a=m.self.context.disableDates)!=null&&a[0]))return;let r=f(m.self.context.selectedDates[0]),[o,s]=m.self.context.disableDates.map(i=>f(i)).reduce(([i,l],d)=>[r>=d?d:i,r<d&&l===null?d:l],[null,null]);o&&p(m.self,"displayDateMin",N(new Date(o.setDate(o.getDate()+1)))),s&&p(m.self,"displayDateMax",N(new Date(s.setDate(s.getDate()-1)))),m.self.disableDatesPast&&!m.self.disableAllDates&&f(m.self.context.displayDateMin)<f(m.self.context.dateToday)&&p(m.self,"displayDateMin",m.self.context.dateToday)},at=(e,t)=>{m.self=e,m.lastDateEl=t,B(),e.disableDatesGaps&&(m.rangeMin=m.rangeMin?m.rangeMin:e.context.displayDateMin,m.rangeMax=m.rangeMax?m.rangeMax:e.context.displayDateMax),e.onCreateDateRangeTooltip&&(m.tooltipEl=e.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));let n=t?.dataset.vcDate;if(n){let a=e.context.selectedDates.length===1&&e.context.selectedDates[0].includes(n),r=a&&!Ee(e)?[n,n]:a&&Ee(e)?[]:e.context.selectedDates.length>1?[n]:[...e.context.selectedDates,n];p(e,"selectedDates",r),e.context.selectedDates.length>1&&e.context.selectedDates.sort((o,s)=>+new Date(o)-+new Date(s))}({set:()=>(e.disableDatesGaps&&On(),T(m.self,m.tooltipEl,t),m.self.context.mainElement.removeEventListener("mousemove",X),m.self.context.mainElement.removeEventListener("mouseleave",A),m.self.context.mainElement.removeEventListener("keydown",Y),m.self.context.mainElement.addEventListener("mousemove",Q),m.self.context.mainElement.addEventListener("mouseleave",A),m.self.context.mainElement.addEventListener("keydown",Y),()=>{m.self.context.mainElement.removeEventListener("mousemove",Q),m.self.context.mainElement.removeEventListener("mouseleave",A),m.self.context.mainElement.removeEventListener("keydown",Y)}),reset:()=>{let[a,r]=[e.context.selectedDates[0],e.context.selectedDates[e.context.selectedDates.length-1]],o=e.context.selectedDates[0]!==e.context.selectedDates[e.context.selectedDates.length-1],s=$([`${a}:${r}`]).filter(l=>!e.context.disableDates.includes(l)),i=o?e.enableEdgeDatesOnly?[a,r]:s:[e.context.selectedDates[0],e.context.selectedDates[0]];if(p(e,"selectedDates",i),e.disableDatesGaps&&(p(e,"displayDateMin",m.rangeMin),p(e,"displayDateMax",m.rangeMax)),m.self.context.mainElement.removeEventListener("mousemove",Q),m.self.context.mainElement.removeEventListener("mouseleave",A),m.self.context.mainElement.removeEventListener("keydown",Y),e.onCreateDateRangeTooltip)return e.context.selectedDates[0]||(m.self.context.mainElement.removeEventListener("mousemove",X),m.self.context.mainElement.removeEventListener("mouseleave",A),T(m.self,m.tooltipEl,null)),e.context.selectedDates[0]&&(m.self.context.mainElement.addEventListener("mousemove",X),m.self.context.mainElement.addEventListener("mouseleave",A),T(m.self,m.tooltipEl,t)),()=>{m.self.context.mainElement.removeEventListener("mousemove",X),m.self.context.mainElement.removeEventListener("mouseleave",A)}}})[e.context.selectedDates.length===1?"set":"reset"]()},ge=e=>{e.context.mainElement.querySelectorAll("[data-vc-date]").forEach(t=>{let n=t.querySelector("[data-vc-date-btn]"),a=t.dataset.vcDate,r=f(a).getDay();Qe(e,e.context.selectedYear,t,n,r,a,"current")})},_n=(e,t)=>{var n;let a=t.target,r=a.closest("[data-vc-date-btn]");if(!e.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(e.selectionDatesMode)||!r)return;let o=r.closest("[data-vc-date]");({single:()=>Ge(e,o,!1),multiple:()=>Ge(e,o,!0),"multiple-ranged":()=>at(e,o)})[e.selectionDatesMode](),(n=e.context.selectedDates)==null||n.sort((l,d)=>+new Date(l)-+new Date(d)),e.onClickDate&&e.onClickDate(e,t),e.inputMode&&e.context.inputElement&&e.context.mainElement&&e.onChangeToInput&&e.onChangeToInput(e,t);let s=a.closest('[data-vc-date-month="prev"]'),i=a.closest('[data-vc-date-month="next"]');({prev:()=>e.enableMonthChangeOnDayClick?be(e,"prev"):ge(e),next:()=>e.enableMonthChangeOnDayClick?be(e,"next"):ge(e),current:()=>ge(e)})[s?"prev":i?"next":"current"]()},Hn=["month","year"],rt=(e,t,n)=>{let{currentValue:a,columnID:r}=ke(e,t);return e.context.currentType==="month"&&r>=0?n-r:e.context.currentType==="year"&&e.context.selectedYear!==a?n-1:n},Fn=(e,t)=>{let n=rt(e,"year",Number(t.dataset.vcYearsYear)),a=f(e.context.dateMin),r=f(e.context.dateMax),o=e.context.displayMonthsCount-1,{columnID:s}=ke(e,"year"),i=e.context.selectedMonth<a.getMonth()&&n<=a.getFullYear(),l=e.context.selectedMonth>r.getMonth()-o+s&&n>=r.getFullYear(),d=n<a.getFullYear(),c=n>r.getFullYear(),u=i||d?a.getFullYear():l||c?r.getFullYear():n,g=i||d?a.getMonth():l||c?r.getMonth()-o+s:e.context.selectedMonth;p(e,"selectedYear",u),p(e,"selectedMonth",g)},Pn=(e,t)=>{let n=t.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),a=rt(e,"month",Number(t.dataset.vcMonthsMonth)),r=Number(n.dataset.vcYear),o=f(e.context.dateMin),s=f(e.context.dateMax),i=a<o.getMonth()&&r<=o.getFullYear(),l=a>s.getMonth()&&r>=s.getFullYear();p(e,"selectedYear",r),p(e,"selectedMonth",i?o.getMonth():l?s.getMonth():a)},Yn=(e,t,n,a)=>{var r;({year:()=>{if(e.type==="multiple")return Fn(e,a);p(e,"selectedYear",Number(a.dataset.vcYearsYear))},month:()=>{if(e.type==="multiple")return Pn(e,a);p(e,"selectedMonth",Number(a.dataset.vcMonthsMonth))}})[n](),{year:()=>{var o;return(o=e.onClickYear)==null?void 0:o.call(e,e,t)},month:()=>{var o;return(o=e.onClickMonth)==null?void 0:o.call(e,e,t)}}[n](),e.context.currentType!==e.type?(p(e,"currentType",e.type),ne(e),(r=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||r.focus()):Ce(e,a,n,!0,!0)},qn=(e,t,n)=>{var a;let r=t.target,o=r.closest(`[data-vc="${n}"]`),s={year:()=>Le(e,r),month:()=>et(e,r)};if(o&&e.onClickTitle&&e.onClickTitle(e,t),o&&e.context.currentType!==n)return s[n]();let i=r.closest(`[data-vc-${n}s-${n}]`);if(i)return Yn(e,t,n,i);let l=r.closest('[data-vc="grid"]'),d=r.closest('[data-vc="column"]');(e.context.currentType===n&&o||e.type==="multiple"&&e.context.currentType===n&&l&&!d)&&(p(e,"currentType",e.type),ne(e),(a=e.context.mainElement.querySelector(`[data-vc="${n}"]`))==null||a.focus())},Un=(e,t)=>{let n={month:e.selectionMonthsMode,year:e.selectionYearsMode};Hn.forEach(a=>{n[a]&&t.target&&qn(e,t,a)})},Bn=(e,t)=>{if(!e.enableWeekNumbers||!e.onClickWeekNumber)return;let n=t.target.closest("[data-vc-week-number]"),a=e.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!n||!a[0])return;let r=Number(n.innerText),o=Number(n.dataset.vcWeekYear),s=Array.from(a).filter(i=>Number(i.dataset.vcDateWeekNumber)===r);e.onClickWeekNumber(e,r,o,s,t)},Wn=(e,t)=>{if(!e.onClickWeekDay)return;let n=t.target.closest("[data-vc-week-day]"),a=t.target.closest('[data-vc="column"]'),r=a?a.querySelectorAll("[data-vc-date-week-day]"):e.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!n||!r[0])return;let o=Number(n.dataset.vcWeekDay),s=Array.from(r).filter(i=>Number(i.dataset.vcDateWeekDay)===o);e.onClickWeekDay(e,o,s,t)},ot=e=>{let t=n=>{Nn(e,n),Wn(e,n),Bn(e,n),_n(e,n),Un(e,n)};return e.context.mainElement.addEventListener("click",t),()=>e.context.mainElement.removeEventListener("click",t)},zn=e=>{if(e.type==="multiple"&&(e.displayMonthsCount<=1||e.displayMonthsCount>12))throw new Error(L.incorrectMonthsCount);if(e.type!=="multiple"&&e.displayMonthsCount>1)throw new Error(L.incorrectMonthsCount);p(e,"displayMonthsCount",e.displayMonthsCount?e.displayMonthsCount:e.type==="multiple"?2:1)},jn=()=>{let e=new Date;return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().substring(0,10)},P=(e,t)=>e==="today"?jn():e instanceof Date||typeof e=="number"||typeof e=="string"?$([e])[0]:t,Gn=e=>{var t,n,a;let r=P(e.dateMin,e.dateMin),o=P(e.dateMax,e.dateMax),s=P(e.displayDateMin,r),i=P(e.displayDateMax,o);p(e,"dateToday",P(e.dateToday,e.dateToday)),p(e,"displayDateMin",s?f(r)>=f(s)?r:s:r),p(e,"displayDateMax",i?f(o)<=f(i)?o:i:o);let l=e.disableDatesPast&&!e.disableAllDates&&f(s)<f(e.context.dateToday);p(e,"displayDateMin",l||e.disableAllDates?e.context.dateToday:s),p(e,"displayDateMax",e.disableAllDates?e.context.dateToday:i),p(e,"disableDates",e.disableDates[0]&&!e.disableAllDates?$(e.disableDates):e.disableAllDates?[e.context.displayDateMin]:[]),e.context.disableDates.length>1&&e.context.disableDates.sort((d,c)=>+new Date(d)-+new Date(c)),p(e,"enableDates",e.enableDates[0]?$(e.enableDates):[]),(t=e.context.enableDates)!=null&&t[0]&&((n=e.context.disableDates)!=null&&n[0])&&p(e,"disableDates",e.context.disableDates.filter(d=>!e.context.enableDates.includes(d))),e.context.enableDates.length>1&&e.context.enableDates.sort((d,c)=>+new Date(d)-+new Date(c)),(a=e.context.enableDates)!=null&&a[0]&&e.disableAllDates&&(p(e,"displayDateMin",e.context.enableDates[0]),p(e,"displayDateMax",e.context.enableDates[e.context.enableDates.length-1])),p(e,"dateMin",e.displayDisabledDates?r:e.context.displayDateMin),p(e,"dateMax",e.displayDisabledDates?o:e.context.displayDateMax)},Vn=e=>{var t;p(e,"selectedDates",(t=e.selectedDates)!=null&&t[0]?$(e.selectedDates):[])},Ve=(e,t,n)=>{p(e,"selectedMonth",t),p(e,"selectedYear",n),p(e,"displayYear",n)},Kn=e=>{var t;if(e.enableJumpToSelectedDate&&((t=e.selectedDates)!=null&&t[0])&&e.selectedMonth===void 0&&e.selectedYear===void 0){let r=f($(e.selectedDates)[0]);return void Ve(e,r.getMonth(),r.getFullYear())}let n=e.selectedMonth!==void 0&&Number(e.selectedMonth)>=0&&Number(e.selectedMonth)<12,a=e.selectedYear!==void 0&&Number(e.selectedYear)>=0&&Number(e.selectedYear)<=9999;Ve(e,n?Number(e.selectedMonth):f(e.context.dateToday).getMonth(),a?Number(e.selectedYear):f(e.context.dateToday).getFullYear())},Xn=e=>{var t,n,a;if(!e.selectionTimeMode)return;if(![12,24].includes(e.selectionTimeMode))throw new Error(L.incorrectTime);let r=e.selectionTimeMode===12,o=r?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/,[s,i,l]=(a=(n=(t=e.selectedTime)==null?void 0:t.match(o))==null?void 0:n.slice(1))!=null?a:[];s?r&&!l&&(l="AM"):(s=r?U(String(e.timeMinHour)):String(e.timeMinHour),i=String(e.timeMinMinute),l=r?Number(U(String(e.timeMinHour)))>=12?"PM":"AM":null),p(e,"selectedHours",s.padStart(2,"0")),p(e,"selectedMinutes",i.padStart(2,"0")),p(e,"selectedKeeping",l),p(e,"selectedTime",`${e.context.selectedHours}:${e.context.selectedMinutes}${l?` ${l}`:""}`)},st=e=>{p(e,"currentType",e.type),zn(e),Gn(e),Kn(e),Vn(e),Xn(e)},it=(e,{year:t,month:n,dates:a,time:r,locale:o},s=!0)=>{var i;let l={year:e.selectedYear,month:e.selectedMonth,dates:e.selectedDates,time:e.selectedTime};e.selectedYear=t?l.year:e.context.selectedYear,e.selectedMonth=n?l.month:e.context.selectedMonth,e.selectedTime=r?l.time:e.context.selectedTime,e.selectedDates=a==="only-first"&&((i=e.context.selectedDates)!=null&&i[0])?[e.context.selectedDates[0]]:a===!0?l.dates:e.context.selectedDates,o&&p(e,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),st(e),s&&ne(e),e.selectedYear=l.year,e.selectedMonth=l.month,e.selectedDates=l.dates,e.selectedTime=l.time,e.selectionDatesMode==="multiple-ranged"&&a&&at(e,null)},Qn=e=>{let t=document.createElement("div");return t.className=e.styles.calendar,t.dataset.vc="calendar",t.dataset.vcInput="",t.dataset.vcCalendarHidden="",p(e,"inputModeInit",!0),p(e,"isShowInInputMode",!1),p(e,"mainElement",t),document.body.appendChild(e.context.mainElement),it(e,{year:!0,month:!0,dates:!0,time:!0,locale:!0}),queueMicrotask(()=>Ne(e)),e.onInit&&e.onInit(e),tt(e),ot(e)},Zn=e=>{p(e,"inputElement",e.context.mainElement);let t=()=>{e.context.inputModeInit?queueMicrotask(()=>Ne(e)):Qn(e)};return e.context.inputElement.addEventListener("click",t),e.context.inputElement.addEventListener("focus",t),()=>{e.context.inputElement.removeEventListener("click",t),e.context.inputElement.removeEventListener("focus",t)}},Jn=e=>(p(e,"originalElement",e.context.mainElement.cloneNode(!0)),p(e,"isInit",!0),e.inputMode?Zn(e):(st(e),ne(e),e.onInit&&e.onInit(e),tt(e),ot(e))),lt=(e,t)=>{if(!e.context.isInit)throw new Error(L.notInit);it(e,R(R({},{year:!0,month:!0,dates:!0,time:!0,locale:!0}),t),!(e.inputMode&&!e.context.inputModeInit)),e.onUpdate&&e.onUpdate(e)},Ae=(e,t)=>{let n=Object.keys(t);for(let a=0;a<n.length;a++){let r=n[a];typeof e[r]!="object"||typeof t[r]!="object"||t[r]instanceof Date||Array.isArray(t[r])?t[r]!==void 0&&(e[r]=t[r]):Ae(e[r],t[r])}},ea=(e,t,n)=>{Ae(e,t),e.context.isInit&&lt(e,n)};Ke=(e,t,n)=>{if(!e)return;let a=n==="auto"?ta(e,t):n,r={top:-t.offsetHeight,bottom:e.offsetHeight,left:0,center:e.offsetWidth/2-t.offsetWidth/2,right:e.offsetWidth-t.offsetWidth},o=Array.isArray(a)?a[0]:"bottom",s=Array.isArray(a)?a[1]:a;t.dataset.vcPosition=o;let{top:i,left:l}=De(e),d=i+r[o],c=l+r[s],{vw:u}=Me();if(c+t.clientWidth>u){let g=window.innerWidth-document.body.clientWidth;c=u-t.clientWidth-g}else c<0&&(c=0);Object.assign(t.style,{left:`${c}px`,top:`${d}px`})},Ne=e=>{if(e.context.isShowInInputMode)return;if(!e.context.currentType)return void e.context.mainElement.click();p(e,"cleanupHandlers",[]),p(e,"isShowInInputMode",!0),Ke(e.context.inputElement,e.context.mainElement,e.positionToInput),e.context.mainElement.removeAttribute("data-vc-calendar-hidden");let t=()=>{Ke(e.context.inputElement,e.context.mainElement,e.positionToInput)};window.addEventListener("resize",t),e.context.cleanupHandlers.push(()=>window.removeEventListener("resize",t));let n=r=>{r.key==="Escape"&&ve(e)};document.addEventListener("keydown",n),e.context.cleanupHandlers.push(()=>document.removeEventListener("keydown",n));let a=r=>{r.target===e.context.inputElement||e.context.mainElement.contains(r.target)||ve(e)};document.addEventListener("click",a,{capture:!0}),e.context.cleanupHandlers.push(()=>document.removeEventListener("click",a,{capture:!0})),e.onShow&&e.onShow(e)},na={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},aa={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"},we=class{constructor(){h(this,"type","default"),h(this,"inputMode",!1),h(this,"positionToInput","left"),h(this,"firstWeekday",1),h(this,"monthsToSwitch",1),h(this,"themeAttrDetect","html[data-theme]"),h(this,"locale","en"),h(this,"dateToday","today"),h(this,"dateMin","1970-01-01"),h(this,"dateMax","2470-12-31"),h(this,"displayDateMin"),h(this,"displayDateMax"),h(this,"displayDatesOutside",!0),h(this,"displayDisabledDates",!1),h(this,"displayMonthsCount"),h(this,"disableDates",[]),h(this,"disableAllDates",!1),h(this,"disableDatesPast",!1),h(this,"disableDatesGaps",!1),h(this,"disableWeekdays",[]),h(this,"disableToday",!1),h(this,"enableDates",[]),h(this,"enableEdgeDatesOnly",!0),h(this,"enableDateToggle",!0),h(this,"enableWeekNumbers",!1),h(this,"enableMonthChangeOnDayClick",!0),h(this,"enableJumpToSelectedDate",!1),h(this,"selectionDatesMode","single"),h(this,"selectionMonthsMode",!0),h(this,"selectionYearsMode",!0),h(this,"selectionTimeMode",!1),h(this,"selectedDates",[]),h(this,"selectedMonth"),h(this,"selectedYear"),h(this,"selectedHolidays",[]),h(this,"selectedWeekends",[0,6]),h(this,"selectedTime"),h(this,"selectedTheme","system"),h(this,"timeMinHour",0),h(this,"timeMaxHour",23),h(this,"timeMinMinute",0),h(this,"timeMaxMinute",59),h(this,"timeControls","all"),h(this,"timeStepHour",1),h(this,"timeStepMinute",1),h(this,"sanitizerHTML",t=>t),h(this,"onClickDate"),h(this,"onClickWeekDay"),h(this,"onClickWeekNumber"),h(this,"onClickTitle"),h(this,"onClickMonth"),h(this,"onClickYear"),h(this,"onClickArrow"),h(this,"onChangeTime"),h(this,"onChangeToInput"),h(this,"onCreateDateRangeTooltip"),h(this,"onCreateDateEls"),h(this,"onCreateMonthEls"),h(this,"onCreateYearEls"),h(this,"onInit"),h(this,"onUpdate"),h(this,"onDestroy"),h(this,"onShow"),h(this,"onHide"),h(this,"popups",{}),h(this,"labels",R({},na)),h(this,"layouts",{default:"",multiple:"",month:"",year:""}),h(this,"styles",R({},aa))}},ct=class xe extends we{constructor(t,n){var a;super(),h(this,"init",()=>Jn(this)),h(this,"update",r=>lt(this,r)),h(this,"destroy",()=>Ht(this)),h(this,"show",()=>Ne(this)),h(this,"hide",()=>ve(this)),h(this,"set",(r,o)=>ea(this,r,o)),h(this,"context"),this.context=_t(R({},this.context),{locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}}),p(this,"mainElement",typeof t=="string"?(a=xe.memoizedElements.get(t))!=null?a:this.queryAndMemoize(t):t),n&&Ae(this,n)}queryAndMemoize(t){let n=document.querySelector(t);if(!n)throw new Error(L.notFoundSelector(t));return xe.memoizedElements.set(t,n),n}};h(ct,"memoizedElements",new Map);dt=ct});var $e,z,ut=C(()=>{$e=class{constructor(){this.eventTypeStyles={business:{color:"#1a5276",bgColor:"#e8f4f8"},auction:{color:"#d35400",bgColor:"#fdf2e8"},social:{color:"#27ae60",bgColor:"#e8f8f0"},regular:{color:"#8e44ad",bgColor:"#f3e8f8"},holiday:{color:"#c0392b",bgColor:"#fdeaea"},picnic:{color:"#f39c12",bgColor:"#fef9e7"}}}convertToCalendarEvents(t){return!t||!t.meetings?[]:t.meetings.map(n=>this.convertMeetingToEvent(n))}convertMeetingToEvent(t){let n=new Date(t.date),a=this.eventTypeStyles[t.type]||this.eventTypeStyles.regular;return{id:t.id,date:this.formatDateForCalendar(n),summary:t.title,description:this.buildEventDescription(t),type:t.type,cancelled:t.cancelled||!1,time:t.time,location:t.location,color:a.color,bgColor:a.bgColor,tags:t.tags||[],HTMLContent:this.buildEventHTML(t),popover:{modifier:"vc-red",html:this.buildPopoverHTML(t)}}}formatDateForCalendar(t){return t.toISOString().split("T")[0]}buildEventDescription(t){let n=t.description||"";return t.presenter&&t.presenter.name&&(n+=`

Presenter: ${t.presenter.name}`),t.specialNotes&&t.specialNotes.length>0&&(n+=`

Special Notes:
${t.specialNotes.join(`
`)}`),n.trim()}buildEventHTML(t){let n=t.time?`${t.time.doorsOpen||t.time.meetingStart}`:"",a=t.cancelled?"cancelled":"";return`
            <div class="calendar-event ${`event-${t.type}`} ${a}">
                <div class="event-time">${n}</div>
                <div class="event-title">${t.title}</div>
                ${t.cancelled?'<div class="event-cancelled">CANCELLED</div>':""}
            </div>
        `}buildPopoverHTML(t){let n=t.location?`${t.location.name}<br>${t.location.address?.street}`:"Location TBD",a=t.time?`
            <strong>Schedule:</strong><br>
            Doors: ${t.time.doorsOpen}<br>
            Meeting: ${t.time.meetingStart} - ${t.time.meetingEnd}
        `:"",r=t.presenter?`<br><strong>Presenter:</strong> ${t.presenter.name}`:"";return`
            <div class="meeting-popover">
                ${t.cancelled?'<div class="cancelled-notice"><strong>\u26A0\uFE0F CANCELLED</strong></div>':""}
                <h4>${t.title}</h4>
                <div class="meeting-details">
                    <strong>Date:</strong> ${this.formatDisplayDate(new Date(t.date))}<br>
                    ${a}
                    <br><strong>Location:</strong><br>
                    ${n}
                    ${r}
                    <br><br>
                    <div class="meeting-description">
                        ${t.description||""}
                    </div>
                </div>
            </div>
        `}formatDisplayDate(t){return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}getEventsForMonth(t,n,a){return t.filter(r=>{let o=new Date(r.date);return o.getFullYear()===n&&o.getMonth()===a})}getUpcomingEvents(t,n=5){let a=new Date;return t.filter(o=>new Date(o.date)>=a&&!o.cancelled).sort((o,s)=>new Date(o.date)-new Date(s.date)).slice(0,n)}getNextMeeting(t){let n=this.getUpcomingEvents(t,1);return n.length>0?n[0]:null}filterEventsByType(t,n){return t.filter(a=>a.type===n)}getEventStatistics(t){let n={total:t.length,byType:{},upcoming:0,cancelled:0},a=new Date;return t.forEach(r=>{n.byType[r.type]=(n.byType[r.type]||0)+1,new Date(r.date)>=a&&!r.cancelled&&n.upcoming++,r.cancelled&&n.cancelled++}),n}},z=new $e});var Ie,Re,ht=C(()=>{Ie=class{constructor(){this.modal=null,this.isOpen=!1,this.focusableElements=null,this.previousFocus=null,this.init()}init(){this.createModal(),this.bindEvents()}createModal(){let t=document.getElementById("event-modal");t&&t.remove(),document.body.insertAdjacentHTML("beforeend",`
            <div id="event-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true">
                <div class="modal-container">
                    <div class="modal-header">
                        <h2 id="modal-title" class="modal-title">Event Details</h2>
                        <button type="button" class="modal-close" aria-label="Close modal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-content">
                        <div id="modal-body" class="modal-body">
                            <!-- Content will be dynamically inserted here -->
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close-btn">Close</button>
                    </div>
                </div>
            </div>
        `),this.modal=document.getElementById("event-modal")}bindEvents(){this.modal.querySelectorAll(".modal-close, .modal-close-btn").forEach(n=>{n.addEventListener("click",()=>this.close())}),this.modal.addEventListener("click",n=>{n.target===this.modal&&this.close()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.isOpen&&this.close()}),this.modal.addEventListener("keydown",n=>{n.key==="Tab"&&this.isOpen&&this.trapFocus(n)})}open(t){this.isOpen||(this.previousFocus=document.activeElement,this.populateContent(t),this.modal.style.display="flex",this.modal.setAttribute("aria-hidden","false"),setTimeout(()=>{this.modal.classList.add("modal-open"),this.isOpen=!0,this.setFocusableElements(),this.focusableElements.length>0&&this.focusableElements[0].focus()},10),document.body.style.overflow="hidden")}close(){this.isOpen&&(this.modal.classList.remove("modal-open"),this.modal.setAttribute("aria-hidden","true"),setTimeout(()=>{this.modal.style.display="none",this.isOpen=!1},300),document.body.style.overflow="",this.previousFocus&&this.previousFocus.focus())}populateContent(t){let n=this.modal.querySelector("#modal-title"),a=this.modal.querySelector("#modal-body");n.textContent=t.title;let r=this.buildMeetingContent(t);a.innerHTML=r}buildMeetingContent(t){let a=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),r=`event-type-${t.type}`,o=t.cancelled?"event-cancelled":"";return`
            <div class="event-details ${r} ${o}">
                ${t.cancelled?'<div class="cancelled-banner"><i class="fas fa-exclamation-triangle"></i> This event has been cancelled</div>':""}
                
                <div class="event-meta">
                    <div class="event-date">
                        <i class="fas fa-calendar"></i>
                        <span>${a}</span>
                    </div>
                    <div class="event-type">
                        <i class="fas fa-tag"></i>
                        <span class="type-badge type-${t.type}">${this.capitalizeFirst(t.type)}</span>
                    </div>
                </div>

                ${t.time?this.buildTimeSection(t.time):""}
                ${t.location?this.buildLocationSection(t.location):""}
                ${t.presenter?this.buildPresenterSection(t.presenter):""}
                ${t.description?this.buildDescriptionSection(t.description):""}
                ${t.agenda?this.buildAgendaSection(t.agenda):""}
                ${t.specialNotes?this.buildSpecialNotesSection(t.specialNotes):""}
                ${t.requirements?this.buildRequirementsSection(t.requirements):""}
                ${t.contact?this.buildContactSection(t.contact):""}
            </div>
        `}buildTimeSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-clock"></i> Schedule</h3>
                <div class="time-details">
                    ${t.doorsOpen?`<div class="time-item"><strong>Doors Open:</strong> ${t.doorsOpen}</div>`:""}
                    ${t.meetingStart?`<div class="time-item"><strong>Meeting Start:</strong> ${t.meetingStart}</div>`:""}
                    ${t.meetingEnd?`<div class="time-item"><strong>Meeting End:</strong> ${t.meetingEnd}</div>`:""}
                </div>
            </div>
        `}buildLocationSection(t){let n=t.address,a=n?`${n.street}, ${n.city}, ${n.state} ${n.zipCode}`:"";return`
            <div class="detail-section">
                <h3><i class="fas fa-map-marker-alt"></i> Location</h3>
                <div class="location-details">
                    <div class="location-name">${t.name}</div>
                    ${t.building?`<div class="location-building">${t.building}</div>`:""}
                    ${t.room?`<div class="location-room">${t.room}</div>`:""}
                    ${a?`<div class="location-address">${a}</div>`:""}
                </div>
            </div>
        `}buildPresenterSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-user"></i> Presenter</h3>
                <div class="presenter-details">
                    <div class="presenter-name">${t.name}</div>
                    ${t.bio?`<div class="presenter-bio">${t.bio}</div>`:""}
                </div>
            </div>
        `}buildDescriptionSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-info-circle"></i> Description</h3>
                <div class="description-content">
                    ${t}
                </div>
            </div>
        `}buildAgendaSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-list"></i> Agenda</h3>
                <div class="agenda-list">
                    ${t.map(a=>`
            <div class="agenda-item">
                <div class="agenda-time">${a.time}</div>
                <div class="agenda-content">
                    <div class="agenda-title">${a.item}</div>
                    ${a.presenter?`<div class="agenda-presenter">Presenter: ${a.presenter}</div>`:""}
                </div>
            </div>
        `).join("")}
                </div>
            </div>
        `}buildSpecialNotesSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-exclamation-circle"></i> Special Notes</h3>
                <ul class="special-notes">
                    ${t.map(a=>`<li>${a}</li>`).join("")}
                </ul>
            </div>
        `}buildRequirementsSection(t){let n=`
            <div class="detail-section">
                <h3><i class="fas fa-clipboard-check"></i> Requirements</h3>
                <div class="requirements-list">
        `;if(t.rsvpRequired!==void 0&&(n+=`<div class="requirement-item">
                <i class="fas fa-${t.rsvpRequired?"check":"times"}"></i>
                RSVP ${t.rsvpRequired?"Required":"Not Required"}
            </div>`),t.membershipRequired!==void 0&&(n+=`<div class="requirement-item">
                <i class="fas fa-${t.membershipRequired?"check":"times"}"></i>
                Membership ${t.membershipRequired?"Required":"Not Required"}
            </div>`),t.bringItems&&t.bringItems.length>0){let a=t.bringItems.map(r=>`<li>${r}</li>`).join("");n+=`<div class="requirement-item">
                <strong>Bring:</strong>
                <ul>${a}</ul>
            </div>`}return n+="</div></div>",n}buildContactSection(t){return`
            <div class="detail-section">
                <h3><i class="fas fa-envelope"></i> Contact</h3>
                <div class="contact-details">
                    <div class="contact-name">${t.name}</div>
                    ${t.email?`<div class="contact-email">
                        <a href="mailto:${t.email}">
                            <i class="fas fa-envelope"></i> ${t.email}
                        </a>
                    </div>`:""}
                    ${t.phone?`<div class="contact-phone">
                        <a href="tel:${t.phone}">
                            <i class="fas fa-phone"></i> ${t.phone}
                        </a>
                    </div>`:""}
                </div>
            </div>
        `}setFocusableElements(){let t=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'];this.focusableElements=Array.from(this.modal.querySelectorAll(t.join(","))).filter(n=>!n.disabled&&!n.hidden)}trapFocus(t){if(this.focusableElements.length===0)return;let n=this.focusableElements[0],a=this.focusableElements[this.focusableElements.length-1];t.shiftKey?document.activeElement===n&&(a.focus(),t.preventDefault()):document.activeElement===a&&(n.focus(),t.preventDefault())}capitalizeFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}},Re=new Ie});var Oe,_e,pt=C(()=>{ce();Oe=class{constructor(){this.storageKey=ie.MEETING_REMINDERS,this.settingsKey=ie.REMINDER_SETTINGS,this.reminderTimers=new Map,this.defaultSettings={enabled:!1,reminderTimes:S.DEFAULT_TIMES,showBrowserNotifications:!1,playSound:!1},this.init()}init(){this.loadSettings(),this.checkPermissions(),this.scheduleReminders(),this.createReminderUI(),setInterval(()=>this.checkDueReminders(),F.REMINDER_CHECK_INTERVAL)}loadSettings(){try{let t=localStorage.getItem(this.settingsKey);this.settings=t?{...this.defaultSettings,...JSON.parse(t)}:{...this.defaultSettings}}catch(t){console.warn("Error loading reminder settings:",t),this.settings={...this.defaultSettings}}}saveSettings(){try{localStorage.setItem(this.settingsKey,JSON.stringify(this.settings))}catch(t){console.warn("Error saving reminder settings:",t)}}async checkPermissions(){"Notification"in window?Notification.permission==="default"?this.settings.showBrowserNotifications=!1:Notification.permission==="granted"||(this.settings.showBrowserNotifications=!1):this.settings.showBrowserNotifications=!1}async requestNotificationPermission(){if("Notification"in window){let t=await Notification.requestPermission();return this.settings.showBrowserNotifications=t==="granted",this.saveSettings(),t==="granted"}return!1}setReminders(t){if(!this.settings.enabled)return;this.clearAllReminders();let n=new Date,a=[];t.forEach(r=>{if(r.cancelled)return;let o=new Date(r.date);if(r.time&&r.time.meetingStart){let[s,i]=r.time.meetingStart.split(" "),[l,d]=s.split(":").map(Number),c=l;i==="PM"&&l!==12&&(c+=12),i==="AM"&&l===12&&(c=0),o.setHours(c,d,0,0)}o<=n||this.settings.reminderTimes.forEach(s=>{let i=new Date(o.getTime()-s.minutes*6e4);if(i>n){let l=`${r.id}-${s.minutes}`;a.push({id:l,meetingId:r.id,meetingTitle:r.title,meetingDate:o,reminderDate:i,reminderLabel:s.label,reminderMinutes:s.minutes})}})}),this.saveReminders(a),this.scheduleReminders()}saveReminders(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(n){console.warn("Error saving reminders:",n)}}loadReminders(){try{let t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Error loading reminders:",t),[]}}scheduleReminders(){if(!this.settings.enabled)return;this.clearAllReminders();let t=this.loadReminders(),n=new Date;t.forEach(a=>{let o=new Date(a.reminderDate).getTime()-n.getTime();if(o>0){let s=setTimeout(()=>{this.showReminder(a),this.removeReminder(a.id)},o);this.reminderTimers.set(a.id,s)}})}clearAllReminders(){this.reminderTimers.forEach(t=>clearTimeout(t)),this.reminderTimers.clear()}removeReminder(t){this.reminderTimers.has(t)&&(clearTimeout(this.reminderTimers.get(t)),this.reminderTimers.delete(t));let n=this.loadReminders().filter(a=>a.id!==t);this.saveReminders(n)}checkDueReminders(){if(!this.settings.enabled)return;let t=this.loadReminders(),n=new Date;t.filter(r=>new Date(r.reminderDate)<=n).forEach(r=>{this.showReminder(r),this.removeReminder(r.id)})}showReminder(t){let n=new Date(t.meetingDate),a=n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),r=n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});this.showInPageNotification({title:`Meeting Reminder: ${t.reminderLabel}`,message:`${t.meetingTitle}`,details:`${a} at ${r}`,meetingId:t.meetingId}),this.settings.showBrowserNotifications&&"Notification"in window&&Notification.permission==="granted"&&this.showBrowserNotification(t,a,r),this.settings.playSound&&this.playNotificationSound()}showBrowserNotification(t,n,a){let r=new Notification("SAPA Meeting Reminder",{body:`${t.meetingTitle}
${n} at ${a}`,icon:"/favicon.ico",badge:"/favicon.ico",tag:`sapa-meeting-${t.meetingId}`,requireInteraction:!1});r.onclick=()=>{window.focus(),r.close()},setTimeout(()=>r.close(),S.NOTIFICATION_AUTO_CLOSE)}showInPageNotification(t){let n=document.getElementById("reminder-notification");n&&n.remove();let a=document.createElement("div");a.id="reminder-notification",a.className="reminder-notification",a.innerHTML=`
            <div class="reminder-content">
                <div class="reminder-header">
                    <strong>${t.title}</strong>
                    <button class="reminder-close" aria-label="Close notification">\xD7</button>
                </div>
                <div class="reminder-message">${t.message}</div>
                <div class="reminder-details">${t.details}</div>
                <div class="reminder-actions">
                    <button class="btn btn-sm btn-primary reminder-view">View Details</button>
                    <button class="btn btn-sm btn-light reminder-dismiss">Dismiss</button>
                </div>
            </div>
        `,a.querySelector(".reminder-close").onclick=()=>a.remove(),a.querySelector(".reminder-dismiss").onclick=()=>a.remove(),a.querySelector(".reminder-view").onclick=()=>{window.modal&&t.meetingId,a.remove()},document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.remove()},F.REMINDER_AUTO_DISMISS)}playNotificationSound(){try{let t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),a=t.createGain();n.connect(a),a.connect(t.destination),n.frequency.setValueAtTime(S.SOUND_FREQUENCIES.HIGH,t.currentTime),n.frequency.setValueAtTime(S.SOUND_FREQUENCIES.LOW,t.currentTime+.1),a.gain.setValueAtTime(S.SOUND_VOLUME,t.currentTime),a.gain.exponentialRampToValueAtTime(.01,t.currentTime+S.SOUND_DURATION),n.start(t.currentTime),n.stop(t.currentTime+S.SOUND_DURATION)}catch(t){console.warn("Could not play notification sound:",t)}}createReminderUI(){if(!(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"))return;let t=document.getElementById("reminder-settings-container");t&&(t.innerHTML=`
            <div class="reminder-settings">
                <h3>Meeting Reminders</h3>
                <div class="reminder-controls">
                    <label class="reminder-toggle">
                        <input type="checkbox" ${this.settings.enabled?"checked":""} id="reminder-enabled">
                        Enable meeting reminders
                    </label>
                    
                    <div class="reminder-options ${this.settings.enabled?"":le.DISABLED}">
                        <label class="reminder-option">
                            <input type="checkbox" ${this.settings.showBrowserNotifications?"checked":""} id="browser-notifications">
                            Browser notifications
                        </label>
                        
                        <label class="reminder-option">
                            <input type="checkbox" ${this.settings.playSound?"checked":""} id="play-sound">
                            Play notification sound
                        </label>
                        
                        <div class="reminder-times">
                            <strong>Reminder Times:</strong>
                            ${this.settings.reminderTimes.map(n=>`
                                <div class="reminder-time-item">
                                    <span>${n.label}</span>
                                </div>
                            `).join("")}
                        </div>
                    </div>
                    
                    <div class="reminder-actions">
                        <button class="btn btn-sm btn-primary" id="save-reminder-settings">Save Settings</button>
                        <button class="btn btn-sm btn-secondary" id="test-reminder">Test Reminder</button>
                    </div>
                </div>
            </div>
        `,this.bindUIEvents())}bindUIEvents(){let t=document.getElementById("reminder-enabled"),n=document.getElementById("browser-notifications"),a=document.getElementById("play-sound"),r=document.getElementById("save-reminder-settings"),o=document.getElementById("test-reminder");t&&(t.onchange=()=>{this.settings.enabled=t.checked;let s=document.querySelector(".reminder-options");s&&s.classList.toggle(le.DISABLED,!t.checked)}),n&&(n.onchange=async()=>{if(n.checked){let s=await this.requestNotificationPermission();n.checked=s,this.settings.showBrowserNotifications=s}else this.settings.showBrowserNotifications=!1}),a&&(a.onchange=()=>{this.settings.playSound=a.checked}),r&&(r.onclick=()=>{this.saveSettings(),this.showInPageNotification({title:"Settings Saved",message:"Reminder settings have been updated",details:this.settings.enabled?"Reminders are now enabled":"Reminders are disabled"})}),o&&(o.onclick=()=>{this.showReminder({meetingTitle:"Test Meeting",meetingDate:new Date(Date.now()+S.DEFAULT_TIMES[2].minutes*6e4),reminderLabel:"Test notification",meetingId:"test"})})}enable(){this.settings.enabled=!0,this.saveSettings()}disable(){this.settings.enabled=!1,this.clearAllReminders(),this.saveSettings()}getStats(){let t=this.loadReminders(),n=t.filter(a=>new Date(a.reminderDate)>new Date);return{enabled:this.settings.enabled,totalReminders:t.length,activeReminders:n.length,scheduledTimers:this.reminderTimers.size}}},_e=new Oe});var gt={};G(gt,{default:()=>ra});var _,ra,ft=C(()=>{_=class{constructor(t={}){this.dataUrl=t.dataUrl||"./data/meetings/meetings.json",this.meetings=[],this.metadata={},this.isLoaded=!1,this.isLoading=!1,this.callbacks={onLoad:t.onLoad||(()=>{}),onError:t.onError||(n=>console.error("Meeting loader error:",n))}}async loadData(){if(this.isLoaded||this.isLoading)return{meetings:this.meetings,metadata:this.metadata};this.isLoading=!0;try{let t=await fetch(this.dataUrl);if(!t.ok)throw new Error(`Failed to load meeting data: ${t.statusText}`);let n=await t.json();return this.meetings=n.meetings||[],this.metadata=n.metadata||{},this.isLoaded=!0,this.isLoading=!1,this.callbacks.onLoad(n),n}catch(t){throw this.isLoading=!1,console.error("\u274C Failed to load meeting data:",t),this.callbacks.onError(t),t}}filterMeetingsByDateRange(t,n){if(!this.isLoaded)return console.warn("Meeting data not loaded yet"),[];let a=new Date(t),r=new Date(n);return this.meetings.filter(o=>{let s=new Date(o.date);return s>=a&&s<=r}).sort((o,s)=>new Date(o.date)-new Date(s.date))}getQ3Meetings(){return this.filterMeetingsByDateRange("2025-07-01","2025-09-30")}groupMeetingsByMonth(t){let n={};return t.forEach(a=>{let r=new Date(a.date),o=r.toISOString().slice(0,7),s=r.toLocaleDateString("en-US",{month:"long",year:"numeric"});n[o]||(n[o]={name:s,meetings:[]}),n[o].meetings.push(a)}),n}formatMeetingType(t){if(t.cancelled)return"NO MEETING";switch(t.type){case"business":return"BOG; Show & Tell";case"auction":return"Auction";case"social":return"Bourse";case"regular":return t.presenter?`Program: ${t.title}`:"Program";case"picnic":return"Annual Picnic";case"holiday":return"NO MEETING";default:return t.title||"Meeting"}}getMeetingDetails(t){return t.cancelled?t.title&&t.title.includes("Independence Day")?"Independence Day":t.title&&t.title.includes("Labor Day")?"Labor Day":t.tags&&t.tags.includes("holiday")?"Holiday":"":t.type==="regular"&&t.presenter?`by ${t.presenter.name}`:t.type==="picnic"&&t.location?.name||""}generateCalendarLink(t){return`data/calendar/${t.date}-meeting.ics`}renderMeetingsTable(t,n={}){let{dateRange:a="Q3-2025",showCalendarLinks:r=!0,responsive:o=!0}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Meetings container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading meeting schedule...</div>';return}let s=this.getQ3Meetings(),i=this.groupMeetingsByMonth(s),l=this.generateTableHTML(i,r);t.innerHTML=l}generateTableHTML(t,n){let a=["2025-07","2025-08","2025-09"],o=`
            <table class="meeting-table" style="width: 100%; border-collapse: collapse; font-family: var(--font-body); border-radius: var(--radius-md); overflow: hidden; box-shadow: var(--shadow-sm);">
                <thead>
                    <tr style="background-color: var(--primary); color: white; text-align: center;">
                        ${["July 2025","August 2025","September 2025"].map(i=>`<th style="padding: 1rem; font-size: 1.1rem; background-color: var(--primary-dark); color: var(--accent); font-weight: 700; text-shadow: 0 1px 2px rgba(0,0,0,0.3); width: 33.33%; text-align: center;">${i}</th>`).join("")}
                    </tr>
                </thead>
                <tbody>
        `,s=Math.max(...a.map(i=>t[i]?t[i].meetings.length:0));for(let i=0;i<s;i++){let d=i%2===0?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.6)";o+=`<tr style="background-color: ${d};">`,a.forEach(c=>{let u=t[c],g=u&&u.meetings[i];g?o+=this.generateMeetingCell(g,n):o+='<td style="padding: 0.75rem; border: 1px solid #ddd;"></td>'}),o+="</tr>"}return o+=`
                </tbody>
            </table>
        `,o}generateMeetingCell(t,n){let r=new Date(t.date).getDate(),o=this.formatMeetingType(t),s=this.getMeetingDetails(t),i=t.cancelled,l=n?this.generateCalendarLink(t):null,d="padding: 0.75rem; border: 1px solid #ddd;";i&&(d+=" font-weight: bold; color: var(--primary);");let c=`${r} ${o}`;return s&&!i&&(t.type==="regular"&&t.presenter?c+=`<br><span style="font-size: 0.9rem;">"${t.title}" by ${t.presenter.name}</span>`:s.includes("Day")&&(c+=`<br><span style="font-size: 0.9rem; font-weight: normal;">${s.replace(/[()]/g,"")}</span>`)),`
            <td style="${d}">
                <div class="meeting-entry">
                    <span>${c}</span>
                    ${l&&!i?`
                        <a href="${l}" class="calendar-link" download>
                            <i class="fas fa-calendar-plus" title="Add to Calendar"></i>
                        </a>
                    `:""}
                </div>
            </td>
        `}generateCalendarDownloadSection(){return`
            <div class="calendar-downloads">
                <h4>Calendar Downloads</h4>
                <p>
                    <a href="data/calendar/2025-Q3-schedule.ics" class="btn btn-secondary" download>
                        <i class="fas fa-calendar-download"></i> Download Complete Q3 2025 Schedule
                    </a>
                </p>
                <p class="calendar-note">
                    <small><i class="fas fa-info-circle"></i> 
                    Click the <i class="fas fa-calendar-plus"></i> icon next to individual meetings to add them to your calendar.
                    </small>
                </p>
            </div>
        `}renderMeetingsList(t,n={}){let{dateRange:a="Q3-2025",showDetails:r=!0,groupByMonth:o=!0}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Meetings container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading meetings...</div>';return}let s=this.getQ3Meetings(),i='<div class="meetings-list">';if(o){let l=this.groupMeetingsByMonth(s);Object.keys(l).sort().forEach(d=>{let c=l[d];i+=`
                    <div class="month-section">
                        <h3 class="month-header">${c.name}</h3>
                        <div class="month-meetings">
                            ${c.meetings.map(u=>this.renderMeetingCard(u,r)).join("")}
                        </div>
                    </div>
                `})}else i+=s.map(l=>this.renderMeetingCard(l,r)).join("");i+="</div>",t.innerHTML=i}renderMeetingCard(t,n){let r=new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=this.formatMeetingType(t),s=this.getMeetingDetails(t),i=this.generateCalendarLink(t),l="meeting-card";return t.cancelled?l+=" cancelled":t.type==="regular"&&(l+=" special-program"),`
            <div class="${l}">
                <div class="meeting-header">
                    <div class="meeting-date">${r}</div>
                    <div class="meeting-time">
                        ${t.time?.doorsOpen?`Doors: ${t.time.doorsOpen}`:""}
                        ${t.time?.meetingStart?` | Meeting: ${t.time.meetingStart}`:""}
                    </div>
                </div>
                <div class="meeting-content">
                    <h4 class="meeting-title">${o}</h4>
                    ${s?`<p class="meeting-details">${s}</p>`:""}
                    ${n&&t.description?`<p class="meeting-description">${t.description}</p>`:""}
                    ${t.tags&&t.tags.length>0?`
                        <div class="meeting-tags">
                            ${t.tags.map(d=>`<span class="tag">${this.formatLabel(d)}</span>`).join("")}
                        </div>
                    `:""}
                </div>
                ${t.cancelled?"":`
                    <div class="meeting-actions">
                        <a href="${i}" class="btn btn-sm btn-outline" download>
                            <i class="fas fa-calendar-plus"></i> Add to Calendar
                        </a>
                    </div>
                `}
            </div>
        `}formatLabel(t){return t.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}static addStyles(){if(document.getElementById("meeting-loader-styles"))return;let t=`
            .meetings-list {
                margin: 2rem 0;
            }

            .month-section {
                margin-bottom: 3rem;
            }

            .month-header {
                color: var(--primary, #1a5276);
                border-bottom: 2px solid var(--primary, #1a5276);
                padding-bottom: 0.5rem;
                margin-bottom: 1.5rem;
            }

            .month-meetings {
                display: grid;
                gap: 1rem;
            }

            .meeting-card {
                background: var(--white, #fff);
                border: 1px solid var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                padding: 1.5rem;
                transition: all var(--transition-fast, 0.15s ease);
            }

            .meeting-card:hover {
                box-shadow: var(--shadow-md, 0 4px 6px rgba(0,0,0,0.1));
                transform: translateY(-2px);
            }

            .meeting-card.cancelled {
                background-color: #f8f9fa;
                border-left: 4px solid var(--medium, #7f8c8d);
                opacity: 0.7;
            }

            .meeting-card.special-program {
                border-left: 4px solid var(--accent, #f1c40f);
            }

            .meeting-header {
                margin-bottom: 1rem;
            }

            .meeting-date {
                font-size: 1.1rem;
                font-weight: 600;
                color: var(--primary, #1a5276);
            }

            .meeting-time {
                font-size: 0.9rem;
                color: var(--medium, #7f8c8d);
                margin-top: 0.25rem;
            }

            .meeting-title {
                margin: 0 0 0.5rem 0;
                color: var(--dark, #2c3e50);
                font-size: 1.2rem;
            }

            .meeting-details {
                color: var(--medium, #7f8c8d);
                font-style: italic;
                margin-bottom: 0.5rem;
            }

            .meeting-description {
                line-height: 1.6;
                margin-bottom: 1rem;
            }

            .meeting-tags {
                margin-bottom: 1rem;
            }

            .meeting-tags .tag {
                display: inline-block;
                background: var(--accent, #f1c40f);
                color: var(--dark, #2c3e50);
                padding: 0.25rem 0.5rem;
                margin: 0.125rem;
                border-radius: var(--radius-sm, 3px);
                font-size: 0.8rem;
            }

            .meeting-actions {
                border-top: 1px solid var(--light, #ecf0f1);
                padding-top: 1rem;
                margin-top: 1rem;
            }

            .btn-sm {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .btn-outline {
                background: transparent;
                border: 1px solid var(--primary, #1a5276);
                color: var(--primary, #1a5276);
            }

            .btn-outline:hover {
                background: var(--primary, #1a5276);
                color: var(--white, #fff);
            }

            .calendar-downloads {
                margin-top: 2rem;
                padding: 1.5rem;
                background-color: var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                text-align: center;
            }

            .calendar-downloads h4 {
                margin-top: 0;
                color: var(--primary, #1a5276);
            }

            .calendar-note {
                margin-top: 1rem;
                color: var(--medium, #7f8c8d);
            }

            .meeting-entry.cancelled {
                opacity: 0.6;
                color: var(--medium, #7f8c8d);
            }

            .meeting-entry.special-program {
                background-color: #fff9c4;
                border-left: 3px solid var(--accent, #f1c40f);
                padding-left: 0.5rem;
            }

            .meeting-date-type {
                margin-bottom: 0.25rem;
            }

            .calendar-link {
                margin-top: 0.5rem;
            }

            .calendar-link a {
                color: var(--primary, #1a5276);
                text-decoration: none;
                font-size: 1.1rem;
            }

            .calendar-link a:hover {
                color: var(--primary-light, #2980b9);
            }

            .loading {
                text-align: center;
                padding: 3rem;
                color: var(--medium, #7f8c8d);
                font-size: 1.1rem;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .meeting-card {
                    padding: 1rem;
                }
                
                .meeting-header {
                    margin-bottom: 0.75rem;
                }
                
                .meeting-date {
                    font-size: 1rem;
                }
                
                .meeting-time {
                    font-size: 0.8rem;
                }
            }
        `,n=document.createElement("style");n.id="meeting-loader-styles",n.textContent=t,document.head.appendChild(n)}};typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>_.addStyles()):_.addStyles());ra=_;typeof window<"u"&&(window.MeetingLoader=_)});var vt={};G(vt,{CalendarComponent:()=>ae,default:()=>oa});var ae,oa,yt=C(()=>{mt();ut();ht();pt();ae=class e{constructor(t,n){this.containerId=t,this.meetingsData=n,this.calendar=null,this.events=[],this.isLazyLoaded=!1,this.isLazyLoaded||this.init()}static async lazyLoad(t,n=null){return new Promise((a,r)=>{try{if(!n)Promise.resolve().then(()=>(ft(),gt)).then(({meetingLoader:o})=>o.loadMeetings()).then(o=>{let s=new e(t.id,o);s.isLazyLoaded=!0,s.init(),a(s)}).catch(r);else{let o=new e(t.id,n);o.isLazyLoaded=!0,o.init(),a(o)}}catch(o){r(o)}})}async init(){try{this.meetingsData&&(this.events=z.convertToCalendarEvents(this.meetingsData)),this.createCalendar()}catch(t){console.error("Error initializing calendar:",t),this.showError("Failed to initialize calendar")}}createCalendar(){let t=document.getElementById(this.containerId);if(!t){console.error(`Calendar container with ID "${this.containerId}" not found`);return}t.innerHTML="";let n=document.createElement("div");n.className="calendar-container";let a=document.createElement("div");a.id="vanilla-calendar",a.className="vanilla-calendar",n.appendChild(a),t.appendChild(n),this.createEventLegend(t),this.calendar=new dt(a,{type:"default",settings:{lang:"en",iso8601:!1,selection:{day:"single",month:!0,year:!0},selected:{dates:[],month:new Date().getMonth(),year:new Date().getFullYear()},visibility:{theme:"system",themeDetect:!0,monthShort:!0,weekNumbers:!1,weekend:!0,today:!0,rangeDisabled:!1},range:{min:"1970-01-01",max:"2030-12-31"}},actions:{clickDay:(r,o)=>this.handleDayClick(r,o),changeMonth:(r,o)=>this.handleMonthChange(r,o),changeYear:(r,o)=>this.handleYearChange(r,o)}}),this.calendar.init(),this.updateCalendarEvents(),this.meetingsData&&this.meetingsData.meetings&&_e.setReminders(this.meetingsData.meetings)}createEventLegend(t){let n=document.createElement("div");n.className="event-indicators",n.innerHTML=`
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--primary);"></div>
                <span>Business Meetings</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--secondary);"></div>
                <span>Auctions</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--success);"></div>
                <span>Social Events</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: #8e44ad;"></div>
                <span>Presentations</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--danger);"></div>
                <span>Holidays</span>
            </div>
            <div class="event-indicator">
                <div class="event-indicator-dot" style="background: var(--warning);"></div>
                <span>Special Events</span>
            </div>
        `,t.appendChild(n)}updateCalendarEvents(){!this.calendar||!this.events.length||this.addEventDots()}addEventDots(){setTimeout(()=>{this.calendar.HTMLElement.querySelectorAll(".vc-date").forEach(n=>{let a=n.getAttribute("data-vc-date");if(!a)return;let r=this.events.filter(o=>o.date===a);r.length>0&&(n.querySelectorAll(".calendar-event").forEach(s=>s.remove()),r.slice(0,3).forEach((s,i)=>{let l=document.createElement("div");l.className=`calendar-event event-${s.type}`,s.cancelled&&l.classList.add("cancelled"),i===1?l.style.right="10px":i===2&&(l.style.right="18px"),n.appendChild(l)}),n.style.cursor="pointer",n.setAttribute("data-has-events","true"))})},100)}handleDayClick(t,n){let a=t.target.getAttribute("data-vc-date");if(!a)return;let r=this.events.filter(o=>o.date===a);if(r.length>0)if(r.length===1){let o=this.findMeetingById(r[0].id);o&&Re.open(o)}else{let o=this.findMeetingById(r[0].id);o&&Re.open(o)}}handleMonthChange(t,n){setTimeout(()=>{this.addEventDots()},100)}handleYearChange(t,n){setTimeout(()=>{this.addEventDots()},100)}findMeetingById(t){return!this.meetingsData||!this.meetingsData.meetings?null:this.meetingsData.meetings.find(n=>n.id===t)}updateMeetings(t){this.meetingsData=t,this.events=z.convertToCalendarEvents(t),this.updateCalendarEvents(),t&&t.meetings&&_e.setReminders(t.meetings)}showLoading(){let t=document.getElementById(this.containerId);t&&(t.innerHTML='<div class="calendar-loading">Loading calendar...</div>')}showError(t){let n=document.getElementById(this.containerId);n&&(n.innerHTML=`
                <div class="calendar-error">
                    <h3>Calendar Error</h3>
                    <p>${t}</p>
                    <button onclick="location.reload()" class="btn btn-primary">Reload Page</button>
                </div>
            `)}getUpcomingEvents(t=5){return z.getUpcomingEvents(this.events,t)}getNextMeeting(){return z.getNextMeeting(this.events)}destroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}},oa=ae});var bt={};G(bt,{default:()=>sa});var H,sa,Et=C(()=>{H=class{constructor(t={}){this.dataUrl=t.dataUrl||"./data/newsletters/newsletters.json",this.newsletters=[],this.metadata={},this.isLoaded=!1,this.isLoading=!1,this.callbacks={onLoad:t.onLoad||(()=>{}),onError:t.onError||(n=>console.error("Newsletter loader error:",n))}}async loadData(){if(this.isLoaded||this.isLoading)return{newsletters:this.newsletters,metadata:this.metadata};this.isLoading=!0;try{let t=await fetch(this.dataUrl);if(!t.ok)throw new Error(`Failed to load newsletter data: ${t.statusText}`);let n=await t.json();return this.newsletters=n.newsletters||[],this.metadata=n.metadata||{},this.isLoaded=!0,this.isLoading=!1,this.callbacks.onLoad(n),n}catch(t){throw this.isLoading=!1,console.error("\u274C Failed to load newsletter data:",t),this.callbacks.onError(t),t}}getNewslettersByYear(){if(!this.isLoaded)return console.warn("Newsletter data not loaded yet"),{};let t={};return this.newsletters.forEach(n=>{let a=n.year;t[a]||(t[a]=[]),t[a].push(n)}),Object.keys(t).forEach(n=>{t[n].sort((a,r)=>{let o={First:1,Second:2,Third:3,Fourth:4};return(o[r.quarter]||0)-(o[a.quarter]||0)})}),t}filterNewsletters(t={}){if(!this.isLoaded)return console.warn("Newsletter data not loaded yet"),[];let n=[...this.newsletters];return t.year&&(n=n.filter(a=>a.year===t.year)),t.quarter&&(n=n.filter(a=>a.quarter===t.quarter)),t.tags&&t.tags.length>0&&(n=n.filter(a=>t.tags.some(r=>a.tags&&a.tags.includes(r)))),(t.dateFrom||t.dateTo)&&(n=n.filter(a=>{let r=new Date(a.publishDate),o=t.dateFrom?new Date(t.dateFrom):new Date("1900-01-01"),s=t.dateTo?new Date(t.dateTo):new Date("2099-12-31");return r>=o&&r<=s})),n.sort((a,r)=>new Date(r.publishDate)-new Date(a.publishDate)),n}getAvailableYears(){return this.isLoaded?[...new Set(this.newsletters.map(n=>n.year))].sort((n,a)=>a-n):[]}getAvailableQuarters(){return["First","Second","Third","Fourth"]}getAvailableTags(){if(!this.isLoaded)return[];let t=new Set;return this.newsletters.forEach(n=>{n.tags&&n.tags.forEach(a=>t.add(a))}),Array.from(t).sort()}renderArchive(t,n={}){let{groupByYear:a=!0,showFilters:r=!1,sortOrder:o="desc"}=n;if(typeof t=="string"&&(t=document.querySelector(t)),!t)throw new Error("Archive container not found");if(!this.isLoaded){t.innerHTML='<div class="loading">Loading newsletter archive...</div>';return}let s="";r&&(s+=this.renderFilters()),a?s+=this.renderByYear(o):s+=this.renderFlat(o),t.innerHTML=s,r&&this.initializeFilters(t)}renderFilters(){let t=this.getAvailableYears(),n=this.getAvailableQuarters(),a=this.getAvailableTags();return`
            <div class="archive-filters">
                <h3>Filter Newsletters</h3>
                <div class="filter-row">
                    <div class="filter-group">
                        <label for="year-filter">Year:</label>
                        <select id="year-filter" class="filter-select">
                            <option value="">All Years</option>
                            ${t.map(r=>`<option value="${r}">${r}</option>`).join("")}
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="quarter-filter">Quarter:</label>
                        <select id="quarter-filter" class="filter-select">
                            <option value="">All Quarters</option>
                            ${n.map(r=>`<option value="${r}">${r}</option>`).join("")}
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="tags-filter">Tags:</label>
                        <select id="tags-filter" class="filter-select" multiple>
                            ${a.map(r=>`<option value="${r}">${this.formatLabel(r)}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="apply-filters" class="btn btn-primary">Apply Filters</button>
                    <button id="clear-filters" class="btn btn-secondary">Clear Filters</button>
                </div>
            </div>
        `}renderByYear(t="desc"){let n=this.getNewslettersByYear();return Object.keys(n).sort((r,o)=>t==="desc"?o-r:r-o).map(r=>`
            <div class="archive-year-section">
                <h2 class="archive-year-header">${r} Newsletter Archive</h2>
                <div class="archive-grid">
                    ${n[r].map(o=>this.renderNewsletterCard(o)).join("")}
                </div>
            </div>
        `).join("")}renderFlat(t="desc"){return`
            <div class="archive-grid">
                ${[...this.newsletters].sort((a,r)=>{let o=new Date(a.publishDate),s=new Date(r.publishDate);return t==="desc"?s-o:o-s}).map(a=>this.renderNewsletterCard(a)).join("")}
            </div>
        `}renderNewsletterCard(t){let n=new Date(t.publishDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),a=t.featuredArticles||[],r=t.highlights||[],o=t.tags||[];return`
            <div class="archive-item" data-year="${t.year}" data-quarter="${t.quarter}">
                <div class="archive-item-header">
                    <h3>SAPA PHILATEX</h3>
                    <p>${t.quarter} Quarter ${t.year}</p>
                </div>
                <div class="archive-item-content">
                    <p><strong>Published:</strong> ${n}</p>
                    <p class="newsletter-description">${t.description}</p>
                    
                    ${a.length>0?`
                        <div class="featured-articles">
                            <h4>Featured Articles:</h4>
                            <ul>
                                ${a.map(s=>`
                                    <li>
                                        <strong>${s.title}</strong>
                                        ${s.author?` by ${s.author}`:""}
                                        ${s.page?` (p. ${s.page})`:""}
                                        ${s.category?` <em>[${s.category}]</em>`:""}
                                    </li>
                                `).join("")}
                            </ul>
                        </div>
                    `:""}
                    
                    ${r.length>0?`
                        <div class="highlights">
                            <h4>Highlights:</h4>
                            <ul>
                                ${r.map(s=>`<li>${s}</li>`).join("")}
                            </ul>
                        </div>
                    `:""}
                    
                    ${o.length>0?`
                        <div class="newsletter-tags">
                            ${o.map(s=>`<span class="tag">${this.formatLabel(s)}</span>`).join("")}
                        </div>
                    `:""}
                    
                    <div class="newsletter-meta">
                        ${t.pageCount?`<span class="meta-item"><i class="fas fa-file-alt"></i> ${t.pageCount} pages</span>`:""}
                        ${t.fileSize?`<span class="meta-item"><i class="fas fa-download"></i> ${t.fileSize}</span>`:""}
                    </div>
                    
                    <a href="${t.filePath}" class="btn btn-primary" target="_blank">
                        <i class="fas fa-file-pdf"></i> Download PDF
                    </a>
                </div>
            </div>
        `}initializeFilters(t){let n=t.querySelector("#year-filter"),a=t.querySelector("#quarter-filter"),r=t.querySelector("#tags-filter"),o=t.querySelector("#apply-filters"),s=t.querySelector("#clear-filters");o&&o.addEventListener("click",()=>{let i={year:n?.value?parseInt(n.value):null,quarter:a?.value||null,tags:r?Array.from(r.selectedOptions).map(l=>l.value):[]};this.applyFilters(t,i)}),s&&s.addEventListener("click",()=>{n&&(n.value=""),a&&(a.value=""),r&&Array.from(r.options).forEach(i=>i.selected=!1),this.renderArchive(t,{groupByYear:!0,showFilters:!0})})}applyFilters(t,n){let a=this.filterNewsletters(n);if(a.length===0){let d=t.querySelector(".archive-year-section, .archive-grid");d&&(d.outerHTML=`
                    <div class="no-results">
                        <h3>No newsletters found</h3>
                        <p>No newsletters match the selected criteria. Try adjusting your filters.</p>
                    </div>
                `);return}let r={};a.forEach(d=>{let c=d.year;r[c]||(r[c]=[]),r[c].push(d)});let s=Object.keys(r).sort((d,c)=>c-d).map(d=>`
            <div class="archive-year-section">
                <h2 class="archive-year-header">${d} Newsletter Archive</h2>
                <div class="archive-grid">
                    ${r[d].map(c=>this.renderNewsletterCard(c)).join("")}
                </div>
            </div>
        `).join(""),i=t.querySelector(".archive-filters"),l=i?i.nextElementSibling:t.firstElementChild;l?l.outerHTML=s:t.innerHTML+=s}formatLabel(t){return t.replace(/-/g," ").replace(/\b\w/g,n=>n.toUpperCase())}static addStyles(){if(document.getElementById("newsletter-archive-styles"))return;let t=`
            .archive-filters {
                background-color: var(--light, #ecf0f1);
                padding: 1.5rem;
                border-radius: var(--radius-md, 5px);
                margin-bottom: 2rem;
                border: 1px solid #ddd;
            }

            .archive-filters h3 {
                margin-top: 0;
                margin-bottom: 1rem;
                color: var(--primary, #1a5276);
            }

            .filter-row {
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
                margin-bottom: 1rem;
                align-items: center;
            }

            .filter-group {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .filter-group label {
                font-weight: 600;
                color: var(--dark, #2c3e50);
            }

            .filter-select {
                padding: 0.5rem;
                border: 1px solid var(--medium, #7f8c8d);
                border-radius: var(--radius-sm, 3px);
                background-color: var(--white, #fff);
                font-size: 0.9rem;
                min-width: 120px;
            }

            .filter-select[multiple] {
                min-height: 100px;
                min-width: 160px;
            }

            .filter-actions {
                display: flex;
                gap: 1rem;
            }

            .newsletter-description {
                line-height: 1.6;
                margin-bottom: 1rem;
            }

            .featured-articles,
            .highlights {
                margin-bottom: 1rem;
            }

            .featured-articles h4,
            .highlights h4 {
                margin-bottom: 0.5rem;
                color: var(--primary, #1a5276);
                font-size: 1rem;
            }

            .featured-articles ul,
            .highlights ul {
                margin: 0;
                padding-left: 1.5rem;
            }

            .featured-articles li,
            .highlights li {
                margin-bottom: 0.25rem;
            }

            .newsletter-tags {
                margin-bottom: 1rem;
            }

            .newsletter-tags .tag {
                display: inline-block;
                background: var(--accent, #f1c40f);
                color: var(--dark, #2c3e50);
                padding: 0.25rem 0.5rem;
                margin: 0.125rem;
                border-radius: var(--radius-sm, 3px);
                font-size: 0.8rem;
            }

            .newsletter-meta {
                display: flex;
                gap: 1rem;
                margin-bottom: 1rem;
                font-size: 0.9rem;
                color: var(--medium, #7f8c8d);
            }

            .meta-item {
                display: flex;
                align-items: center;
                gap: 0.25rem;
            }

            .no-results {
                text-align: center;
                padding: 3rem;
                background-color: var(--light, #ecf0f1);
                border-radius: var(--radius-md, 5px);
                margin: 2rem 0;
            }

            .no-results h3 {
                color: var(--medium, #7f8c8d);
                margin-bottom: 1rem;
            }

            .loading {
                text-align: center;
                padding: 3rem;
                color: var(--medium, #7f8c8d);
                font-size: 1.1rem;
            }

            /* Mobile responsive */
            @media (max-width: 768px) {
                .filter-row {
                    flex-direction: column;
                    align-items: stretch;
                }

                .filter-group {
                    width: 100%;
                }

                .filter-select {
                    width: 100%;
                    min-width: auto;
                }

                .filter-actions {
                    flex-direction: column;
                }

                .newsletter-meta {
                    flex-direction: column;
                    gap: 0.5rem;
                }
            }
        `,n=document.createElement("style");n.id="newsletter-archive-styles",n.textContent=t,document.head.appendChild(n)}};typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>H.addStyles()):H.addStyles());sa=H;typeof window<"u"&&(window.NewsletterLoader=H)});var xa={};G(xa,{setupContactForm:()=>Mt,setupImageGallery:()=>ga});var M=class{constructor(t={}){this.componentName=t.componentName||"Unknown Component",this.fallbackUI=t.fallbackUI||this.createDefaultFallback(),this.onError=t.onError||this.defaultErrorHandler,this.retryCallback=t.retryCallback||null,this.maxRetries=t.maxRetries||0,this.currentRetries=0,this.container=t.container||null}wrap(t,n=null){return(...a)=>{try{let r=t.apply(n,a);return r&&typeof r.catch=="function"?r.catch(o=>this.handleError(o)):r}catch(r){return this.handleError(r)}}}wrapAsync(t,n=null){return async(...a)=>{try{return await t.apply(n,a)}catch(r){return this.handleError(r)}}}handleError(t){return console.error(`[${this.componentName}] Error caught by boundary:`,t),this.onError(t,this.componentName),this.container&&this.showFallbackUI(t),this.retryCallback&&this.currentRetries<this.maxRetries&&(this.currentRetries++,console.log(`[${this.componentName}] Retrying... (${this.currentRetries}/${this.maxRetries})`),setTimeout(()=>{try{this.retryCallback()}catch(n){console.error(`[${this.componentName}] Retry failed:`,n)}},1e3*this.currentRetries)),null}showFallbackUI(t){if(!this.container)return;let n=typeof this.fallbackUI=="function"?this.fallbackUI(t,this.componentName):this.fallbackUI;if(this.container.innerHTML="",typeof n=="string"?this.container.innerHTML=n:n instanceof HTMLElement&&this.container.appendChild(n),this.retryCallback&&this.currentRetries<this.maxRetries){let a=document.createElement("button");a.textContent="Retry",a.className="btn btn-primary mt-2",a.onclick=()=>{this.container.innerHTML="",this.retryCallback()},this.container.appendChild(a)}}createDefaultFallback(){return(t,n)=>`
            <div class="error-boundary-fallback" style="
                background-color: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
                border-radius: 0.375rem;
                padding: 1rem;
                margin: 1rem 0;
                text-align: center;
            ">
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-exclamation-triangle"></i>
                    Something went wrong
                </h4>
                <p style="margin-bottom: 0.5rem;">
                    The ${n} component encountered an error and couldn't load properly.
                </p>
                <details style="margin-top: 0.5rem; font-size: 0.875rem;">
                    <summary style="cursor: pointer; color: #495057;">
                        Technical Details
                    </summary>
                    <pre style="
                        background-color: #f8f9fa;
                        padding: 0.5rem;
                        border-radius: 0.25rem;
                        margin-top: 0.5rem;
                        overflow-x: auto;
                        font-size: 0.75rem;
                        text-align: left;
                    ">${t.message}
${t.stack||""}</pre>
                </details>
            </div>
        `}defaultErrorHandler(t,n){console.error(`[ErrorBoundary] ${n}:`,t),typeof gtag<"u"&&gtag("event","exception",{description:`${n}: ${t.message}`,fatal:!1});try{let a=JSON.parse(localStorage.getItem("errorBoundaryLog")||"[]");a.push({timestamp:new Date().toISOString(),component:n,message:t.message,stack:t.stack,userAgent:navigator.userAgent}),a.length>50&&a.splice(0,a.length-50),localStorage.setItem("errorBoundaryLog",JSON.stringify(a))}catch(a){console.warn("Failed to log error to localStorage:",a)}}reset(){this.currentRetries=0}},se=class{constructor(){this.setupGlobalHandlers(),this.errorCount=0,this.maxErrors=10,this.timeWindow=6e4,this.errorTimes=[]}setupGlobalHandlers(){window.addEventListener("error",t=>{this.handleGlobalError(t.error,t.filename,t.lineno,t.colno)}),window.addEventListener("unhandledrejection",t=>{this.handleGlobalError(t.reason,"Promise rejection",0,0),t.preventDefault()})}handleGlobalError(t,n,a,r){let o=Date.now();if(this.errorTimes=this.errorTimes.filter(i=>o-i<this.timeWindow),this.errorTimes.length>=this.maxErrors){console.warn("Too many errors detected. Stopping error boundary logging to prevent spam.");return}this.errorTimes.push(o);let s={message:t?.message||t||"Unknown error",source:n||"Unknown source",line:a||0,column:r||0,stack:t?.stack||"",timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("[GlobalErrorBoundary] Uncaught error:",s),typeof gtag<"u"&&gtag("event","exception",{description:`Global: ${s.message}`,fatal:!1}),this.showErrorNotification(s)}showErrorNotification(t){let n=document.getElementById("global-error-notification");n||(n=document.createElement("div"),n.id="global-error-notification",n.style.cssText=`
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: #f8d7da;
                color: #721c24;
                border: 1px solid #f5c6cb;
                border-radius: 0.375rem;
                padding: 1rem;
                max-width: 300px;
                z-index: 9999;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                display: none;
            `,n.innerHTML=`
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <span style="font-weight: bold;">
                        <i class="fas fa-exclamation-triangle"></i>
                        Something went wrong
                    </span>
                    <button id="close-error-notification" style="
                        background: none;
                        border: none;
                        font-size: 1.2rem;
                        cursor: pointer;
                        color: #721c24;
                        padding: 0;
                        margin-left: 0.5rem;
                    ">&times;</button>
                </div>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.875rem;">
                    We've encountered an unexpected error. The page may not work correctly.
                    Please refresh to try again.
                </p>
            `,document.body.appendChild(n),document.getElementById("close-error-notification").onclick=()=>{n.style.display="none"},setTimeout(()=>{n&&(n.style.display="none")},1e4)),n.style.display="block"}},Ma=new se;ce();var V=class{constructor(t={}){this.options={rootMargin:D.ROOT_MARGIN,threshold:D.THRESHOLD,loadingClass:D.CLASSES.LOADING,loadedClass:D.CLASSES.LOADED,errorClass:D.CLASSES.ERROR,...t},this.observer=null,this.loaders=new Map,this.init()}init(){"IntersectionObserver"in window?this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:this.options.rootMargin,threshold:this.options.threshold}):console.warn("IntersectionObserver not supported, loading all components immediately")}observe(t,n,a={}){if(!t||typeof n!="function"){console.error("LazyLoader: Invalid element or load function");return}let r={loadFunction:n,loaded:!1,loading:!1,retries:0,maxRetries:a.maxRetries||D.MAX_RETRIES,fallbackContent:a.fallbackContent||null,placeholder:a.placeholder||null,...a};this.loaders.set(t,r),r.placeholder&&this.showPlaceholder(t,r.placeholder),this.observer?this.observer.observe(t):this.loadComponent(t,r)}handleIntersection(t){t.forEach(n=>{if(n.isIntersecting){let a=n.target,r=this.loaders.get(a);r&&!r.loaded&&!r.loading&&this.loadComponent(a,r)}})}async loadComponent(t,n){if(!(n.loading||n.loaded)){n.loading=!0,t.classList.add(this.options.loadingClass);try{this.showLoadingIndicator(t),await n.loadFunction(t),n.loaded=!0,n.loading=!1,t.classList.remove(this.options.loadingClass),t.classList.add(this.options.loadedClass),this.observer&&this.observer.unobserve(t),this.hideLoadingIndicator(t)}catch(a){console.error("[LazyLoader] Failed to load component:",a),n.loading=!1,n.retries++,n.retries<n.maxRetries?setTimeout(()=>{this.loadComponent(t,n)},F.RETRY_DELAY_BASE*n.retries):this.showError(t,n,a)}}}showPlaceholder(t,n){let a=typeof n=="function"?n():n;t.innerHTML=a}showLoadingIndicator(t){let n=document.createElement("div");if(n.className="lazy-loading-indicator",n.style.cssText=`
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background-color: #f8f9fa;
            border-radius: var(--radius-md, 5px);
            color: var(--medium, #666);
            font-size: 0.875rem;
        `,n.innerHTML=`
            <div style="text-align: center;">
                <div style="margin-bottom: 0.5rem;">
                    <div class="spinner" style="
                        border: 2px solid #e9ecef;
                        border-top: 2px solid var(--primary, #007bff);
                        border-radius: 50%;
                        width: ${D.SPINNER_SIZE}px;
                        height: ${D.SPINNER_SIZE}px;
                        animation: spin 1s linear infinite;
                        margin: 0 auto;
                    "></div>
                </div>
                <div>Loading...</div>
            </div>
        `,!document.querySelector("#lazy-loader-styles")){let a=document.createElement("style");a.id="lazy-loader-styles",a.textContent=`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `,document.head.appendChild(a)}t.appendChild(n)}hideLoadingIndicator(t){let n=t.querySelector(".lazy-loading-indicator");n&&n.remove()}showError(t,n,a){t.classList.add(this.options.errorClass),this.hideLoadingIndicator(t);let r=n.fallbackContent||this.getDefaultErrorContent(),o=document.createElement("div");o.className="lazy-error-content",o.style.cssText=`
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
            border-radius: var(--radius-md, 5px);
            padding: 1rem;
            text-align: center;
        `,typeof r=="function"?o.innerHTML=r(a):o.innerHTML=r;let s=document.createElement("button");s.textContent="Retry",s.className="btn btn-sm btn-outline-primary mt-2",s.style.cssText=`
            background: none;
            border: 1px solid var(--primary, #007bff);
            color: var(--primary, #007bff);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-sm, 3px);
            cursor: pointer;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        `,s.onclick=()=>{n.retries=0,n.loaded=!1,n.loading=!1,t.classList.remove(this.options.errorClass),o.remove(),this.loadComponent(t,n)},o.appendChild(s),t.appendChild(o)}getDefaultErrorContent(){return`
            <div>
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-exclamation-triangle"></i>
                    Failed to Load
                </h4>
                <p style="margin-bottom: 0;">
                    This component couldn't be loaded. Please try again.
                </p>
            </div>
        `}forceLoad(t){let n=this.loaders.get(t);n&&!n.loaded&&this.loadComponent(t,n)}unobserve(t){this.observer&&this.observer.unobserve(t),this.loaders.delete(t)}destroy(){this.observer&&this.observer.disconnect(),this.loaders.clear()}},de=class e extends V{constructor(t={}){super({placeholder:e.getCalendarPlaceholder,fallbackContent:e.getCalendarError,...t})}static getCalendarPlaceholder(){return`
            <div class="calendar-placeholder" style="
                background-color: #f8f9fa;
                border: 2px dashed #dee2e6;
                border-radius: var(--radius-md, 5px);
                padding: 2rem;
                text-align: center;
                min-height: ${D.CALENDAR_MIN_HEIGHT||300}px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                color: var(--medium, #666);
            ">
                <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3 style="margin-bottom: 0.5rem; color: var(--dark, #333);">Calendar</h3>
                <p style="margin: 0; font-size: 0.875rem;">
                    Calendar will load when you scroll down
                </p>
            </div>
        `}static getCalendarError(t){return`
            <div>
                <h4 style="margin-bottom: 0.5rem;">
                    <i class="fas fa-calendar-times"></i>
                    Calendar Unavailable
                </h4>
                <p style="margin-bottom: 0.5rem;">
                    Unable to load the meeting calendar. Please try refreshing the page.
                </p>
                <p style="font-size: 0.875rem; margin: 0; opacity: 0.7;">
                    For meeting information, email: <a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a>
                </p>
            </div>
        `}},Aa=new V,me=new de;function b(e,t=document){try{return t.querySelector(e)}catch(n){return console.warn(`Failed to query selector "${e}":`,n),null}}function ue(e,t=null){try{let n=localStorage.getItem(e);return n!==null?JSON.parse(n):t}catch(n){return console.warn(`Failed to get localStorage item "${e}":`,n),t}}function he(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return console.warn(`Failed to set localStorage item "${e}":`,n),!1}}var j=new Map;function He(e,t){let n;return function(...r){let o=()=>{clearTimeout(n),e(...r)};clearTimeout(n),n=setTimeout(o,t)}}function w(e,t,n,a){e.addEventListener(t,n,a),j.has(e)||j.set(e,[]),j.get(e).push({event:t,handler:n,options:a})}function ia(){j.forEach((e,t)=>{e.forEach(({event:n,handler:a,options:r})=>{t.removeEventListener(n,a,r)})}),j.clear()}function la(e,t=new Date){try{let n=new Date(e);if(isNaN(n.getTime()))throw new Error("Invalid date format");return n}catch(n){return console.error(`Failed to parse date "${e}":`,n),t}}async function Dt(e,t={},n=3){for(let a=0;a<n;a++)try{let r=await fetch(e,t);if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return r}catch(r){if(a===n-1)throw r;console.warn(`Fetch attempt ${a+1} failed, retrying...`,r),await new Promise(o=>setTimeout(o,1e3*Math.pow(2,a)))}}document.addEventListener("DOMContentLoaded",function(){try{let e=(d,c,u=null)=>new M({componentName:d,container:u,onError:(g,v)=>{console.error(`[${v}] Component failed:`,g),typeof gtag<"u"&&gtag("event","exception",{description:`Component failure: ${v}`,fatal:!1})},retryCallback:()=>{try{c()}catch(g){console.error(`[${d}] Retry failed:`,g)}},maxRetries:1}).wrap(c),t=e("Mobile Viewport",ca),n=e("Mobile Menu",da),a=e("Back to Top",ma),r=e("Event Countdown",ua),o=e("Form Validation",ha),s=e("Accordion",pa),i=e("Theme Toggle",va),l=e("Contact Form",Mt);t(),n(),a(),r(),o(),s(),i(),l(),wa()}catch(e){console.error("Error during page initialization:",e);let t=document.createElement("div");t.className="error-banner",t.style.cssText=`
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #d32f2f;
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 10000;
            font-family: Arial, sans-serif;
        `,t.textContent="Some features may not work properly. Please refresh the page.",document.body.insertBefore(t,document.body.firstChild),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},5e3)}});function ca(){function e(){let n=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${n}px`)}e();let t=He(e,250);if(w(window,"resize",t),w(window,"orientationchange",function(){setTimeout(e,100)}),/iPad|iPhone|iPod/.test(navigator.userAgent)){let n=He(e,150);w(window,"scroll",n)}}function da(){}function ma(){try{let e=b("#back-to-top");if(!e){console.info("Back to top button not found - feature not available on this page");return}let t=He(function(){try{window.scrollY>300?e.style.display="block":e.style.display="none"}catch(n){console.error("Error updating back to top button visibility:",n)}},100);w(window,"scroll",t),w(e,"click",function(n){try{n.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}catch(a){console.error("Error scrolling to top:",a);try{window.scrollTo(0,0)}catch(r){console.error("Fallback scroll failed:",r)}}})}catch(e){console.error("Error setting up back to top button:",e)}}function ua(){try{let e=b("#event-countdown");if(!e){console.info("Event countdown element not found - feature not available on this page");return}let t=e.getAttribute("data-event-date");if(!t){console.warn("Event countdown missing data-event-date attribute");return}let a=la(t).getTime();if(isNaN(a)){console.error("Invalid event date:",t),e.innerHTML="";let o=E("span",{className:"countdown-error",textContent:"Invalid event date"});e.appendChild(o);return}let r=setInterval(function(){try{let o=new Date().getTime(),s=a-o;if(s<0){clearInterval(r),e.innerHTML="";let g=E("span",{className:"countdown-complete",textContent:"Event is happening now!"});e.appendChild(g);return}let i=Math.floor(s/(1e3*60*60*24)),l=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),d=Math.floor(s%(1e3*60*60)/(1e3*60)),c=Math.floor(s%(1e3*60)/1e3);e.innerHTML="";let u=(g,v)=>{let y=E("div",{className:"countdown-unit"}),x=E("span",{className:"countdown-number",textContent:String(g)}),I=E("span",{className:"countdown-label",textContent:v+(g!==1?"s":"")});return y.appendChild(x),y.appendChild(I),y};e.appendChild(u(i,"Day")),e.appendChild(u(l,"Hour")),e.appendChild(u(d,"Minute")),e.appendChild(u(c,"Second"))}catch(o){console.error("Error updating countdown display:",o),clearInterval(r),e.innerHTML="";let s=E("span",{className:"countdown-error",textContent:"Countdown error"});e.appendChild(s)}},1e3)}catch(e){console.error("Error setting up event countdown:",e)}}function ha(){try{let e=b("#contact-form");if(!e){console.info("Contact form not found - feature not available on this page");return}w(e,"submit",function(t){t.preventDefault();let n=!0,a=e.querySelectorAll("[required]");e.querySelectorAll(".error-message").forEach(s=>s.remove()),a.forEach(s=>{if(s.classList.remove("error"),!s.value.trim()){n=!1,s.classList.add("error");let i=document.createElement("p");i.classList.add("error-message"),i.textContent="This field is required",s.parentNode.appendChild(i)}});let o=e.querySelector('input[type="email"]');if(o&&o.value.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value)){n=!1,o.classList.add("error");let i=document.createElement("p");i.classList.add("error-message"),i.textContent="Please enter a valid email address",o.parentNode.appendChild(i)}if(n){let s=e.querySelector('button[type="submit"]'),i=s.textContent;s.disabled=!0,s.textContent="Sending...";let l={name:e.querySelector('[name="name"]').value.trim(),email:e.querySelector('[name="email"]').value.trim(),phone:e.querySelector('[name="phone"]')?.value.trim()||"",subject:e.querySelector('[name="subject"]').value.trim(),message:e.querySelector('[name="message"]').value.trim()},d="/contact-handler.php";window.location.hostname.includes("netlify")&&(d="/.netlify/functions/contact-form"),Dt(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(c=>{if(!c.ok)throw new Error(`Server responded with ${c.status}: ${c.statusText}`);return c.json()}).then(c=>{if(c.success){e.style.display="none";let u=document.createElement("div");u.classList.add("success-message");let g=E("h3",{textContent:"Thank you for your message!"}),v=E("p",{textContent:re(c.message||"We've received your inquiry and will respond as soon as possible.")}),y=E("button",{className:"btn btn-primary mt-3",textContent:"Send Another Message"});y.id="send-another",u.appendChild(g),u.appendChild(v),u.appendChild(y),e.parentNode.appendChild(u);let x=document.getElementById("send-another");x&&w(x,"click",function(){e.reset(),u.remove(),e.style.display="block"})}else c.errors&&Object.keys(c.errors).forEach(u=>{let g=e.querySelector(`[name="${u}"]`);if(g){g.classList.add("error");let v=g.parentNode.querySelector(".error-message");v&&v.remove();let y=document.createElement("p");y.classList.add("error-message"),y.textContent=c.errors[u],g.parentNode.appendChild(y)}}),s.disabled=!1,s.textContent=i}).catch(c=>{console.error("Form submission error:",c);let u=document.createElement("div");u.classList.add("error-message","form-error"),u.textContent="An error occurred. Please try again later.",e.insertBefore(u,e.firstChild),s.disabled=!1,s.textContent=i,setTimeout(()=>{u.remove()},5e3)})}})}catch(e){console.error("Error setting up form validation:",e)}}function pa(){let e=document.querySelectorAll(".accordion-header");e.length&&e.forEach(t=>{w(t,"click",function(){this.classList.toggle("active");let n=this.nextElementSibling;if(n.style.maxHeight){n.style.maxHeight=null;let a=this.querySelector("i");a&&a.classList.replace("fa-chevron-up","fa-chevron-down")}else{n.style.maxHeight=n.scrollHeight+"px";let a=this.querySelector("i");a&&a.classList.replace("fa-chevron-down","fa-chevron-up")}})})}function ga(){let e=document.querySelectorAll(".gallery-image"),t=document.querySelector(".lightbox");if(!e.length||!t)return;e.forEach(a=>{w(a,"click",function(){let r=this.getAttribute("data-full-img")||this.src,o=this.getAttribute("alt"),s=t.querySelector(".lightbox-img"),i=t.querySelector(".lightbox-caption");s.src=r,i.textContent=o,t.classList.add("active"),document.body.classList.add("no-scroll")})});let n=t.querySelector(".lightbox-close");n&&w(n,"click",function(){t.classList.remove("active"),document.body.classList.remove("no-scroll")}),w(t,"click",function(a){a.target===t&&(t.classList.remove("active"),document.body.classList.remove("no-scroll"))}),w(document,"keydown",function(a){a.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),document.body.classList.remove("no-scroll"))})}document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{w(e,"click",function(t){t.preventDefault();let n=this.getAttribute("href"),a=document.querySelector(n);a&&(a.scrollIntoView({behavior:"smooth"}),history.pushState(null,null,n))})});function fa(){let e=window.location.pathname.split("/").pop();document.querySelectorAll("nav a").forEach(n=>{let a=n.getAttribute("href");(a===e||e===""&&a==="index.html")&&(n.classList.add("active"),n.setAttribute("aria-current","page"))})}fa();"serviceWorker"in navigator?window.addEventListener("load",()=>{try{navigator.serviceWorker.register("/sw.js").then(()=>{}).catch(e=>{console.warn("ServiceWorker registration failed:",e)})}catch(e){console.warn("ServiceWorker registration error:",e)}}):console.info("ServiceWorker not supported in this browser");function va(){try{let e=ue("theme","light");try{e==="dark"&&document.documentElement.setAttribute("data-theme","dark")}catch(n){console.error("Error applying saved theme:",n)}let t=document.querySelectorAll(".theme-toggle");if(t.length===0){console.info("No theme toggle buttons found");return}t.forEach(n=>{w(n,"click",function(){try{let r=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";r==="dark"?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),he("theme",r)||console.warn("Failed to save theme preference");let s=r==="dark"?"Switch to light mode":"Switch to dark mode";t.forEach(i=>i.setAttribute("aria-label",s))}catch(a){console.error("Error toggling theme:",a)}});try{let r=(document.documentElement.getAttribute("data-theme")==="dark"?"dark":"light")==="dark"?"Switch to light mode":"Switch to dark mode";n.setAttribute("aria-label",r)}catch(a){console.error("Error setting initial aria-label:",a)}})}catch(e){console.error("Error setting up theme toggle:",e)}}function Mt(){try{let e=b("#contact-form");if(!e)return;wt(),w(e,"submit",async function(t){t.preventDefault();let n=b("#submit-btn"),a=b("#loading-spinner"),r=b("#form-message");try{if(!ya("contact_form",3,36e5)){r&&(r.innerHTML='<div class="error-message" style="color: var(--danger); background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 1rem; border-radius: var(--radius-md); margin-top: 1rem;"><i class="fas fa-exclamation-triangle"></i> Too many submissions. Please wait before trying again.</div>');return}let o={name:l.name,email:l.email,phone:l.phone,subject:l.subject,message:l.message},s={};if(Object.keys(o).forEach(g=>{if(o[g]){let v=ba(o[g],g);v.isValid||(s[g]=v.errors.join(", "))}}),Object.keys(s).length>0){xt(s);return}Ea(),r&&(r.innerHTML=""),n&&(n.style.display="none"),a&&(a.style.display="inline-block");let i=new FormData(e),l=Object.fromEntries(i.entries()),d=window.location.hostname.includes("netlify")||window.location.hostname.includes("vercel")?"/.netlify/functions/contact-form":"contact-handler.php",u=await(await Dt(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)},2)).json();if(u.success){if(r){r.innerHTML="";let g=E("div",{className:"success-message",style:{color:"var(--success)",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),v=E("i",{className:"fas fa-check-circle"});g.appendChild(v),g.appendChild(document.createTextNode(" "+re(u.message))),r.appendChild(g)}e.reset(),wt()}else if(u.errors&&xt(u.errors),r&&!Object.keys(u.errors||{}).length){r.innerHTML="";let g=E("div",{className:"error-message",style:{color:"var(--danger)",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),v=E("i",{className:"fas fa-exclamation-triangle"});g.appendChild(v),g.appendChild(document.createTextNode(" There was an error sending your message. Please try again.")),r.appendChild(g)}}catch(o){if(console.error("Contact form submission error:",o),r){r.innerHTML="";let s=E("div",{className:"error-message",style:{color:"var(--danger)",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"var(--radius-md)",marginTop:"1rem"}}),i=E("i",{className:"fas fa-exclamation-triangle"});s.appendChild(i),s.appendChild(document.createTextNode(" Network error. Please check your connection and try again.")),r.appendChild(s)}}finally{n&&(n.style.display="inline-block"),a&&(a.style.display="none")}})}catch(e){console.error("Error setting up contact form:",e)}}function ya(e,t=3,n=36e5){try{let a=`rate_limit_${e}`,r=Date.now(),o=ue(a,[]),i=(Array.isArray(o)?o:[]).filter(l=>r-l<n);return i.length>=t?!1:(i.push(r),he(a,i),!0)}catch(a){return console.warn("Rate limiting check failed:",a),!0}}function ba(e,t="text"){let n={isValid:!0,sanitized:e,errors:[]},a=[/<script[^>]*>.*?<\/script>/gi,/javascript:/gi,/vbscript:/gi,/onload=/gi,/onerror=/gi,/onclick=/gi];for(let r of a)if(r.test(e)){n.isValid=!1,n.errors.push("Invalid characters detected");break}switch(t){case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(n.isValid=!1,n.errors.push("Invalid email format"));break;case"phone":e&&!/^[\d\s\-\(\)\+\.]{10,}$/.test(e)&&(n.isValid=!1,n.errors.push("Invalid phone format"));break;case"text":default:e.length>5e3&&(n.isValid=!1,n.errors.push("Input too long"));break}return n.sanitized=re(e),n}async function wt(){try{let e=window.location.hostname.includes("netlify")||window.location.hostname.includes("vercel")?"/.netlify/functions/contact-form":"csrf-token.php",n=await(await fetch(e)).json(),a=b("#csrf-token");a&&n.csrf_token&&(a.value=n.csrf_token)}catch(e){console.error("Error fetching CSRF token:",e)}}function xt(e){Object.keys(e).forEach(t=>{let n=b(`#${t}-error`),a=b(`#${t}`);n&&(n.textContent=re(e[t]),n.style.color="var(--danger)",n.style.fontSize="0.875rem",n.style.marginTop="0.25rem"),a&&(a.style.borderColor="var(--danger)")})}function Ea(){let e=document.querySelectorAll(".error-message"),t=document.querySelectorAll("#contact-form .form-control");e.forEach(n=>{n.textContent=""}),t.forEach(n=>{n.style.borderColor=""})}function E(e,t={}){let n=document.createElement(e);return t.textContent&&(n.textContent=t.textContent),t.className&&(n.className=t.className),t.style&&Object.assign(n.style,t.style),n}function re(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function wa(){try{let e=b("#meeting-schedule-container");if(e){let s=new M({componentName:"Meeting Schedule",container:e,onError:i=>{console.error("[Meeting Schedule] Failed to load:",i)},maxRetries:2})}document.querySelectorAll('.calendar-container, #calendar-container, [class*="calendar"], [id*="calendar"]').forEach((s,i)=>{s&&me.observe(s,async l=>{let{CalendarComponent:d}=await Promise.resolve().then(()=>(yt(),vt));return await new M({componentName:`Calendar ${i+1}`,container:l,maxRetries:2}).wrapAsync(async()=>await d.lazyLoad(l))()},{maxRetries:2,fallbackContent:l=>`
                            <div class="calendar-error" style="
                                background-color: #fff3cd;
                                color: #856404;
                                border: 1px solid #ffc107;
                                border-radius: var(--radius-md);
                                padding: 1rem;
                                text-align: center;
                            ">
                                <h3><i class="fas fa-calendar-times"></i> Calendar Unavailable</h3>
                                <p>Unable to load the calendar. Please try refreshing the page or contact us for meeting dates.</p>
                                <p style="font-size: 0.875rem; margin-top: 0.5rem;">
                                    Email: <a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a>
                                </p>
                            </div>
                        `})});let n=b(".search-container, #search-container");if(n){let s=new M({componentName:"Search",container:n,fallbackUI:i=>`
                    <div class="search-error" style="
                        background-color: #f8d7da;
                        color: #721c24;
                        border: 1px solid #f5c6cb;
                        border-radius: var(--radius-md);
                        padding: 1rem;
                        text-align: center;
                    ">
                        <h3><i class="fas fa-search-minus"></i> Search Unavailable</h3>
                        <p>The search feature is temporarily unavailable. Please try browsing our sections instead.</p>
                        <div style="margin-top: 1rem;">
                            <a href="newsletter.html" class="btn btn-primary" style="margin-right: 0.5rem;">Newsletters</a>
                            <a href="meetings.html" class="btn btn-primary">Meetings</a>
                        </div>
                    </div>
                `,maxRetries:1})}if(document.querySelectorAll('.newsletter-content, [class*="newsletter"], [id*="newsletter"]').forEach((s,i)=>{(s.dataset.lazy==="true"||s.classList.contains("dynamic-content")||s.querySelector(".loading, .spinner"))&&me.observe(s,async l=>{let{newsletterLoader:d}=await Promise.resolve().then(()=>(Et(),bt)),c=await d.loadNewsletters();c&&c.length>0&&(l.innerHTML=c.map(u=>`
                                <div class="newsletter-item">
                                    <h4>${u.title}</h4>
                                    <p>${u.description}</p>
                                    <a href="${u.url}" target="_blank" class="btn btn-primary">
                                        <i class="fas fa-file-pdf"></i> View PDF
                                    </a>
                                </div>
                            `).join(""))},{placeholder:()=>`
                            <div class="newsletter-placeholder" style="
                                background-color: #f8f9fa;
                                border: 2px dashed #dee2e6;
                                border-radius: var(--radius-md);
                                padding: 2rem;
                                text-align: center;
                                color: var(--medium);
                            ">
                                <i class="fas fa-newspaper" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                                <p>Newsletter content will load when scrolled into view</p>
                            </div>
                        `,fallbackContent:l=>`
                            <div class="newsletter-error" style="
                                background-color: #e7f3ff;
                                color: #0066cc;
                                border: 1px solid #b3d9ff;
                                border-radius: var(--radius-md);
                                padding: 1rem;
                                text-align: center;
                            ">
                                <h4><i class="fas fa-newspaper"></i> Newsletter Content Unavailable</h4>
                                <p>Unable to load newsletter content. Please contact us for the latest issues.</p>
                            </div>
                        `,maxRetries:1})}),b("#contact-form")){let s=b("#form-message"),i=new M({componentName:"Contact Form Component",container:s,fallbackUI:l=>`
                    <div class="contact-form-error" style="
                        background-color: #f8d7da;
                        color: #721c24;
                        border: 1px solid #f5c6cb;
                        border-radius: var(--radius-md);
                        padding: 1rem;
                        text-align: center;
                    ">
                        <h4><i class="fas fa-exclamation-triangle"></i> Contact Form Error</h4>
                        <p>The contact form is experiencing issues. Please email us directly:</p>
                        <p><strong><a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a></strong></p>
                    </div>
                `,maxRetries:2})}document.querySelectorAll('[id*="schedule"], [id*="events"], [class*="loading"]').forEach((s,i)=>{let l=new M({componentName:`Dynamic Content ${i+1}`,container:s,maxRetries:1})})}catch(e){console.error("Error setting up dynamic content boundaries:",e)}}window.addEventListener("beforeunload",ia);return Lt(xa);})();
/*! Bundled license information:

vanilla-calendar-pro/index.mjs:
  (*! name: vanilla-calendar-pro v3.0.4 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro *)
*/
