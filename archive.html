<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XW5LFQ52YR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XW5LFQ52YR');
</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com https://cdnjs.cloudflare.com https://unpkg.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' data: https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https://www.google-analytics.com https://www.googletagmanager.com; connect-src 'self' https://www.google-analytics.com; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests;">
    <meta name="description" content="Browse the complete archive of SAPA PHILATEX newsletters from the San Antonio Philatelic Association. Access past issues with philatelic articles, club news, and stamp collecting resources.">
    <meta name="keywords" content="SAPA PHILATEX archive, San Antonio Philatelic Association newsletter archive, stamp collecting newsletter archive, philately publication history, past newsletters">

    <title>Newsletter Archive - San Antonio Philatelic Association</title>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sastamps.org/archive.html">
    <meta property="og:title" content="Newsletter Archive - San Antonio Philatelic Association">
    <meta property="og:description" content="Browse the complete archive of SAPA PHILATEX newsletters from the San Antonio Philatelic Association. Access past issues with philatelic articles, club news, and stamp collecting resources.">
    <meta property="og:image" content="dist/images/newsletter-page-image.webp">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sastamps.org/archive.html">
    <meta property="twitter:title" content="Newsletter Archive - San Antonio Philatelic Association">
    <meta property="twitter:description" content="Browse the complete archive of SAPA PHILATEX newsletters from the San Antonio Philatelic Association. Access past issues with philatelic articles, club news, and stamp collecting resources.">
    <meta property="twitter:image" content="dist/images/newsletter-page-image.webp">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&amp;family=Open+Sans:wght@400;600;700&amp;display=swap" rel="stylesheet">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->

    <style class="critical-css">
        :root{--primary:#1a5276;--primary-light:#2980b9;--primary-dark:#0e2f44;--secondary:#d35400;--accent:#f1c40f;--dark:#2c3e50;--medium:#7f8c8d;--light:#ecf0f1;--white:#fff;--success:#27ae60;--warning:#f39c12;--danger:#c0392b;--font-heading:"Merriweather",Georgia,serif;--font-body:"Open Sans",Arial,sans-serif;--space-xxs:0.25rem;--space-xs:0.5rem;--space-sm:0.75rem;--space-md:1rem;--space-lg:1.5rem;--space-xl:2rem;--space-xxl:3rem;--container-sm:640px;--container-md:768px;--container-lg:1024px;--container-xl:1280px;--radius-sm:3px;--radius-md:5px;--radius-lg:8px;--radius-xl:12px;--shadow-sm:0 1px 3px #0000001f;--shadow-md:0 4px 6px #0000001a;--shadow-lg:0 10px 15px -3px #0000001a;--transition-fast:0.15s ease;--transition-normal:0.25s ease;--transition-slow:0.4s ease}
body{background-color:var(--white);color:var(--dark);font-family:var(--font-body);font-size:1rem;line-height:1.6}
h1,h2,h3,h4,h5,h6{color:var(--dark);font-family:var(--font-heading);font-weight:700;line-height:1.3;margin-bottom:1rem}
h1{font-size:2.5rem}
h2{font-size:2rem}
h3{font-size:1.75rem}
img{display:block;height:auto;max-width:100%}
button,input,select,textarea{font-family:var(--font-body);font-size:1rem}
.container{margin:0 auto;max-width:var(--container-xl);padding:0 1.5rem;width:100%}
@media (max-width:768px){.grid-cols-2,.grid-cols-3{grid-template-columns:1fr}
header{background-color:var(--white);box-shadow:var(--shadow-sm);padding:1rem 0;position:sticky;top:0;z-index:50}
.header-container{align-items:center;display:flex;justify-content:space-between}
nav ul{display:flex;list-style:none;margin:0;padding:0}
nav li{margin-left:1.5rem}
nav a{color:var(--dark);font-weight:600;padding:.5rem 0;position:relative;text-decoration:none;transition:color var(--transition-fast)}
nav a:hover{color:var(--primary)}
nav a:after{background-color:var(--primary);bottom:0;content:"";height:2px;left:0;position:absolute;transition:width var(--transition-normal);width:0}
nav a:hover:after{width:100%}
@media (max-width:768px){.menu-toggle{display:block}
.nav-menu{background-color:var(--white);box-shadow:var(--shadow-lg);flex-direction:column;height:100vh;justify-content:flex-start;max-width:300px;padding:2rem;position:fixed;right:-100%;top:0;transition:right var(--transition-normal);width:80%;z-index:60}
.nav-menu.active{right:0}
nav li{margin:0 0 1.5rem}
nav a:after{display:none}
.footer-section h3{color:var(--white);font-size:1.2rem;margin-bottom:1rem}
.hero{background-color:var(--primary);padding:var(--space-xxl) 0;text-align:center}
.hero,.hero h1{color:var(--white)}
.hero h1{font-size:2.75rem;margin-bottom:1rem}
.hero p{font-size:1.25rem;margin:0 auto;max-width:800px}
.card{background-color:var(--white);border-radius:var(--radius-md);box-shadow:var(--shadow-md);margin-bottom:1.5rem;overflow:hidden;transition:transform var(--transition-normal),box-shadow var(--transition-normal)}
.card:hover{box-shadow:var(--shadow-lg);transform:translateY(-5px)}
.card-content{padding:1.5rem}
.card-title{font-size:1.5rem;margin-bottom:1rem}
.card-image{height:200px;object-fit:cover;width:100%}
.text-center{text-align:center}
.timeline-content h3{color:var(--primary);margin-bottom:.5rem;margin-top:0}
@media screen and (max-width:768px){.timeline:after{left:20px}
.officer-img{height:200px;overflow:hidden;width:100%}
.officer-img img{height:100%;object-fit:cover;width:100%}
.placeholder-img{align-items:center;background-color:var(--light);color:var(--medium);display:flex;height:100%;justify-content:center;width:100%}
.accordion-header{align-items:center;background-color:var(--white);border:none;cursor:pointer;display:flex;font-weight:600;justify-content:space-between;padding:1.25rem;text-align:left;transition:background-color var(--transition-fast);width:100%}
.accordion-header:hover{background-color:var(--light)}
.accordion-header.active{background-color:var(--primary);color:var(--white)}
@media (max-width:576px){html{font-size:14px}
h1{font-size:2rem}
h2{font-size:1.75rem}
.hero,.section{padding:var(--space-xl) 0}
.hero h1{font-size:2.25rem}
.hero p{font-size:1.125rem}
.container{padding:0 1rem}
@media print{body{background-color:#fff;color:#000;font-size:12pt}
.container{max-width:100%;padding:0}
#back-to-top,.hero,footer,header{display:none}
.card{border:1px solid #ddd;box-shadow:none}
.card:hover{box-shadow:none;transform:none}
.nav-icon{color:var(--primary);font-size:1.2rem;height:auto;margin-right:8px;width:auto}
.nav-menu li a:hover .nav-icon,.nav-menu li.active .nav-icon{color:var(--accent)}
@media (max-width:768px){.nav-icon{font-size:1rem;margin-right:5px}
.location-card h3{font-size:1.2rem;margin-bottom:.75rem}
@media screen and (max-width:428px){.meeting-table{font-size:.85rem}
.location-card h3{font-size:1.1rem}
.header-container{padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right)}
.container{padding-left:max(1rem,env(safe-area-inset-left));padding-right:max(1rem,env(safe-area-inset-right))}
@media screen and (max-width:375px){.meeting-table{font-size:.8rem}
@media screen and (max-height:428px) and (orientation:landscape){.meeting-entry{align-items:center;flex-direction:row;justify-content:space-between}
    </style>
    <link rel="preload" href="dist/css/styles.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="dist/css/styles.min.css"></noscript>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="dist/images/favicon.webp">
    <link rel="icon" type="image/png" sizes="16x16" href="dist/images/favicon.webp">
    <link rel="apple-touch-icon" sizes="180x180" href="dist/images/favicon.webp">
    <link rel="manifest" href="site.webmanifest">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://sastamps.org/archive.html">

    <style id="blur-up-style">
        .blur-up {
            filter: blur(5px);
            transition: filter 400ms;
        }
        .blur-up.loaded {
            filter: blur(0);
        }
    </style>





    <style>
        /* Font loading states */
        .fonts-loading body {
            opacity: 0.8;
        }

        .fonts-loaded body {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        /* Font fallbacks */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        .fonts-loaded body {
            font-family: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, serif;
        }

        .fonts-loaded h1,
        .fonts-loaded h2,
        .fonts-loaded h3,
        .fonts-loaded h4,
        .fonts-loaded h5,
        .fonts-loaded h6 {
            font-family: 'Merriweather', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, serif;
        }

        /* Archive specific styles */
        .archive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .archive-item {
            background-color: var(--white);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
            overflow: hidden;
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }

        .archive-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .archive-item-header {
            background-color: var(--accent);
            padding: 1.5rem;
            text-align: center;
        }

        .archive-item-header h3 {
            margin: 0;
            color: var(--dark);
            font-size: 1.25rem;
        }

        .archive-item-header p {
            margin: 0.5rem 0 0;
            font-weight: bold;
            font-size: 1rem;
            color: var(--dark);
        }

        .archive-item-content {
            padding: 1.5rem;
        }

        .archive-item-content p {
            margin-bottom: 1rem;
            color: var(--medium);
        }

        .archive-year-section {
            margin-bottom: 3rem;
        }

        .archive-year-header {
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .newsletter-tags {
            margin-bottom: 1rem;
        }

        .newsletter-tags .tag {
            display: inline-block;
            background: var(--accent);
            color: var(--dark);
            padding: 0.25rem 0.5rem;
            margin: 0.125rem;
            border-radius: var(--radius-sm);
            font-size: 0.8rem;
        }

        .newsletter-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: var(--medium);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        @media (max-width: 768px) {
            .archive-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .newsletter-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>





    <style>
        /* Font loading states */
        .fonts-loading body {
            opacity: 0.8;
        }

        .fonts-loaded body {
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        /* Font fallbacks */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        .fonts-loaded body {
            font-family: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, serif;
        }

        .fonts-loaded h1,
        .fonts-loaded h2,
        .fonts-loaded h3,
        .fonts-loaded h4,
        .fonts-loaded h5,
        .fonts-loaded h6 {
            font-family: 'Merriweather', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, serif;
        }
    </style>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to content</a>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <h1 class="site-title"><a href="index.html">San Antonio Philatelic Association</a></h1>
            <nav class="flex-center">
                <button class="menu-toggle" aria-expanded="false" aria-controls="nav-menu">
                    <i class="fas fa-bars"></i><span class="sr-only">Menu</span>
                </button>
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="index.html"><i class="fas fa-home nav-icon"></i>Home</a></li>
                    <li><a href="about.html"><i class="fas fa-info-circle nav-icon"></i>About</a></li>
                    <li><a href="meetings.html"><i class="fas fa-calendar nav-icon"></i>Meetings</a></li>
                    <li><a href="newsletter.html"><i class="fas fa-newspaper nav-icon"></i>Newsletter</a></li>
                    <li><a href="archive.html"><i class="fas fa-archive nav-icon"></i>Archive</a></li>
                    <li><a href="membership.html"><i class="fas fa-users nav-icon"></i>Membership</a></li>
                    <li><a href="resources.html"><i class="fas fa-book nav-icon"></i>Resources</a></li>
                    <li><a href="glossary.html"><i class="fas fa-spell-check nav-icon"></i>Glossary</a></li>
                    <li><a href="contact.html"><i class="fas fa-envelope nav-icon"></i>Contact</a></li>
                    <li><a href="search.html"><i class="fas fa-search nav-icon"></i>Search</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Hero Section -->
        <section class="hero hero-overlay hero-archive">
            <div class="container">
                <h1>Newsletter Archive</h1>
                <p>Browse our collection of SAPA PHILATEX newsletters, documenting our club's rich history and philatelic knowledge since 1954.</p>
            </div>
        </section>

        <!-- Archive Info Section -->
        <section class="section">
            <div class="container">
                <div class="card">
                    <div class="card-content">
                        <h2 class="section-title">About Our Archive</h2>
                        <p>Welcome to the SAPA PHILATEX newsletter archive. Here you can access past issues of our quarterly publication, which has been sharing philatelic knowledge, club news, and collecting resources with our members since 1954. Each issue contains valuable information about stamp collecting, upcoming events, member contributions, and highlights from our meetings.</p>
                        <p>The newsletters are published quarterly on January 1, April 1, July 1, and October 1 of each year. All newsletters are available in PDF format for easy viewing and downloading.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Archive Section -->
        <section class="section">
            <div class="container">
                <div class="archive-year-section">
                    <h2 class="archive-year-header">2026 Newsletter Archive</h2>

                    <div class="archive-grid">
                        <!-- First Quarter 2026 -->
                        <div class="archive-item">
                            <div class="archive-item-header">
                                <h3>SAPA PHILATEX</h3>
                                <p>First Quarter 2026</p>
                            </div>
                            <div class="archive-item-content">
                                <p><strong>Published:</strong> January 1, 2026</p>
                                <p>Features new editor Jim Durham's introduction, Q1 meeting calendar with updated location at MacArthur Park Lutheran Church, USPS 2026 stamp preview, and updated Board of Governors listing.</p>
                                <div class="newsletter-tags">
                                    <span class="tag">2026</span>
                                    <span class="tag">Q1</span>
                                    <span class="tag">New Editor</span>
                                    <span class="tag">USPS</span>
                                    <span class="tag">Meetings</span>
                                </div>
                                <div class="newsletter-meta">
                                    <span class="meta-item"><i class="fas fa-file-alt"></i> 3 pages</span>
                                    <span class="meta-item"><i class="fas fa-download"></i> 268 KB</span>
                                </div>
                                <a href="public/SAPA-PHILATEX-First-Quarter-2026.pdf" class="btn btn-primary" target="_blank">
                                    <i class="fas fa-file-pdf"></i> Download PDF
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="archive-year-section">
                    <h2 class="archive-year-header">2025 Newsletter Archive</h2>

                    <div class="archive-grid">
                        <!-- Fourth Quarter 2025 -->
                        <div class="archive-item">
                            <div class="archive-item-header">
                                <h3>SAPA PHILATEX</h3>
                                <p>Fourth Quarter 2025</p>
                            </div>
                            <div class="archive-item-content">
                                <p><strong>Published:</strong> October 1, 2025</p>
                                <p>Features the October-December meeting calendar, year-end activities, holiday schedule adjustments, 2026 membership renewal information, upcoming stamp shows, and special programs on postal history and rare stamp collections.</p>
                                <div class="newsletter-tags">
                                    <span class="tag">2025</span>
                                    <span class="tag">Q4</span>
                                    <span class="tag">Holidays</span>
                                    <span class="tag">Year-End</span>
                                    <span class="tag">Membership</span>
                                </div>
                                <div class="newsletter-meta">
                                    <span class="meta-item"><i class="fas fa-file-alt"></i> 12 pages</span>
                                    <span class="meta-item"><i class="fas fa-download"></i> 2.5 MB</span>
                                </div>
                                <a href="public/SAPA-PHILATEX-Fourth-Quarter-2025.pdf" class="btn btn-primary" target="_blank">
                                    <i class="fas fa-file-pdf"></i> Download PDF
                                </a>
                            </div>
                        </div>

                        <!-- Third Quarter 2025 -->
                        <div class="archive-item">
                            <div class="archive-item-header">
                                <h3>SAPA PHILATEX</h3>
                                <p>Third Quarter 2025</p>
                            </div>
                            <div class="archive-item-content">
                                <p><strong>Published:</strong> July 1, 2025</p>
                                <p>Features the July-September meeting calendar, annual "Blue Chip" auction details, Greater Houston Stamp Show information, TSDA show schedule, 2025 membership drive, and programs on US Air Mail History and Classic Mexican Stamps.</p>
                                <div class="newsletter-tags">
                                    <span class="tag">2025</span>
                                    <span class="tag">Auction</span>
                                    <span class="tag">Meetings</span>
                                    <span class="tag">Air Mail</span>
                                    <span class="tag">Mexican Stamps</span>
                                </div>
                                <div class="newsletter-meta">
                                    <span class="meta-item"><i class="fas fa-file-alt"></i> 12 pages</span>
                                    <span class="meta-item"><i class="fas fa-download"></i> 2.1 MB</span>
                                </div>
                                <a href="public/SAPA-PHILATEX-Third-Quarter-2025.pdf" class="btn btn-primary" target="_blank">
                                    <i class="fas fa-file-pdf"></i> Download PDF
                                </a>
                            </div>
                        </div>

                        <!-- Second Quarter 2025 -->
                        <div class="archive-item">
                            <div class="archive-item-header">
                                <h3>SAPA PHILATEX</h3>
                                <p>Second Quarter 2025</p>
                            </div>
                            <div class="archive-item-content">
                                <p><strong>Published:</strong> April 1, 2025</p>
                                <p>Contains the April-June meeting schedule, club updates, member spotlights, and special features on recent philatelic discoveries and collecting tips for the spring season.</p>
                                <div class="newsletter-tags">
                                    <span class="tag">2025</span>
                                    <span class="tag">Spring</span>
                                    <span class="tag">Collecting Tips</span>
                                    <span class="tag">Member Spotlight</span>
                                </div>
                                <div class="newsletter-meta">
                                    <span class="meta-item"><i class="fas fa-file-alt"></i> 10 pages</span>
                                    <span class="meta-item"><i class="fas fa-download"></i> 1.8 MB</span>
                                </div>
                                <a href="public/SAPA PHILATEX Second Quarter 2025.pdf" class="btn btn-primary" target="_blank">
                                    <i class="fas fa-file-pdf"></i> Download PDF
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Archive Request Section -->
        <section class="section" style="background-color: var(--light);">
            <div class="container">
                <div class="card">
                    <div class="card-content text-center">
                        <h2>Looking for Older Issues?</h2>
                        <p>We are in the process of digitizing our complete newsletter archive dating back to 1954. If you're looking for a specific issue that's not yet available online, please contact our newsletter editor.</p>
                        <p>Members can also access physical copies of past newsletters at our monthly meetings.</p>
                        <a href="mailto:jsdurham4@gmail.com" class="btn btn-primary">
                            <i class="fas fa-envelope"></i> Contact Newsletter Editor
                        </a>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>San Antonio Philatelic Association</h3>
                    <p>Founded in 1896</p>
                    <p>Chapter #3 of the Texas Philatelic Association</p>
                    <p>Chapter #388 of the American Philatelic Society</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="meetings.html">Meetings</a></li>
                        <li><a href="newsletter.html">Newsletter</a></li>
                        <li><a href="archive.html">Newsletter Archive</a></li>
                        <li><a href="membership.html">Membership</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-envelope"></i> Email: <a href="mailto:loz33@hotmail.com">loz33@hotmail.com</a></p>
                    <p><i class="fas fa-map-marker-alt"></i> Meeting Location: MacArthur Park Lutheran Church, Building 1</p>
                    <p><i class="fas fa-clock"></i> Meetings: Most Friday nights, doors open at 6:30 PM</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 San Antonio Philatelic Association. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Back to top button -->
    <button id="back-to-top" class="back-to-top" title="Back to Top" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="dist/js/script.min.js" defer></script>

    <script id="blur-up-script">
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('img[data-src]').forEach(img => {
                img.onload = function() {
                    img.classList.add('loaded');
                };
                img.src = img.dataset.src;
            });
        });
    </script>

    <script>
        // Font Face Observer script
        (function() {
            class FontFaceObserver {
                constructor(family, options = {}) {
                    this.family = family;
                    this.options = options;
                }

                async load() {
                    try {
                        await document.fonts.load(`1em ${this.family}`, this.options.text || 'BESbswy');
                        return true;
                    } catch (e) {
                        return false;
                    }
                }
            }

            // Load fonts and mark as loaded
            async function loadFonts() {
                document.documentElement.classList.add('fonts-loading');

                const fontLoaders = [
                    new FontFaceObserver('Open Sans', { weight: 400 }).load(),
                    new FontFaceObserver('Open Sans', { weight: 600 }).load(),
                    new FontFaceObserver('Open Sans', { weight: 700 }).load(),
                    new FontFaceObserver('Merriweather', { weight: 400 }).load(),
                    new FontFaceObserver('Merriweather', { weight: 700 }).load()
                ];

                try {
                    await Promise.all(fontLoaders);
                    document.documentElement.classList.remove('fonts-loading');
                    document.documentElement.classList.add('fonts-loaded');
                    localStorage.setItem('fonts-loaded', 'true');
                } catch (err) {
                    document.documentElement.classList.remove('fonts-loading');
                    document.documentElement.classList.add('fonts-failed');
                }
            }

            // Check if fonts were previously loaded
            if (localStorage.getItem('fonts-loaded')) {
                document.documentElement.classList.add('fonts-loaded');
            } else {
                loadFonts();
            }
        })();
    </script>

    <script>
        // Font Face Observer script
        (function() {
            class FontFaceObserver {
                constructor(family, options = {}) {
                    this.family = family;
                    this.options = options;
                }

                async load() {
                    try {
                        await document.fonts.load(`1em ${this.family}`, this.options.text || 'BESbswy');
                        return true;
                    } catch (e) {
                        return false;
                    }
                }
            }

            // Load fonts and mark as loaded
            async function loadFonts() {
                document.documentElement.classList.add('fonts-loading');

                const fontLoaders = [
                    new FontFaceObserver('Open Sans', { weight: 400 }).load(),
                    new FontFaceObserver('Open Sans', { weight: 600 }).load(),
                    new FontFaceObserver('Open Sans', { weight: 700 }).load(),
                    new FontFaceObserver('Merriweather', { weight: 400 }).load(),
                    new FontFaceObserver('Merriweather', { weight: 700 }).load()
                ];

                try {
                    await Promise.all(fontLoaders);
                    document.documentElement.classList.remove('fonts-loading');
                    document.documentElement.classList.add('fonts-loaded');
                    localStorage.setItem('fonts-loaded', 'true');
                } catch (err) {
                    document.documentElement.classList.remove('fonts-loading');
                    document.documentElement.classList.add('fonts-failed');
                }
            }

            // Check if fonts were previously loaded
            if (localStorage.getItem('fonts-loaded')) {
                document.documentElement.classList.add('fonts-loaded');
            } else {
                loadFonts();
            }
        })();
    </script>

<script type="module">
    import {onCLS, onFID, onLCP, onFCP, onTTFB} from 'https://unpkg.com/web-vitals@3.5.2/dist/web-vitals.attribution.js';

    // Performance metrics storage
    const metrics = {
        vitals: {},
        resources: {},
        errors: [],
        navigation: []
    };

    // Initialize monitoring
    function initMonitoring() {
        // Core Web Vitals monitoring
        onCLS(sendToAnalytics);
        onFID(sendToAnalytics);
        onLCP(sendToAnalytics);
        onFCP(sendToAnalytics);
        onTTFB(sendToAnalytics);

        // Resource timing monitoring
        observeResourceTiming();

        // Error monitoring
        observeErrors();

        // Navigation monitoring
        observeNavigation();

        // Font loading monitoring
        observeFonts();

        // Save metrics periodically
        setInterval(saveMetrics, 60000);
    }

    // Send metrics to analytics
    function sendToAnalytics(metric) {
        metrics.vitals[metric.name] = {
            value: metric.value,
            rating: metric.rating,
            delta: metric.delta,
            id: metric.id,
            timestamp: new Date().toISOString()
        };

        // Log to console in development
        if (location.hostname === 'localhost') {
            console.log(metric.name, metric);
        }

        saveMetrics();
    }

    // Observe resource timing
    function observeResourceTiming() {
        const observer = new PerformanceObserver((list) => {
            list.getEntries().forEach(entry => {
                if (entry.initiatorType === 'img' || entry.initiatorType === 'css' || entry.initiatorType === 'script') {
                    metrics.resources[entry.name] = {
                        duration: entry.duration,
                        transferSize: entry.transferSize,
                        initiatorType: entry.initiatorType,
                        timestamp: new Date().toISOString()
                    };
                }
            });
        });

        observer.observe({ entryTypes: ['resource'] });
    }

    // Observe errors
    function observeErrors() {
        window.addEventListener('error', (event) => {
            metrics.errors.push({
                message: event.message,
                filename: event.filename,
                lineno: event.lineno,
                colno: event.colno,
                timestamp: new Date().toISOString()
            });
            saveMetrics();
        });
    }

    // Observe navigation
    function observeNavigation() {
        const observer = new PerformanceObserver((list) => {
            list.getEntries().forEach(entry => {
                metrics.navigation.push({
                    type: entry.type,
                    duration: entry.duration,
                    timestamp: new Date().toISOString()
                });
            });
        });

        observer.observe({ entryTypes: ['navigation'] });
    }

    // Observe font loading
    function observeFonts() {
        if (document.fonts) {
            document.fonts.ready.then(() => {
                metrics.fonts = {
                    loadTime: performance.now(),
                    timestamp: new Date().toISOString()
                };
                saveMetrics();
            });
        }
    }

    // Save metrics to localStorage
    function saveMetrics() {
        try {
            localStorage.setItem('performance_metrics', JSON.stringify(metrics));

            // Send to server if available
            if (typeof sendMetricsToServer === 'function') {
                sendMetricsToServer(metrics);
            }
        } catch (e) {
            console.warn('Failed to save metrics:', e);
        }
    }

    // Initialize monitoring on load
    if (document.readyState === 'complete') {
        initMonitoring();
    } else {
        window.addEventListener('load', initMonitoring);
    }
</script>

<!-- Development monitoring panel -->
<script>
    if (location.hostname === 'localhost') {
        const style = document.createElement('style');
        style.textContent = `
            #monitoring-panel {
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 15px;
                border-radius: 8px;
                font-family: monospace;
                font-size: 12px;
                z-index: 9999;
                max-width: 300px;
                max-height: 400px;
                overflow: auto;
            }
            #monitoring-panel h3 {
                margin: 0 0 10px;
                color: #4CAF50;
            }
            #monitoring-panel div {
                margin-bottom: 8px;
            }
            .metric-good { color: #4CAF50; }
            .metric-needs-improvement { color: #FFC107; }
            .metric-poor { color: #F44336; }
        `;
        document.head.appendChild(style);

        const panel = document.createElement('div');
        panel.id = 'monitoring-panel';
        panel.innerHTML = '<h3>Performance Metrics</h3>';
        document.body.appendChild(panel);

        setInterval(() => {
            const metrics = JSON.parse(localStorage.getItem('performance_metrics') || '{}');
            const vitals = metrics.vitals || {};

            panel.innerHTML = `
                <h3>Performance Metrics</h3>
                <div>
                    CLS: <span class="metric-${vitals.CLS?.rating || 'poor'}">${(vitals.CLS?.value || 0).toFixed(3)}</span>
                </div>
                <div>
                    FID: <span class="metric-${vitals.FID?.rating || 'poor'}">${(vitals.FID?.value || 0).toFixed(1)}ms</span>
                </div>
                <div>
                    LCP: <span class="metric-${vitals.LCP?.rating || 'poor'}">${(vitals.LCP?.value || 0).toFixed(0)}ms</span>
                </div>
                <div>
                    FCP: <span class="metric-${vitals.FCP?.rating || 'poor'}">${(vitals.FCP?.value || 0).toFixed(0)}ms</span>
                </div>
                <div>
                    TTFB: <span class="metric-${vitals.TTFB?.rating || 'poor'}">${(vitals.TTFB?.value || 0).toFixed(0)}ms</span>
                </div>
                <div>
                    Errors: ${metrics.errors?.length || 0}
                </div>
            `;
        }, 1000);
    }
</script>

</body>
</html>
